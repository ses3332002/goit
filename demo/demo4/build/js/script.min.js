"use strict";window.onload=function(){var t,n=document.createElement("div");function s(e){document.getElementById("question1").checked&&EXIF.getData(e,function(){t=Boolean(EXIF.getTag(this,"Make"))?"Камера "+EXIF.getTag(this,"Make")+" "+EXIF.getTag(this,"Model")+", дата и время "+EXIF.getTag(this,"DateTime")+", ISO "+EXIF.getTag(this,"ISOSpeedRatings")+", выдержка 1/"+Math.round(1/EXIF.getTag(this,"ExposureTime"))+", диафрагма "+EXIF.getTag(this,"FNumber"):"",n.innerHTML=t,u.append(n)})}n.classList.add("fs_exif_info");var e=document.querySelectorAll(".theme_selector__btn"),r=document.querySelectorAll(".bg_color_selector__btn"),o=document.querySelector("body");e.forEach(function(e,t){e.style.setProperty("color","hsl("+(10+120*t)+", 85%, 64%)"),e.style.setProperty("background-color","hsl("+(10+120*t)+", 40%, 10%)"),e.addEventListener("click",function(){var e;e=t,o.style.setProperty("--theme-color",10+120*e)})}),r.forEach(function(e,t){e.style.setProperty("background-color","hsl(0, 0%, "+(1+18*t)+"%)"),e.addEventListener("click",function(){var e;e=t,o.style.setProperty("--bg-color",1+18*e+"%")})});var c,i,l,a,d=document.querySelectorAll("img"),u=document.createElement("div"),m=document.createElement("img");function f(e){o.append(u),o.classList.add("no_scroll"),m.setAttribute("src",e.target.src),c=e.target,u.append(m),s(c),window.addEventListener("keydown",L),m.addEventListener("dragstart",function(e){e.preventDefault()}),m.addEventListener("mousedown",E),m.addEventListener("touchstart",g),m.addEventListener("wheel",v),m.addEventListener("click",function(e){e.preventDefault()})}function v(e){(0<e.deltaY?h:p)()}function g(e){(a=new Event("mousedown")).clientX=e.targetTouches[0].clientX,m.dispatchEvent(a),m.addEventListener("touchend",function e(t){a=new Event("mouseup");a.clientX=t.changedTouches[0].clientX;m.dispatchEvent(a);m.removeEventListener("touchend",e)})}function E(e){i=e.clientX,e.clientY,m.addEventListener("mouseup",function e(t){m.removeEventListener("mouseup",e);l=t.clientX;t.clientY;20<l-i?h():20<i-l?p():(i-l<20||l-i<20)&&_()})}function L(e){"Escape"==e.key?_():106==e.keyCode?(m.classList.add("fullscreen_img_fs"),u.classList.add("fullscreen_back_fs")):111==e.keyCode?(m.classList.remove("fullscreen_img_fs"),u.classList.remove("fullscreen_back_fs")):"ArrowLeft"==e.key||"ArrowUp"==e.key||"PageUp"==e.key?p():"ArrowRight"!=e.key&&"ArrowDown"!=e.key&&"PageDown"!=e.key||h()}function _(){n.remove(),m.classList.remove("fullscreen_img_fs"),m.remove(),o.classList.remove("no_scroll"),u.remove(),m.removeEventListener("mousedown",E),window.removeEventListener("keydown",L),m.removeEventListener("touchstart",g)}function h(){c=c.nextElementSibling?c.nextElementSibling:d[0],m.classList.add("fullscreen_img-fade_to_right"),setTimeout(function(){m.classList.remove("fullscreen_img-fade_to_right"),m.setAttribute("src",c.src)},300),s(c)}function p(){c=c.previousElementSibling?c.previousElementSibling:d[d.length-1],m.classList.add("fullscreen_img-fade_to_left"),setTimeout(function(){m.classList.remove("fullscreen_img-fade_to_left"),m.setAttribute("src",c.src)},300),s(c)}m.classList.add("fullscreen_img"),u.classList.add("fullscreen_back"),d.forEach(function(e,t){e.addEventListener("click",f)});var y=document.createElement("div"),k=document.createElement("div"),b=document.createElement("button");y.innerHTML="Особенности сайта:",y.classList.add("readme"),k.classList.add("readme__message"),b.innerHTML="Закрыть",b.classList.add("readme__button"),fetch("readme.html").then(function(e){return e.text()}).then(function(e){return k.innerHTML=e}).catch(console.error),o.append(y),y.append(k),y.append(b),b.addEventListener("click",function(){b.remove(),k.remove(),y.remove()})};