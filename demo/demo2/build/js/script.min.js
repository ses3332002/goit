function UGTheme_carousel(){function e(e,t){y=e,x=jQuery.extend(x,P),x=jQuery.extend(x,t),y.setOptions(x),y.setFreestyleMode(),g=e.getObjects(),c=jQuery(e),_=g.g_objWrapper,w.init(e,x),I.init(e,x),T=I.getObjTileDesign()}function t(){if(_.addClass("ug-theme-carousel"),I.setHtml(_),1==x.theme_enable_navigation){var e="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";e+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",1==x.theme_navigation_enable_play&&(e+="<div class='ug-button-tile-navigation ug-button-tile-play'></div>"),e+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",e+="</div>",_.append(e),p=_.children(".ug-tile-navigation-wrapper"),m=p.children(".ug-button-tile-left"),f=p.children(".ug-button-tile-right"),m.css("margin-right",x.theme_space_between_arrows+"px"),1==x.theme_navigation_enable_play&&(v=p.children(".ug-button-tile-play"),v.css("margin-right",x.theme_space_between_arrows+"px"))}w.putHtml(),_.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),b=_.children(".ug-tiles-preloader"),b.fadeTo(0,0)}function i(){var e=y.getSize().width;return e-=2*x.theme_gallery_padding}function n(){var e=I.getEstimatedHeight();if(p){var t=p.height();e+=t+x.theme_navigation_margin}return e}function r(){var e=n();_.height(e);var t=i();h(),I.setMaxWidth(t),I.run(),w.run(),s()}function o(){t(),r()}function s(){var e=I.getElement(),t=E.getElementSize(e),i=0;if(p){var n=E.getElementSize(p);i=n.height}var r=t.height;i>0&&(r+=x.theme_navigation_margin+i);var o=0;if(p){var s=t.height+x.theme_navigation_margin;"top"==x.theme_navigation_position&&(o=n.height+x.theme_navigation_margin,s=0)}E.placeElement(e,x.theme_carousel_align,o,x.theme_carousel_offset,0);var t=E.getElementSize(e);if(p){var a=t.left+E.getElementRelativePos(p,x.theme_navigation_align,x.theme_navigation_offset_hor,e);E.placeElement(p,a,s)}_.height(r),E.placeElement(b,"center",50)}function a(e,t){t=jQuery(t);var i=T.getItemByTile(t),n=i.index;w.open(n)}function l(){var e=i();I.setMaxWidth(e),I.run(),s()}function u(){I.stopAutoplay(),I.getElement().hide(),p&&p.hide(),b.fadeTo(0,1)}function d(e,t){t.carouselStartAutoplay=function(){I.startAutoplay()},t.carouselStopAutoplay=function(){I.stopAutoplay()},t.carouselPause=function(){I.pauseAutoplay()},t.carouselUnpause=function(){I.unpauseAutoplay()},t.scrollLeft=function(e){I.scrollLeft(e)},t.scrollRight=function(e){I.scrollRight(e)}}function h(){p&&(I.setScrollLeftButton(f),I.setScrollRightButton(m),v&&I.setPlayPauseButton(v)),c.on(y.events.SIZE_CHANGE,l),c.on(y.events.GALLERY_BEFORE_REQUEST_ITEMS,u),jQuery(T).on(T.events.TILE_CLICK,a),c.on(S.events.API_INIT_FUNCTIONS,d)}var c,g,_,p,m,f,v,b,y=new UniteGalleryMain,w=new UGLightbox,I=new UGCarousel,E=new UGFunctions,T=new UGTileDesign,S=new UG_API,x={theme_gallery_padding:0,theme_carousel_align:"center",theme_carousel_offset:0,theme_enable_navigation:!0,theme_navigation_position:"bottom",theme_navigation_enable_play:!0,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_navigation_margin:20,theme_space_between_arrows:5},P={gallery_width:"100%",tile_width:160,tile_height:160,tile_enable_border:!0,tile_enable_outline:!0,carousel_vertical_scroll_ondrag:!0};this.destroy=function(){p&&(E.destroyButton(f),E.destroyButton(m),v&&E.destroyButton(v)),c.off(y.events.SIZE_CHANGE),jQuery(T).off(T.events.TILE_CLICK),c.off(y.events.GALLERY_BEFORE_REQUEST_ITEMS),I.destroy(),w.destroy()},this.run=function(){o()},this.init=function(t,i){e(t,i)}}function debugLine(e,t,i){e===!0&&(e="true"),e===!1&&(e="false");var n=e;if("object"==typeof e){n="";for(name in e){var r=e[name];n+=" "+name+": "+r}}if(1!=t||i||(n+=" "+Math.random()),1==i){var o=jQuery("#debug_line");o.width(200),o.height()>=500&&o.html("");var s=o.html();n=s+"<br> -------------- <br>"+n}jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}var t=null,i=this,n={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==i.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,t):document.msExitFullscreen?e("MSFullscreenChange",document,t):document.mozCancelFullScreen?e("mozfullscreenchange",document,t):e("fullscreenchange",document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return e},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],i=document.createElement("div");for(var n in e){var r=e[n];if(r+"Transform"in i.style)return r=r.toLowerCase(),t=r,r}return t="",""},this.getImageInsideParentDataByImage=function(e,t,n){var r=e.parent(),o=i.getImageOriginalSize(e),s=i.getImageInsideParentData(r,o.width,o.height,t,n);return s},this.getImageInsideParentData=function(e,t,i,n,r,o,s){if(!r)var r={};var a={};if("undefined"==typeof o)var o=e.width();if("undefined"==typeof s)var s=e.height();r.padding_left&&(o-=r.padding_left),r.padding_right&&(o-=r.padding_right),r.padding_top&&(s-=r.padding_top),r.padding_bottom&&(s-=r.padding_bottom);var l=null,u="100%",d=null,h=null,c="display:block;margin:0px auto;";if(t>0&&i>0){if("down"==n&&t<o&&i<s)u=i,l=t,h=(o-l)/2,d=(s-u)/2;else if("fill"==n){var g=t/i;u=s,l=u*g,l<o?(l=o,u=l/g,h=0,d=Math.round((u-s)/2*-1)):(d=0,h=Math.round((l-o)/2*-1))}else{var g=t/i;u=s,l=u*g,d=0,h=(o-l)/2,"fitvert"!=n&&l>o&&(l=o,u=l/g,h=0,d=(s-u)/2)}l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),h=Math.floor(h),c="position:absolute;"}return r.padding_top&&(d+=r.padding_top),r.padding_left&&(h+=r.padding_left),a.imageWidth=l,a.imageHeight=u,a.imageTop=d,a.imageLeft=h,a.imageRight=h+l,0==d||"100%"==u?a.imageBottom=null:a.imageBottom=d+u,a.style=c,a},this.getElementCenterPosition=function(e,t){var n=e.parent(),r=i.getElementSize(e),o=i.getElementSize(n),s=o.width,a=o.height;t&&void 0!==t.padding_top&&(a-=t.padding_top),t&&void 0!==t.padding_bottom&&(a-=t.padding_bottom),t&&void 0!==t.padding_left&&(s-=t.padding_left),t&&void 0!==t.padding_right&&(s-=t.padding_right);var l={};return l.left=Math.round((s-r.width)/2),l.top=Math.round((a-r.height)/2),t&&void 0!==t.padding_top&&(l.top+=t.padding_top),t&&void 0!==t.padding_left&&(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var n=i.getElementSize(e),r={};return r.x=n.width/2,r.y=n.height/2,1==t&&(r.x+=n.left,r.y+=n.top),r.x=Math.round(r.x),r.y=Math.round(r.y),r},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var n={x:e.pageX,y:e.pageY},r=i.getElementLocalPoint(n,t);return r},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if("undefined"!=typeof t&&"undefined"!=typeof i)return{width:t,height:i};var n=e[0];if("undefined"==typeof n)throw new Error("getImageOriginalSize error - Image not found");var r={};if("undefined"==typeof n.naturalWidth){if("number"==typeof e.data("naturalWidth")){var r={};return r.width=e.data("naturalWidth"),r.height=e.data("naturalHeight"),r}var o=new Image;return o.src=n.src,o.complete?(r.width=o.width,r.height=o.height,e.data("naturalWidth",r.width),e.data("naturalHeight",r.height),r):{width:0,height:0}}return r.width=n.naturalWidth,r.height=n.naturalHeight,r},this.getimageRatio=function(e){var t=i.getImageOriginalSize(e),n=i.getElementSize(e),r=n.width/t.width;return r},this.isImageFitParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width<=r.width&&n.height<=r.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width>r.width||n.height>r.height},this.isPointInsideElement=function(e,t){var i=e.x>=0&&e.x<t.width;if(0==i)return!1;var n=e.y>=0&&e.y<t.height;return 0!=n},this.getElementRelativePos=function(e,t,n,r){if(!r)var r=e.parent();if("number"==typeof e)var o={width:e,height:e};else var o=i.getElementSize(e);var s=i.getElementSize(r);switch(t){case"top":case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((s.width-o.width)/2),n&&(t+=n);break;case"right":t=s.width-o.width,n&&(t-=n);break;case"middle":t=Math.round((s.height-o.height)/2),n&&(t+=n);break;case"bottom":t=s.height-o.height,n&&(t-=n)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,n,r,o,s,a){if(!n)var n=1.2;if(!o)var o="fit";var l,u,d,h,c=n,g=e.parent(),_=i.getElementSize(e),p=i.getImageOriginalSize(e),m=!1,f=0,v=0,b=0,y=0;if(r){var w=i.getMouseElementPoint(r,e);m=i.isPointInsideElement(w,_),b=w.x,y=w.y}else m=!1;if(0==m){var I=i.getElementCenterPoint(e);b=I.x,y=I.y}if(1==t)l=_.height*c,u=_.width*c,0!=b&&(f=-(b*c-b)),0!=y&&(v=-(y*c-y));else{l=_.height/c,u=_.width/c;var E=i.getImageInsideParentData(g,p.width,p.height,o,a);if(u<E.imageWidth)return i.scaleImageFitParent(e,p.width,p.height,o,a),!0;1==m&&(0!=b&&(f=-(b/c-b)),0!=y&&(v=-(y/c-y)))}if(s){var T=1;if(0!=p.width&&(T=u/p.width),T>s)return!1}if(i.setElementSize(e,u,l),0==t&&0==m){var S=i.getElementCenterPosition(e);d=S.left,h=S.top}else d=_.left+f,h=_.top+v;return i.placeElement(e,d,h),!0},this.placeElement=function(e,t,n,r,o,s){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(n)){if(!s)var s=e.parent();var a=i.getElementSize(e),l=i.getElementSize(s)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,r&&(t+=r);break;case"center":t=Math.round((l.width-a.width)/2),r&&(t+=r);break;case"right":t=l.width-a.width,r&&(t-=r)}if(0==jQuery.isNumeric(n))switch(n){case"top":n=0,o&&(n+=o);break;case"middle":case"center":n=Math.round((l.height-a.height)/2),o&&(n+=o);break;case"bottom":n=l.height-a.height,o&&(n-=o)}var u={position:"absolute",margin:"0px"};null!==t&&(u.left=t),null!==n&&(u.top=n),e.css(u)},this.placeElementInParentCenter=function(e){i.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,r){var o={width:n+"px",height:r+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(o)},this.setElementSize=function(e,t,i){var n={width:t+"px"};null!==i&&"undefined"!=typeof i&&(n.height=i+"px"),e.css(n)},this.cloneElementSizeAndPos=function(e,t,n,r,o){var s=e.position();if(void 0==s)throw new Error("Can't get size, empty element");n===!0?(s.height=e.outerHeight(),s.width=e.outerWidth()):(s.height=e.height(),s.width=e.width()),s.left=Math.round(s.left),s.top=Math.round(s.top),r&&(s.left+=r),o&&(s.top+=o),i.setElementSizeAndPosition(t,s.left,s.top,s.width,s.height)},this.placeImageInsideParent=function(e,t,n,r,o,s){var a=i.getImageInsideParentData(t,n,r,o,s),l="<img";null!==a.imageWidth&&(l+=" width = '"+a.imageWidth+"'",a.style+="width:"+a.imageWidth+";"),null!=a.imageHeight&&("100%"==a.imageHeight?(l+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+";"):(l+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+"px;")),null!==a.imageTop&&(a.style+="top:"+a.imageTop+"px;"),null!==a.imageLeft&&(a.style+="left:"+a.imageLeft+"px;"),e=i.escapeDoubleSlash(e),l+=" style='"+a.style+"'",l+=' src="'+e+'"',l+=">",t.html(l);var u=t.children("img");return u},this.scaleImageCoverParent=function(e,t,n){if("number"==typeof t)var r=t,o=n;else var r=t.outerWidth(),o=t.outerHeight();var s=i.getImageOriginalSize(e),a=s.width,l=s.height,u=a/l,d=o,h=d*u,c=0,g=0;h<r?(h=r,d=h/u,g=0,c=Math.round((d-o)/2*-1)):(c=0,g=Math.round((h-r)/2*-1)),h=Math.round(h),d=Math.round(d),e.css({width:h+"px",height:d+"px",left:g+"px",top:c+"px"})},this.scaleImageFitParent=function(e,t,n,r,o){var s=e.parent(),a=i.getImageInsideParentData(s,t,n,r,o),l=!1,u={};return null!==a.imageWidth&&(l=!0,e.removeAttr("width"),u.width=a.imageWidth+"px"),null!=a.imageHeight&&(l=!0,e.removeAttr("height"),u.height=a.imageHeight+"px"),null!==a.imageTop&&(l=!0,u.top=a.imageTop+"px"),null!==a.imageLeft&&(l=!0,u.left=a.imageLeft+"px"),1==l&&(u.position="absolute",u.margin="0px 0px",e.css(u)),a},this.scaleImageByHeight=function(e,t,n,r){var o=i.getImageOriginalSize(e,n,r),s=o.width/o.height,a=Math.round(t*s);t=Math.round(t),i.setElementSize(e,a,t)},this.scaleImageByWidth=function(e,t,n,r){var o=i.getImageOriginalSize(e,n,r),s=o.width/o.height,a=Math.round(t/s);t=Math.round(t),i.setElementSize(e,t,a)},this.scaleImageExactSizeInParent=function(e,t,n,r,o,s){var a=e.parent(),l=i.getElementSize(a);l.width<r&&(r=l.width),l.height<o&&(o=l.height);var u=i.getImageInsideParentData(null,t,n,s,null,r,o),d=r,h=o,c=u.imageLeft,g=u.imageLeft,_=u.imageTop,p=u.imageTop,m=Math.round((l.width-r)/2),f=Math.round((l.height-o)/2),v=u.imageWidth+c+g,b=r-v;0!=b&&(g+=b);var y=u.imageHeight+_+p,b=o-y;0!=b&&(p+=b),e.removeAttr("width"),e.removeAttr("height");var w={position:"absolute",margin:"0px 0px"};w.width=d+"px",w.height=h+"px",w.left=m+"px",w.top=f+"px",w["padding-left"]=c+"px",w["padding-top"]=_+"px",w["padding-right"]=g+"px",w["padding-bottom"]=p+"px",e.css(w);var I={};return I.imageWidth=d,I.imageHeight=h,I},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";0==i.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,i){if(!t)return e;var n={};return jQuery.each(e,function(e,r){if(0===e.indexOf(t+"_"+i+"_")){var o=e.replace(t+"_"+i+"_",i+"_");n[o]=r}else n[e]=r}),n},this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";1==i.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,r,o){if(!o)var o=!1;var s=(r-i)/(n-i);return r=e+(t-e)*s,1==o&&(r<e&&(r=e),r>t&&(r=t)),r},this.getNormalizedValue=function(e,t,i,n,r){var o=(r-e)/(t-e);return r=e+(n-i)*o},this.getDistance=function(e,t,i,n){var r=Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))));return r},this.getMiddlePoint=function(e,t,i,n){var r={};return r.x=e+Math.round((i-e)/2),r.y=t+Math.round((n-t)/2),r},this.getNumItemsInSpace=function(e,t,i){var n=Math.floor((e+i)/(t+i));return n},this.getNumItemsInSpaceRound=function(e,t,i){var n=Math.round((e+i)/(t+i));return n},this.getSpaceByNumItems=function(e,t,i){var n=e*t+(e-1)*i;return n},this.getItemSizeInSpace=function(e,t,i){var n=Math.floor((e-(t-1)*i)/t);return n},this.getColX=function(e,t,i){var n=e*(t+i);return n},this.getColByIndex=function(e,t){var i=t%e;return i},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t),n=Math.floor(e%t);return{col:n,row:i}},this.getIndexByRowCol=function(e,t,i){if(e<0)return-1;if(t<0)return-1;var n=e*i+t;return n},this.getPrevRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t),r=i.getIndexByRowCol(n.row-1,n.col,t);return r},this.getNextRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t),r=i.getIndexByRowCol(n.row+1,n.col,t);return r},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){var t=jQuery.data(document.body,e);return t},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==i.isTouchDevice())return null;var t=i.getStoredEventData(e),r=15,o=15;if(null===t.scrollDir&&(Math.abs(t.diffMouseX)>r?t.scrollDir="hor":Math.abs(t.diffMouseY)>o&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),n.dataCache[e].scrollStartY=t.lastMouseClientY,n.dataCache[e].scrollOrigin=t.scrollOrigin),n.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var s=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return s>=0&&jQuery(document).scrollTop(s),t.scrollDir},this.wasVerticalScroll=function(e){var t=i.getStoredEventData(e);return"vert"===t.scrollDir},this.storeEventData=function(e,t,r){var o=i.getMousePosition(e),s=jQuery.now(),a={startTime:s,lastTime:s,startMouseX:o.pageX,startMouseY:o.pageY,lastMouseX:o.pageX,lastMouseY:o.pageY,startMouseClientY:o.clientY,lastMouseClientY:o.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};r&&(a=jQuery.extend(a,r)),n.dataCache[t]=a},this.updateStoredEventData=function(e,t,r){if(!n.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var o=n.dataCache[t],s=i.getMousePosition(e);o.lastTime=jQuery.now(),void 0!==s.pageX&&(o.lastMouseX=s.pageX,o.lastMouseY=s.pageY,o.lastMouseClientY=s.clientY),r&&(o=jQuery.extend(o,r)),n.dataCache[t]=o},this.getStoredEventData=function(e,t){if(!n.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=n.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,t===!0?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMousePos=i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMousePos=i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!n.dataCache[e])return!0;var r=i.getStoredEventData(e,t),o=Math.abs(r.diffMousePos);return!(r.diffTime>400)&&!(o>30)},this.clearStoredEventData=function(e){n.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){var e=jQuery('<canvas width="500" height="500" > </canvas>')[0];return"function"==typeof e.getContext},this.isScrollbarExists=function(){var e=window.innerWidth>document.documentElement.clientWidth;return e},this.isTouchDevice=function(){if(n.isTouchDevice!==-1)return n.isTouchDevice;try{document.createEvent("TouchEvent"),n.isTouchDevice=!0}catch(e){n.isTouchDevice=!1}return n.isTouchDevice},this.isRgbaSupported=function(){if(n.isRgbaSupported!==-1)return n.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,n.isRgbaSupported=i,i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,r=t.length;n<r;n++){var o=parseInt(t[n]),s=parseInt(i[n]);if("undefined"==typeof i[n])return!0;if(s>o)return!1;if(o>s)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),i=t.getDate()+"/"+t.getMonth();return i+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){n.starTime=jQuery.now()},this.showTimeDebug=function(){var e=jQuery.now(),t=e-n.starTime;debugLine({"Time Passed":t},!0)},this.initProgressIndicator=function(e,t,n){switch("bar"!=e&&0==i.isCanvasExists()&&(e="bar"),e){case"bar":var r=new UGProgressBar;r.putHidden(n,t);break;default:case"pie":var r=new UGProgressPie;r.putHidden(n,t);break;case"pie2":t.type_fill=!0;var r=new UGProgressPie;r.putHidden(n,t)}return r},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){n.arrThemes.push(e)},this.getArrThemes=function(){return n.arrThemes},this.isThemeRegistered=function(e){return jQuery.inArray(e,n.arrThemes)!==-1},this.getFirstRegisteredTheme=function(){if(0==n.arrThemes.length)return"";var e=n.arrThemes[0];return e},this.isTimePassed=function(e,t){if(!t)var t=100;var i=jQuery.now();0==n.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=n.timeCache[e];var r=i-lastTime;return n.timeCache[e]=i,!(r<=t)},this.whenContiniousEventOver=function(e,t,i){if(!i)var i=300;1==n.timeCache.hasOwnProperty(e)&&null!=n.timeCache[e]&&(clearTimeout(n.timeCache[e]),n.timeCache[e]=null),n.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-n.lastEventTime;return"click"==e&&"touchstart"==n.lastEventType&&i<1e3&&(t=!1),n.lastEventTime=jQuery.now(),n.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown")},this.setButtonOnClick=function(e,t){i.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(e.type)||void t(objThis,e)})},this.loadJs=function(e,t){t===!0&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){t===!0&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){"undefined"!=typeof e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(e,t,i){function n(e,n){r++,"function"==typeof i&&setTimeout(function(){i(e,n)}),r==o&&"function"==typeof t&&setTimeout(function(){t()})}var r=0,o=e.length;return 0==o&&t?(t(),!1):void setTimeout(function(){for(var t=0;t<o;t++){var i=e[t];if(void 0!==i.naturalWidth&&0!==i.naturalWidth)n(e[t],!1);else{var r=jQuery("<img/>");r.data("index",t),r.on("load",function(){var t=jQuery(this).data("index");n(e[t],!1)}),r.on("error",function(){var t=jQuery(this).data("index");n(e[t],!0)}),r.attr("src",i.src)}}})},this.waitForWidth=function(e,t){var i=e.width();return 0!=i?(t(),!1):void(n.handle=setInterval(function(){i=e.width(),0!=i&&(clearInterval(n.handle),t())},300))},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return e<0&&(e=0),e>1&&(e=1),e},this.stripTags=function(e){var t=e.replace(/(<([^>]+)>)/gi,"");return t},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){var t=jQuery("<div/>").text(e).html();return t},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t,i,n){var r={width:e+"px",height:t+"px"},o={width:e-j.thumbInnerReduce+"px",height:t-j.thumbInnerReduce+"px"},s=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(n!==!0&&i.css(r),i.children(s).css(o)):(I.children(".ug-thumb-wrapper").css(r),I.find(s).css(o))}function t(e,t,i,n){if(!n)var n=!1;S.isFakeFullscreen()&&(n=!0);var r=e.children(".ug-thumb-border-overlay"),o={};o["border-width"]=t+"px",0!=t&&(o["border-color"]=i),n&&n===!0?(r.css(o),0==t?r.hide():r.show()):(0==t?r.stop().fadeOut(P.thumb_transition_duration):r.show().stop().fadeIn(P.thumb_transition_duration),a(r,o))}function i(e,t,i){var n=e.children(".ug-thumb-overlay"),r=P.thumb_transition_duration;i&&i===!0&&(r=0),t?n.stop(!0).fadeTo(r,j.colorOverlayOpacity):n.stop(!0).fadeTo(r,0)}function n(e,t,i){var n=e.children("img.ug-thumb-image"),r=e.children("img.ug-thumb-image-overlay"),o=P.thumb_transition_duration;i&&i===!0&&(o=0),t?r.stop(!0).fadeTo(o,1):(n.fadeTo(0,1),r.stop(!0).fadeTo(o,0))}function r(e,r){if(j.isEffectBorder&&t(e,P.thumb_selected_border_width,P.thumb_selected_border_color,r),j.isEffectOverlay){var o=1==P.thumb_overlay_reverse;i(e,o,r)}j.isEffectImage&&n(e,!1,r),T.trigger(E.events.SETSELECTEDSTYLE,e)}function o(e){var t=E.getItemByThumb(e);return t.isLoaded=!0,t.isThumbImageLoaded=!1,1==j.customThumbs?(T.trigger(E.events.IMAGELOADERROR,e),!0):(e.children(".ug-thumb-loader").hide(),void e.children(".ug-thumb-error").show())}function s(){if(P.thumb_round_corners_radius<=0)return!1;var e={"border-radius":P.thumb_round_corners_radius+"px"};I.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(e)}function a(e,t){e.stop(!0).animate(t,{duration:P.thumb_transition_duration,easing:P.thumb_transition_easing,queue:!1})}function l(e){1==c(e)?r(e,!0,"redraw"):E.setThumbNormalStyle(e,!0,"redraw")}function u(t,i,n){if(1==P.thumb_fixed_size)x.scaleImageCoverParent(i,t);else{"height"==P.thumb_resize_by?x.scaleImageByHeight(i,P.thumb_height):x.scaleImageByWidth(i,P.thumb_width);var r=x.getElementSize(i);x.placeElement(i,0,0),e(r.width,r.height,t)}t.children(".ug-thumb-loader").hide(),i.show(),0==P.thumb_image_overlay_effect?i.fadeTo(0,1):(1==P.thumb_image_overlay_effect&&d(i),i.fadeTo(0,0),l(t)),T.trigger(E.events.AFTERPLACEIMAGE,t)}function d(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var i=x.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),0==j.customThumbs&&t.fadeTo(0,1)}function h(){var e="",t=P.thumb_image_overlay_type.split(",");for(var i in t){var n=t[i];switch(n){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}}return e}function c(e){return!!e.hasClass("ug-thumb-selected")}function g(t,i){i=jQuery(i);var n=(E.getItemByThumb(i),x.getElementSize(i));e(n.width,n.height,i,!0),l(i)}function _(e){return 1==j.touchEnabled?(objThumbs.off("mouseenter").off("mouseleave"),!0):void(0==c(e)&&E.setThumbOverStyle(e))}function p(e){return 1==j.touchEnabled||void(0==c(e)&&E.setThumbNormalStyle(e,!1))}function m(e,t){if(!t)var t=!1;var i=jQuery(e),n=i.parents(".ug-thumb-wrapper");return 0!=n.parent().length&&(objItem=E.getItemByThumb(n),(1!=objItem.isLoaded||t!==!1)&&(E.triggerImageLoadedEvent(n,i),void(1==j.customThumbs?T.trigger(E.events.PLACEIMAGE,[n,i]):u(n,i,objItem))))}function f(e,t,i){objItem=E.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=x.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width}var v,b,y,w,I,E=this,T=jQuery(E),S=new UniteGalleryMain,x=new UGFunctions;this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var P={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},j={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0},C={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){b=e.getObjects(),S=e,v=jQuery(e),y=b.g_objWrapper,w=b.g_arrItems,P=jQuery.extend(P,t),j.isEffectBorder=P.thumb_border_effect,j.isEffectOverlay=P.thumb_color_overlay_effect,j.isEffectImage=P.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e){I=e;var t=S.getNumItems();if(1==j.isEffectImage)var i=h();for(var n=0;n<t;n++){var r=w[n],o="";0==j.customThumbs&&(o=" ug-thumb-generated");var s=r.index+1,a="style='z-index:"+s+";'",l="<div class='ug-thumb-wrapper"+o+"' "+a+"></div>";if(1==P.thumb_wrapper_as_link){var u=r.link;""==r.link&&(u="javascript:void(0)");var d="";1==P.thumb_link_newpage&&r.link&&(d=" target='_blank'");var l="<a href='"+u+"'"+d+" class='ug-thumb-wrapper"+o+"'></a>"}var c=jQuery(l),g=r.objThumbImage;if(0==j.customThumbs){if(1==P.thumb_show_loader&&g){var _="ug-thumb-loader-dark";"bright"==P.thumb_loader_type&&(_="ug-thumb-loader-bright"),c.append("<div class='ug-thumb-loader "+_+"'></div>"),c.append("<div class='ug-thumb-error' style='display:none'></div>")}if(g){if(g.addClass("ug-thumb-image"),1==P.thumb_image_overlay_effect){var p=g.clone().appendTo(c);p.addClass("ug-thumb-image-overlay "+i).removeClass("ug-thumb-image"),p.fadeTo(0,0),r.objImageOverlay=p}c.append(g)}}j.isEffectBorder&&c.append("<div class='ug-thumb-border-overlay'></div>"),j.isEffectOverlay&&c.append("<div class='ug-thumb-overlay'></div>"),I.append(c),j.customThumbs&&j.funcSetCustomThumbHtml(c,r),w[n].objThumbWrapper=c}},this.setThumbNormalStyle=function(e,r,o){if(1==j.customThumbs&&e.removeClass("ug-thumb-over"),j.isEffectBorder&&t(e,P.thumb_border_width,P.thumb_border_color,r),j.isEffectOverlay){var s=1!=P.thumb_overlay_reverse;i(e,s,r)}j.isEffectImage&&n(e,!0,r),T.trigger(E.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){
if(1==j.customThumbs&&e.addClass("ug-thumb-over"),j.isEffectBorder&&t(e,P.thumb_over_border_width,P.thumb_over_border_color),j.isEffectOverlay){var r=1==P.thumb_overlay_reverse;i(e,r)}1==j.isEffectImage&&n(e,!1),T.trigger(E.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(){if(0==j.customThumbs){1==P.thumb_fixed_size&&e(P.thumb_width,P.thumb_height),s()}if(I.children(".ug-thumb-wrapper").each(function(){var e=jQuery(this);l(e)}),j.isEffectOverlay&&P.thumb_overlay_color){var t={};if(x.isRgbaSupported()){var i=x.convertHexToRGB(P.thumb_overlay_color,P.thumb_overlay_opacity);t["background-color"]=i}else t["background-color"]=P.thumb_overlay_color,j.colorOverlayOpacity=P.thumb_overlay_opacity;I.find(".ug-thumb-wrapper .ug-thumb-overlay").css(t)}},this.setThumbSelected=function(e){return 1==j.customThumbs&&e.removeClass("ug-thumb-over"),1==c(e)||(e.addClass("ug-thumb-selected"),void r(e))},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),E.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){P=jQuery.extend(P,e)},this.setThumbInnerReduce=function(e){j.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(j.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");j.funcSetCustomThumbHtml=e,jQuery.inArray("overlay",t)==-1&&(j.isEffectOverlay=!1),jQuery.inArray("border",t)==-1&&(j.isEffectBorder=!1),j.isEffectImage=!1,i&&i.allow_onresize===!1&&(j.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return P},this.getNumThumbs=function(){var e=w.length;return e},this.getThumbImage=function(e){var t=e.find(".ug-thumb-image");return t},this.getThumbByIndex=function(e){var t=E.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");var i=jQuery(t[e]);return i},this.getThumbs=function(){return I.children(".ug-thumb-wrapper")},this.getItemByThumb=function(e){var t=e.data("index");void 0===t&&(t=e.index());var i=w[t];return i},this.isThumbLoaded=function(e){var t=E.getItemByThumb(e);return t.isLoaded},this.getGlobalThumbSize=function(){var e={width:P.thumb_width,height:P.thumb_height};return e},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=I.find(".ug-thumb-wrapper");e.on("touchstart",function(){j.touchEnabled=!0,e.off("mouseenter").off("mouseleave")}),1==j.allowOnResize&&y.on(C.eventSizeChange,g),e.hover(function(e){var t=jQuery(this);_(t)},function(e){var t=jQuery(this);p(t)}),T.on(E.events.THUMB_IMAGE_LOADED,f)},this.destroy=function(){var e=I.find(".ug-thumb-wrapper");e.off("touchstart"),y.off(C.eventSizeChange),e.off("mouseenter"),e.off("mouseleave"),T.off(E.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=I.find(".ug-thumb-image");x.checkImagesLoaded(e,null,function(e,t){if(0==t)m(e,!0);else{var i=jQuery(e).parent();o(i)}})},this.triggerImageLoadedEvent=function(e,t){T.trigger(E.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){I.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function e(e,i){S=e.getObjects(),O=e,O.attachThumbsPanel("strip",z),T=jQuery(e),x=S.g_objWrapper,P=S.g_arrItems,N=jQuery.extend(N,i),k=N.strip_vertical_type,1==k&&(N=jQuery.extend(N,G),N=jQuery.extend(N,i),i.thumb_resize_by="width"),H.init(e,i),t()}function t(){var e=H.getOptions();D.isNotFixedThumbs=e.thumb_fixed_size===!1,k=N.strip_vertical_type}function n(){H.setHtmlProperties(),o(),l(),a(),0==D.isRunOnce&&(1==N.strip_control_touch&&(M=new UGTouchThumbsControl,M.init(z)),1==N.strip_control_avia&&(A=new UGAviaControl,A.init(z)),p(),H.loadThumbsImages(),y()),D.isRunOnce=!0}function r(e){R.stripSize=e,0==k?R.stripActiveSize=R.stripSize-N.strip_padding_left-N.strip_padding_right:R.stripActiveSize=R.stripSize-N.strip_padding_top-N.strip_padding_bottom,R.stripActiveSize<0&&(R.stripActiveSize=0)}function o(){var e=C.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),o=H.getOptions();0==k?(R.thumbSize=i,1==o.thumb_fixed_size?R.thumbSecondSize=n:R.thumbSecondSize=o.thumb_height,r(j.width()),R.stripInnerSize=C.width()):(R.thumbSize=n,1==o.thumb_fixed_size?R.thumbSecondSize=i:R.thumbSecondSize=o.thumb_width,r(j.height()),R.stripInnerSize=C.height())}function s(e){0==k?C.width(e):C.height(e),R.stripInnerSize=e,p(),jQuery(z).trigger(z.events.INNER_SIZE_CHANGE)}function a(){var e=C.children(".ug-thumb-wrapper"),t=0,n=0;for(0==k&&(n=N.strip_padding_top),i=0;i<e.length;i++){var r=jQuery(e[i]);if(1==D.isNotFixedThumbs){if(objItem=H.getItemByThumb(r),0==objItem.isLoaded)continue;r.show()}L.placeElement(r,t,n),0==k?t+=r.outerWidth()+N.strip_space_between_thumbs:n+=r.outerHeight()+N.strip_space_between_thumbs}if(0==k)var o=t-N.strip_space_between_thumbs;else var o=n-N.strip_space_between_thumbs;s(o)}function l(){if(0==k){var e=R.thumbSecondSize,t={};t.height=e+"px";var i={};i.height=e+"px"}else{var n=R.thumbSecondSize,t={};t.width=n+"px";var i={};i.width=n+"px"}j.css(t),C.css(i)}function u(e){var t=z.getInnerStripPos(),i=t+e;i=z.fixInnerStripLimits(i),z.positionInnerStrip(i,!0)}function d(e){var t=E(e),i=t.min*-1;i=z.fixInnerStripLimits(i),z.positionInnerStrip(i,!0)}function h(e){var t=E(e),i=t.max*-1+R.stripSize;i=z.fixInnerStripLimits(i),z.positionInnerStrip(i,!0)}function c(e){if(0==w())return!1;var t=I(),i=E(e);if(i.min<t.minPosThumbs){var n=e.prev();d(n.length?n:e)}else if(i.max>t.maxPosThumbs){var r=e.next();h(r.length?r:e)}}function g(){var e=O.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&&c(t)}function _(){if(0==w())return!1;var e=z.getInnerStripPos(),t=z.fixInnerStripLimits(e);e!=t&&z.positionInnerStrip(t,!0)}function p(){var e=w();1==e?(A&&A.enable(),M&&M.enable()):(A&&A.disable(),M&&M.disable())}function m(){return!w()&&void(0==k?L.placeElement(C,N.strip_thumbs_align,0):L.placeElement(C,0,N.strip_thumbs_align))}function f(e){if(z.isTouchMotionActive()){var t=M.isSignificantPassed();if(1==t)return!0}var i=H.getItemByThumb(e);O.selectItem(i)}function v(){clearTimeout(D.handle),D.handle=setTimeout(function(){a()},50)}function b(){var e=O.getSelectedItem();H.setThumbSelected(e.objThumbWrapper),c(e.objThumbWrapper)}function y(){H.initEvents();var e=j.find(".ug-thumb-wrapper");e.on("click touchend",function(e){var t=jQuery(this);f(t)}),T.on(O.events.ITEM_CHANGE,b),D.isNotFixedThumbs&&jQuery(H).on(H.events.AFTERPLACEIMAGE,v)}function w(){return R.stripInnerSize>R.stripActiveSize}function I(){var e={},t=z.getInnerStripPos();return e.minPosThumbs=t*-1+1,e.maxPosThumbs=t*-1+R.stripSize-1,e}function E(e){var t={},i=e.position();return 0==k?(t.min=i.left,t.max=i.left+R.thumbSize):(t.min=i.top,t.max=i.top+R.thumbSize),t}var T,S,x,P,j,C,A,M,z=this,O=new UniteGalleryMain,L=new UGFunctions,k=!1,H=new UGThumbsGeneral,L=new UGFunctions,N={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},D={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},R={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var G={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){var e=x;null!=N.parent_container&&(e=N.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),j=e.children(".ug-thumbs-strip"),C=j.children(".ug-thumbs-strip-inner"),H.setHtmlThumbs(C),1==D.isNotFixedThumbs&&H.hideThumbs()},this.destroy=function(){var e=j.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),T.off(O.events.ITEM_CHANGE),jQuery(H).off(H.events.AFTERPLACEIMAGE),M&&M.destroy(),A&&A.destroy(),H.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i){e(t,i)},this.run=function(){n()},this.positionInnerStrip=function(e,t){if(void 0===t)var t=!1;if(0==k)var i={left:e+"px"};else var i={top:e+"px"};0==t?(C.css(i),z.triggerStripMoveEvent()):(z.triggerStripMoveEvent(),C.stop(!0).animate(i,{duration:N.strip_scroll_to_thumb_duration,easing:N.strip_scroll_to_thumb_easing,queue:!1,progress:function(){z.triggerStripMoveEvent()},always:function(){z.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(z).trigger(z.events.STRIP_MOVE)},this.isTouchMotionActive=function(){if(!M)return!1;var e=M.isTouchActive();return e},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=z.getInnerStripPos()*-1;if(0==k)var r=n+R.stripSize,o=i.left,s=i.left+t.width();else var r=n+R.stripSize,o=i.top,s=i.top+t.height();var a=!1;return s>=n&&o<=r&&(a=!0),a},this.getInnerStripPos=function(){return 0==k?C.position().left:C.position().top},this.getInnerStripLimits=function(){var e={};return 0==k?e.maxPos=N.strip_padding_left:e.maxPos=N.strip_padding_top,e.minPos=-(R.stripInnerSize-R.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=z.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){u(-R.stripSize)},this.scrollBack=function(){u(R.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){N=jQuery.extend(N,e),H.setOptions(e),t()},this.setSizeVertical=function(e){if(0==k)throw new Error("setSizeVertical error, the strip size is not vertical");var t=R.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",j.css(i),r(e);var n={};n.width=t+"px",n.left="0px",n.top="0px",C.css(n),D.is_placed=!0,p()},this.setSizeHorizontal=function(e){if(1==k)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=R.thumbSecondSize+N.strip_padding_top+N.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",j.css(i),r(e);var n=N.strip_padding_left,o={};o.height=t+"px",o.left=n+"px",o.top="0px",C.css(o),D.is_placed=!0,p()},this.setPosition=function(e,t,i,n){L.placeElement(j,e,t,i,n)},this.resize=function(e){0==k?(j.width(e),R.stripActiveSize=e-N.strip_padding_left-N.strip_padding_right):(j.height(e),R.stripActiveSize=e-N.strip_padding_top-N.strip_padding_bottom),r(e),p(),_(),m(),g()},this.setThumbUnselected=function(e){H.setThumbUnselected(e)},this.setCustomThumbs=function(e){H.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=H.getOptions(),t=jQuery.extend(N,e),i={g_gallery:O,g_objGallery:T,g_objWrapper:x,g_arrItems:P,g_objStrip:j,g_objStripInner:C,g_aviaControl:A,g_touchThumbsControl:M,isVertical:k,g_options:t,g_thumbs:H};return i},this.getObjThumbs=function(){return H},this.getSelectedThumb=function(){var e=O.getSelectedItemIndex();return e==-1?null:H.getThumbByIndex(e)},this.getSizeAndPosition=function(){var e=L.getElementSize(j);return e},this.getHeight=function(){var e=j.outerHeight();return e},this.getWidth=function(){var e=j.outerWidth();return e},this.getSizes=function(){return R},this.isVertical=function(){return k},this.isPlaced=function(){return D.is_placed},this.isMoveEnabled=function(){var e=w();return e}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=T.lastTime-T.startTime,t.lastActiveTime=e-T.buttonReleaseTime,t.passedDistance=T.lastPos-T.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){E.thumb_touch_slowFactor=I.normalizeSetting(5e-5,.01,1,100,y.strip_thumb_touch_sensetivity,!0)}function i(e){return 0==w?I.getMousePosition(e).pageX:I.getMousePosition(e).pageY}function n(e){var t=T.mousePos-e,i=T.innerPos-t,n=_.getInnerStripLimits();if(i>n.maxPos){var r=i-n.maxPos;i=n.maxPos+r/3}if(i<n.minPos){var r=n.minPos-i;i=n.minPos-r/3}_.positionInnerStrip(i)}function r(e){var t=_.getInnerStripPos();T.mousePos=e,T.innerPos=t,T.lastPortionPos=t,T.lastDeltaTime=0,T.lastDeltaPos=0,T.startTime=jQuery.now(),T.startPos=T.innerPos,T.lastTime=T.startTime,T.lastPos=T.startPos,T.speed=0}function o(){var e=jQuery.now(),t=e-T.lastTime;t>=E.touch_portion_time&&(T.lastDeltaTime=e-T.lastTime,T.lastDeltaTime>E.touch_portion_time&&(T.lastDeltaTime=E.touch_portion_time),T.lastDeltaPos=T.lastPos-T.lastPortionPos,T.lastPortionPos=T.lastPos,T.lastTime=e)}function s(){var e=E.thumb_touch_slowFactor,t=E.minDeltaTime,i=E.minPath,n=_.getInnerStripPos(),r=jQuery.now(),o=r-T.lastTime,s=n-T.lastPortionPos;o<t&&T.lastDeltaTime>0&&(o=T.lastDeltaTime,s=T.lastDeltaPos+s),o<t&&(o=t);var l=s>0?1:-1,u=0;o>0&&(u=s/o);var d=u*u/(2*e)*l;Math.abs(d)<=i&&(d=0);var h=_.getInnerStripPos(),c=h+d,g=_.fixInnerStripLimits(c),p=_.getInnerStripLimits(),m=E.limitsBreakAddition,f=!1,v=g;if(c>p.maxPos&&(f=!0,g=m,c<m&&(g=c)),c<p.minPos){f=!0;var y=p.minPos-m;g=y,c>y&&(g=c)}var I=g-h,S=Math.abs(Math.round(u/e));if(0!=d&&(S=S*I/d),h!=g){var x={left:g+"px"};1==w&&(x={top:g+"px"}),b.animate(x,{duration:S,easing:E.animationEasing,queue:!0,progress:a})}if(1==f){var P=E.returnAnimateSpeed,j={left:v+"px"};1==w&&(j={top:v+"px"}),b.animate(j,{duration:P,easing:E.returnAnimationEasing,queue:!0,progress:a})}}function a(){T.lastPos=_.getInnerStripPos(),_.triggerStripMoveEvent()}function l(){return 1==T.loop_active||(T.loop_active=!0,void(T.handle=setInterval(o,10)))}function u(e){if(0==T.loop_active)return!0;if(e){var t=i(e);s(t)}T.loop_active=!1,T.handle=clearInterval(T.handle)}function d(e){return 0==T.isControlEnabled||(T.buttonReleaseTime=jQuery.now(),0==T.touch_active?(u(e),!0):(e.preventDefault(),T.touch_active=!1,u(e),void v.removeClass("ug-dragging")))}function h(e){if(0==T.isControlEnabled)return!0;e.preventDefault(),T.touch_active=!0;var t=i(e);b.stop(!0),r(t),l(),v.addClass("ug-dragging")}function c(e){if(0==T.isControlEnabled)return!0;if(0==T.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return T.touch_active=!1,u(e),!0;var t=i(e);T.lastPos=_.getInnerStripPos(),n(t),o()}function g(){v.bind("mousedown touchstart",h),jQuery(window).add("body").bind("mouseup touchend",d),jQuery("body").bind("mousemove touchmove",c)}var _,p,m,f,v,b,y,w,I=new UGFunctions,E={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},T={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){T.isControlEnabled=!0},this.disable=function(){T.isControlEnabled=!1},this.init=function(e){_=e,f=e.getObjects(),p=f.g_gallery,m=f.g_objGallery,v=f.g_objStrip,b=f.g_objStripInner,y=f.g_options,w=f.isVertical,t(),g()},this.isSignificantPassed=function(){var t=e();return t.passedTime>300||t.passedDistanceAbs>30},this.isTouchActive=function(){if(1==T.touch_active)return!0;if(1==b.is(":animated"))return!0;var t=e();return t.lastActiveTime<50},this.destroy=function(){v.unbind("mousedown"),v.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function e(e,t){switch(n.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":var i={top:e+"px"}}o.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function t(e){switch(n.orientation){case"right":case"left":c.placeElement(o,e,null);break;case"top":case"bottom":c.placeElement(o,null,e)}}function i(){a.trigger(r.events.FINISH_MOVE)}var n,r,o,s,a,l,u,d=new UniteGalleryMain,h=this,c=new UGFunctions;this.init=function(e,t,i,o,l){n=t,r=i,d=e,s=o,a=l,u=jQuery(d)},this.setHtml=function(e){if(o=e,"strip"==n.panelType)var t=s.strippanel_enable_handle;else var t=s.gridpanel_enable_handle;if(1==t&&(l=new UGPanelHandle,l.init(r,o,s,n.panelType,d),l.setHtml()),n.isDisabledAtStart===!0){var i="<div class='ug-overlay-disabled'></div>";o.append(i),setTimeout(function(){o.children(".ug-overlay-disabled").hide()},n.disabledAtStartTimeout)}},this.placeElements=function(){l&&l.placeHandle()},this.initEvents=function(){l&&(l.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){l.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.destroy=function(){l&&(l.destroy(),u.off(d.events.SLIDER_ACTION_START),u.off(d.events.SLIDER_ACTION_END))},this.openPanel=function(s){if(!s)var s=!1;return!o.is(":animated")&&(0!=n.isClosed&&(n.isClosed=!1,a.trigger(r.events.OPEN_PANEL),void(s===!1?e(n.originalPos,i):(t(n.originalPos),i()))))},this.closePanel=function(s){if(!s)var s=!1;if(o.is(":animated"))return!1;if(1==n.isClosed)return!1;var l=h.getClosedPanelDest();n.isClosed=!0,a.trigger(r.events.CLOSE_PANEL),s===!1?e(l,i):(t(l),i())},this.setClosedState=function(e){n.originalPos=e,a.trigger(r.events.CLOSE_PANEL),n.isClosed=!0},this.setOpenedState=function(e){a.trigger(r.events.OPEN_PANEL),n.isClosed=!1},this.getClosedPanelDest=function(){var e,t=c.getElementSize(o);switch(n.orientation){case"left":n.originalPos=t.left,e=-n.panelWidth;break;case"right":n.originalPos=t.left;var i=d.getSize();e=i.width;break;case"top":n.originalPos=t.top,e=-n.panelHeight;break;case"bottom":n.originalPos=t.top;var i=d.getSize();e=i.height}return e},this.isPanelClosed=function(){return n.isClosed},this.setDisabledAtStart=function(e){return!(e<=0)&&(n.isDisabledAtStart=!0,void(n.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){a.removeClass("ug-button-hover")}function t(){a.addClass("ug-button-closed")}function i(){a.removeClass("ug-button-closed")}function n(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type)||void(s.isPanelClosed()?s.openPanel():s.closePanel())}function r(){var e=s.getOrientation();switch(e){case"right":case"left":"top"!=u.panel_handle_align&&"bottom"!=u.panel_handle_align&&(u.panel_handle_align="top");break;case"bottom":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="left");break;case"top":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="right")}}var o,s,a,l=new UGFunctions,u={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,r){switch(s=e,o=t,n){case"grid":u.panel_handle_align=i.gridpanel_handle_align,u.panel_handle_offset=i.gridpanel_handle_offset,u.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":u.panel_handle_align=i.strippanel_handle_align,u.panel_handle_offset=i.strippanel_handle_offset,u.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var a=r.getOptions(),l=a.gallery_skin;""==u.panel_handle_skin&&(u.panel_handle_skin=l)},this.setHtml=function(){var e=s.getOrientation(),t="ug-panel-handle-tip";switch(e){case"right":t+=" ug-handle-tip-left";break;case"left":t+=" ug-handle-tip-right";break;case"bottom":t+=" ug-handle-tip-top";break;case"top":t+=" ug-handle-tip-bottom"}o.append("<div class='"+t+" ug-skin-"+u.panel_handle_skin+"'></div>"),a=o.children(".ug-panel-handle-tip")},this.initEvents=function(){l.addClassOnHover(a),a.bind("click touchstart",n),jQuery(s).on(s.events.OPEN_PANEL,function(){e(),i()}),jQuery(s).on(s.events.CLOSE_PANEL,function(){e(),t()})},this.destroy=function(){l.destroyButton(a),jQuery(s).off(s.events.OPEN_PANEL),jQuery(s).off(s.events.CLOSE_PANEL)},this.placeHandle=function(){var e=l.getElementSize(a);r();var t=s.getOrientation();switch(t){case"left":l.placeElement(a,"right",u.panel_handle_align,-e.width);break;case"right":l.placeElement(a,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case"top":l.placeElement(a,u.panel_handle_align,"bottom",u.panel_handle_offset,-e.height);break;case"bottom":l.placeElement(a,u.panel_handle_align,"top",u.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==a.is(":visible")&&a.hide()},this.showHandle=function(){0==a.is(":visible")&&a.show()}}function UGStripPanel(){function e(e,t){T=e,f=jQuery(T),j=jQuery.extend(j,t);var i=!1;1==j.strippanel_vertical_type&&(j=jQuery.extend(j,C),i=!0),0==j.strippanel_enable_buttons&&(j=jQuery.extend(j,A),i=!0),1==i&&(j=jQuery.extend(j,t));var n=T.getOptions(),r=n.gallery_skin;""==j.strippanel_buttons_skin&&(j.strippanel_buttons_skin=r),v=T.getElement(),P.init(T,M,I,j,E),x=new UGThumbsStrip,x.init(T,j)}function t(){if(0==j.strippanel_vertical_type){if(0==M.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==M.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==M.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function i(){return(1!=M.isFirstRun||0!=t())&&(x.run(),a(),d(),m(),M.isFirstRun=!1,void g())}function n(e){if(!e)var e=v;if(e.append("<div class='ug-strip-panel'></div>"),b=e.children(".ug-strip-panel"),1==j.strippanel_enable_buttons){var t="ug-strip-arrow-left",i="ug-strip-arrow-right";1==j.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),b.append("<div class='ug-strip-arrow "+t+" ug-skin-"+j.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),b.append("<div class='ug-strip-arrow "+i+" ug-skin-"+j.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}P.setHtml(b),x.setHtml(b),1==j.strippanel_enable_buttons&&(w=b.children("."+t),y=b.children("."+i)),r()}function r(){""!=j.strippanel_background_color&&b.css("background-color",j.strippanel_background_color)}function o(){var e=x.getHeight(),t=M.panelWidth;if(y){w.height(e),y.height(e);var i=w.children(".ug-strip-arrow-tip");S.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");S.placeElement(n,"center","middle")}var r=e+j.strippanel_padding_top+j.strippanel_padding_bottom;b.width(t),b.height(r),M.panelHeight=r;var o=t-j.strippanel_padding_left-j.strippanel_padding_right;if(y){var s=y.outerWidth();o=o-2*s-2*j.strippanel_padding_buttons}x.resize(o)}function s(){var e=x.getWidth(),t=M.panelHeight;if(y){w.width(e),y.width(e);var i=w.children(".ug-strip-arrow-tip");S.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");S.placeElement(n,"center","middle")}var r=e+j.strippanel_padding_left+j.strippanel_padding_right;b.width(r),b.height(t),M.panelWidth=r;var o=t-j.strippanel_padding_top-j.strippanel_padding_bottom;if(y){var s=y.outerHeight();o=o-2*s-2*j.strippanel_padding_buttons}x.resize(o)}function a(){0==j.strippanel_vertical_type?o():s()}function l(){y&&(S.placeElement(w,"left","top",j.strippanel_padding_left,j.strippanel_padding_top),S.placeElement(y,"right","top",j.strippanel_padding_right,j.strippanel_padding_top));var e=j.strippanel_padding_left;y&&(e+=y.outerWidth()+j.strippanel_padding_buttons),x.setPosition(e,j.strippanel_padding_top)}function u(){y&&(S.placeElement(w,"left","top",j.strippanel_padding_left,j.strippanel_padding_top),S.placeElement(y,"left","bottom",j.strippanel_padding_left,j.strippanel_padding_bottom));var e=j.strippanel_padding_top;y&&(e+=y.outerHeight()+j.strippanel_padding_buttons),x.setPosition(j.strippanel_padding_left,e)}function d(){0==j.strippanel_vertical_type?l():u(),P.placeElements()}function h(e){return!!S.isButtonDisabled(e)||void("advance_item"==j.strippanel_buttons_role?T.nextItem():x.scrollForeward())}function c(e){return!!S.isButtonDisabled(e)||void("advance_item"==j.strippanel_buttons_role?T.prevItem():x.scrollBack())}function g(){if(!y)return!0;if(0==x.isMoveEnabled())return S.disableButton(w),S.disableButton(y),!0;var e=x.getInnerStripLimits(),t=x.getInnerStripPos();t>=e.maxPos?S.disableButton(w):S.enableButton(w),t<=e.minPos?S.disableButton(y):S.enableButton(y)}function _(){g()}function p(){T.isLastItem()?S.disableButton(y):S.enableButton(y),T.isFirstItem()?S.disableButton(w):S.enableButton(w)}function m(){if(1==M.isEventsInited)return!1;if(M.isEventsInited=!0,y)if(S.addClassOnHover(y,"ug-button-hover"),S.addClassOnHover(w,"ug-button-hover"),S.setButtonOnClick(w,c),S.setButtonOnClick(y,h),"advance_item"!=j.strippanel_buttons_role)jQuery(x).on(x.events.STRIP_MOVE,_),jQuery(x).on(x.events.INNER_SIZE_CHANGE,g),f.on(T.events.SIZE_CHANGE,g);else{var e=T.getOptions();0==e.gallery_carousel&&jQuery(T).on(T.events.ITEM_CHANGE,p)}P.initEvents()}var f,v,b,y,w,I=this,E=jQuery(this),T=new UniteGalleryMain,S=new UGFunctions,x=new UGThumbsStrip,P=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var j={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},C={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},A={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},M={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){y&&(S.destroyButton(y),S.destroyButton(w),jQuery(x).off(x.events.STRIP_MOVE),jQuery(T).off(T.events.ITEM_CHANGE),jQuery(T).off(T.events.SIZE_CHANGE)),P.destroy(),x.destroy()},this.getOrientation=function(){return M.orientation},this.setOrientation=function(e){M.orientation=e},this.init=function(t,i){e(t,i)},this.run=function(){i()},this.setHtml=function(e){n(e)},this.getElement=function(){return b},this.getSize=function(){var e=S.getElementSize(b);return e},this.setWidth=function(e){M.panelWidth=e},this.setHeight=function(e){M.panelHeight=e},this.resize=function(e){I.setWidth(e),a(),d()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return P.isPanelClosed()},this.getClosedPanelDest=function(){return P.getClosedPanelDest()},this.openPanel=function(e){P.openPanel(e)},this.closePanel=function(e){P.closePanel(e)},this.setOpenedState=function(e){P.setOpenedState(e)},this.setClosedState=function(e){P.setClosedState(e)},this.setCustomThumbs=function(e){x.setCustomThumbs(e)},this.setDisabledAtStart=function(e){P.setDisabledAtStart(e)}}function UGGridPanel(){function e(e,i){P=e,t(),i&&i.vertical_scroll&&(M.gridpanel_vertical_scroll=i.vertical_scroll),M=jQuery.extend(M,i),1==L.isHorType?(M=jQuery.extend(M,O),M=jQuery.extend(M,i)):1==M.gridpanel_vertical_scroll&&(M=jQuery.extend(M,z),M=jQuery.extend(M,i),M.grid_panes_direction="bottom");var n=P.getOptions(),r=n.gallery_skin;""==M.gridpanel_arrows_skin&&(M.gridpanel_arrows_skin=r);var o=e.getObjects();w=o.g_objWrapper,A.init(P,L,S,M,x),C=new UGThumbsGrid,C.init(P,M)}function t(){if(null==L.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function i(){t(),o(),C.run(),l(),u(),y(),d()}function n(){w.append("<div class='ug-grid-panel'></div>"),I=w.children(".ug-grid-panel"),L.isHorType?(I.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),I.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T=I.children(".grid-arrow-left-hortype"),E=I.children(".grid-arrow-right-hortype")):0==M.gridpanel_vertical_scroll?(I.append("<div class='grid-arrow grid-arrow-left ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),I.append("<div class='grid-arrow grid-arrow-right ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T=I.children(".grid-arrow-left"),E=I.children(".grid-arrow-right")):(I.append("<div class='grid-arrow grid-arrow-up ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),I.append("<div class='grid-arrow grid-arrow-down ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T=I.children(".grid-arrow-up"),E=I.children(".grid-arrow-down")),A.setHtml(I),T.fadeTo(0,0),E.fadeTo(0,0),C.setHtml(I),r()}function r(){""!=M.gridpanel_background_color&&I.css("background-color",M.gridpanel_background_color)}function o(){"center"==M.gridpanel_grid_align&&(M.gridpanel_grid_align="middle")}function s(){var e=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=L.panelHeight-e;if(0==M.gridpanel_arrows_always_on){var i=C.getNumPanesEstimationByHeight(t);if(1==i)return t}var n=j.getElementSize(E),r=n.height,e=r+M.gridpanel_arrows_padding_vert;return 1==M.gridpanel_vertical_scroll&&(e*=2),e+=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=L.panelHeight-e}function a(){var e=M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,t=L.panelWidth-e;if(0==M.gridpanel_arrows_always_on){var i=C.getNumPanesEstimationByWidth(t);if(1==i)return t}var n=j.getElementSize(E),r=n.width;return e+=2*(r+M.gridpanel_arrows_padding_hor),t=L.panelWidth-e}function l(){var e=!1;if(1==M.gridpanel_arrows_always_on)e=!0;else{var t=C.getNumPanes();t>1&&(e=!0)}1==e?(E.show().fadeTo(0,1),T.show().fadeTo(0,1),L.arrowsVisible=!0):(E.hide(),T.hide(),L.arrowsVisible=!1)}function u(){var e=C.getSize();1==L.isHorType?L.panelHeight=e.height+M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom:L.panelWidth=e.width+M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,j.setElementSize(I,L.panelWidth,L.panelHeight)}function d(){return 1!=L.isEventsInited&&(L.isEventsInited=!0,T&&(j.addClassOnHover(T),C.attachPrevPaneButton(T)),E&&(j.addClassOnHover(E),C.attachNextPaneButton(E)),void A.initEvents())}function h(){var e=M.gridpanel_padding_border_left;return e}function c(){var e=M.gridpanel_grid_align,t=0;switch(e){case"top":t=M.gridpanel_padding_border_top;break;case"bottom":t=M.gridpanel_padding_border_bottom}var i=h(),n=C.getElement();j.placeElement(n,i,e,0,t)}function g(){var e,t,i,n,r=j.getElementSize(T),o=C.getSize();switch(M.gridpanel_grid_align){default:case"top":e=M.gridpanel_padding_border_top+r.height+M.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=L.panelHeight-o.height-r.height-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert}var s=h(),a=C.getElement();j.placeElement(a,s,e);var o=C.getSize();switch(M.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(o.top-r.height)/2,i=o.bottom+(L.panelHeight-o.bottom-r.height)/2,n=0;break;case"grid":t=o.top-r.height-M.gridpanel_arrows_padding_vert_vert,i=o.bottom+M.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=M.gridpanel_padding_border_top,i="bottom",n=M.gridpanel_padding_border_bottom}j.placeElement(T,"center",t),j.placeElement(E,"center",i,0,n)}function _(){1==L.arrowsVisible?g():c()}function p(){var e,t,i,n,r=j.getElementSize(T),o=C.getSize(),s=M.gridpanel_padding_border_top;switch(M.gridpanel_grid_align){case"middle":switch(M.gridpanel_arrows_align_vert){default:var a=o.height+M.gridpanel_arrows_padding_vert+r.height;s=(L.panelHeight-a)/2;break;case"border":case"borders":var l=L.panelHeight-r.height-M.gridpanel_padding_border_bottom;s=(l-o.height)/2}break;case"bottom":var a=o.height+r.height+M.gridpanel_arrows_padding_vert;s=L.panelHeight-a-M.gridpanel_padding_border_bottom}var u=C.getElement(),d=h();j.placeElement(u,d,s);var o=C.getSize();switch(M.gridpanel_arrows_align_vert){default:case"center":case"middle":e=o.bottom+(L.panelHeight-o.bottom-r.height)/2,i=0;break;case"grid":e=o.bottom+M.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=M.gridpanel_padding_border_bottom}t=-r.width/2-M.gridpanel_space_between_arrows/2,j.placeElement(T,"center",e,t,i);var n=Math.abs(t);j.placeElement(E,"center",e,n,i)}function m(){1==L.arrowsVisible?p():c()}function f(){var e,t,i,n,r=j.getElementSize(T),o=C.getSize();switch(M.gridpanel_grid_align){default:case"left":e=M.gridpanel_padding_border_left+M.gridpanel_arrows_padding_hor+r.width;
break;case"middle":case"center":e="center";break;case"right":e=L.panelWidth-o.width-r.width-M.gridpanel_padding_border_right-M.gridpanel_arrows_padding_hor}var s=C.getElement();switch(j.placeElement(s,e,M.gridpanel_padding_border_top),o=C.getSize(),M.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(o.height-r.height)/2+o.top;break;case"top":n=M.gridpanel_padding_border_top+M.gridpanel_arrows_padding_vert;break;case"bottom":n=L.panelHeight-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert-r.height}switch(M.gridpanel_arrows_align_hor){default:case"borders":t=M.gridpanel_padding_border_left,i=L.panelWidth-M.gridpanel_padding_border_right-r.width;break;case"grid":t=o.left-M.gridpanel_arrows_padding_hor-r.width,i=o.right+M.gridpanel_arrows_padding_hor;break;case"center":t=(o.left-r.width)/2,i=o.right+(L.panelWidth-o.right-r.width)/2}j.placeElement(T,t,n),j.placeElement(E,i,n)}function v(){var e,t=C.getSize();switch(M.gridpanel_grid_align){default:case"left":e=M.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=L.panelWidth-t.width-M.gridpanel_padding_border_right}var i=C.getElement();j.placeElement(i,e,M.gridpanel_padding_border_top)}function b(){1==L.arrowsVisible?f():v()}function y(){0==L.isHorType?1==M.gridpanel_vertical_scroll?_():m():b(),A.placeElements()}var w,I,E,T,S=this,x=jQuery(this),P=new UniteGalleryMain,j=new UGFunctions,C=new UGThumbsGrid,A=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var M={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},z={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},O={gridpanel_grid_align:"center"},L={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){T&&j.destroyButton(T),E&&j.destroyButton(E),A.destroy(),C.destroy()},this.getOrientation=function(){return L.orientation},this.setOrientation=function(e){switch(L.orientation=e,e){case"right":case"left":L.isHorType=!1;break;case"top":case"bottom":L.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==L.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+L.orientation+"). Please use setWidth");L.panelHeight=e;var t=s();C.setMaxHeight(t)},this.setWidth=function(e){if(0==L.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+L.orientation+"). Please use setHeight");L.panelWidth=e;var t=a();C.setMaxWidth(t)},this.init=function(t,i){e(t,i)},this.setHtml=function(){n()},this.run=function(){i()},this.getElement=function(){return I},this.getSize=function(){var e=j.getElementSize(I);return e},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return A.isPanelClosed()},this.getClosedPanelDest=function(){return A.getClosedPanelDest()},this.openPanel=function(e){A.openPanel(e)},this.closePanel=function(e){A.closePanel(e)},this.setOpenedState=function(e){A.setOpenedState(e)},this.setClosedState=function(e){A.setClosedState(e)},this.setDisabledAtStart=function(e){A.setDisabledAtStart(e)}}function UGThumbsGrid(){function e(e,t,i){if(H=e.getObjects(),F=e,F.attachThumbsPanel("grid",Q),k=jQuery(e),N=H.g_objWrapper,D=H.g_arrItems,i===!0&&(X.isTilesMode=!0),X.numThumbs=D.length,h(t),1==X.isTilesMode){U.setFixedMode(),U.setApproveClickFunction(P),U.init(e,V);var n=U.getOptions();X.tileMaxHeight=n.tile_height,X.tileMaxWidth=n.tile_width,Y=U.getObjThumbs()}else t.thumb_fixed_size=!0,Y.init(e,t)}function t(e){var t=N;e&&(t=e),t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),R=t.children(".ug-thumbs-grid"),G=R.children(".ug-thumbs-grid-inner"),1==X.isTilesMode?U.setHtml(G):Y.setHtmlThumbs(G)}function n(){if(0==X.isHorizontal){if(0==X.gridHeight)throw new Error("You must set height before run.")}else if(0==X.gridWidth)throw new Error("You must set width before run.")}function r(){var e=F.getSelectedItem();if(n(),1==X.isFirstTimeRun)L(),1==X.isTilesMode?(s(),u(),U.run()):(Y.setHtmlProperties(),u(),Y.loadThumbsImages());else if(1==X.isTilesMode){var t=s();1==t&&(u(),U.run())}if(p(),1==X.isFirstTimeRun&&X.isTilesMode){var i=Y.getThumbs();i.each(function(e,t){N.trigger(X.eventSizeChange,jQuery(t))}),i.fadeTo(0,1)}null!=e&&d(e.index),W.trigger(Q.events.PANE_CHANGE,X.currentPane),X.isFirstTimeRun=!1}function o(){if(1==X.isTilesMode)var e=U.getGlobalTileSize();else var e=Y.getGlobalThumbSize();return e}function s(){if(0==X.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=F.isMobileMode(),i=X.spaceBetweenCols;1==t?(X.spaceBetweenCols=V.grid_space_between_mobile,X.spaceBetweenRows=V.grid_space_between_mobile):(X.spaceBetweenCols=V.grid_space_between_cols,X.spaceBetweenRows=V.grid_space_between_rows),X.spaceBetweenCols!=i&&(e=!0);var n=o(),r=n.width,s=X.tileMaxWidth,a=B.getNumItemsInSpace(X.gridWidth,X.tileMaxWidth,X.spaceBetweenCols);return a<V.grid_min_cols&&(s=B.getItemSizeInSpace(X.gridWidth,V.grid_min_cols,X.spaceBetweenCols)),U.setTileSizeOptions(s),s!=r&&(e=!0),e}function a(){var e=o(),t=e.height,i=X.gridWidth,n=V.grid_num_rows*t+(V.grid_num_rows-1)*X.spaceBetweenRows+2*V.grid_padding;X.gridHeight=n,B.setElementSize(R,i,n),B.setElementSize(G,i,n),X.innerWidth=i,X.innerHeight=n}function l(){var e=o(),t=e.width,i=V.grid_num_cols*t+(V.grid_num_cols-1)*X.spaceBetweenCols+2*V.grid_padding,n=X.gridHeight;X.gridWidth=i,B.setElementSize(R,i,n),B.setElementSize(G,i,n),X.innerWidth=i,X.innerHeight=n}function u(){0==X.isHorizontal?l():a()}function d(e){var t=T(e);return t!=-1&&void Q.gotoPane(t,"scroll")}function h(e){V=jQuery.extend(V,e),Y.setOptions(e),X.isNavigationVertical="top"==V.grid_panes_direction||"bottom"==V.grid_panes_direction,X.spaceBetweenCols=V.grid_space_between_cols,X.spaceBetweenRows=V.grid_space_between_rows}function c(){var e=G.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,s=0,a=0;X.innerWidth=0,X.numPanes=1,X.arrPanes=[],X.numThumbsInPane=0,X.arrPanes.push(o);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);B.placeElement(u,t,n);var d=u.outerWidth(),h=u.outerHeight();t>s&&(s=t);var c=n+h;c>a&&(a=c);var g=s+d;g>X.innerWidth&&(X.innerWidth=g),t+=d+X.spaceBetweenCols,r++,r>=V.grid_num_cols&&(n+=h+X.spaceBetweenRows,t=o,r=0),1==X.numPanes&&X.numThumbsInPane++,n+h>X.gridHeight&&(n=0,o=X.innerWidth+X.spaceBetweenCols,t=o,r=0,1==X.isMaxHeight&&1==X.numPanes&&(X.gridHeight=a,R.height(X.gridHeight)),i<l-1&&(X.numPanes++,X.arrPanes.push(o)))}G.width(X.innerWidth),1==X.isMaxHeight&&1==X.numPanes&&(X.gridHeight=a,R.height(a))}function g(){var e=G.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,s=0,a=0;X.innerWidth=0,X.numPanes=1,X.arrPanes=[],X.numThumbsInPane=0,X.arrPanes.push(s);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);B.placeElement(u,t,n);var d=u.outerWidth(),h=u.outerHeight();t+=d+X.spaceBetweenCols;var c=n+h;c>r&&(r=c),o++,o>=V.grid_num_cols&&(n+=h+X.spaceBetweenRows,t=s,o=0),1==X.numPanes&&X.numThumbsInPane++,c=n+h;var g=a+X.gridHeight;c>g&&(1==X.isMaxHeight&&1==X.numPanes&&(X.gridHeight=r,R.height(X.gridHeight),g=X.gridHeight),n=g+X.spaceBetweenRows,a=n,s=0,t=s,o=0,i<l-1&&(X.numPanes++,X.arrPanes.push(n)))}G.height(r),X.innerHeight=r,1==X.isMaxHeight&&1==X.numPanes&&(X.gridHeight=r,R.height(r))}function _(){var e=G.children(".ug-thumb-wrapper"),t=V.grid_padding,n=V.grid_padding,r=n,o=t,s=0,a=0,l=0,u=0,d=0;X.innerWidth=0,X.numPanes=1,X.arrPanes=[],X.numThumbsInPane=0,X.arrPanes.push(t-V.grid_padding);var h=e.length;for(i=0;i<h;i++){var c=jQuery(e[i]),g=c.outerWidth(),_=c.outerHeight();o-t+g>X.gridWidth&&(d++,r=0,d>=V.grid_num_rows?(d=0,t=o,r=n,l=0,1==X.numPanes&&(X.gridWidth=s+V.grid_padding,R.width(X.gridWidth),X.gridHeight=u+V.grid_padding,R.height(X.gridHeight)),X.numPanes++,X.arrPanes.push(t-V.grid_padding)):(o=t,r=l+X.spaceBetweenRows)),B.placeElement(c,o,r);var p=o+g;p>s&&(s=p);var m=r+_;m>l&&(l=m),m>u&&(u=m),m>a&&(a=m);var p=s+g;p>X.innerWidth&&(X.innerWidth=p),o+=g+X.spaceBetweenCols,1==X.numPanes&&X.numThumbsInPane++}X.innerWidth=s+V.grid_padding,X.innerHeight=u+V.grid_padding,G.width(X.innerWidth),G.height(X.innerHeight),1==X.numPanes&&(X.gridWidth=s+V.grid_padding,X.gridHeight=u+V.grid_padding,R.width(X.gridWidth),R.height(X.gridHeight))}function p(){0==X.isHorizontal?X.isNavigationVertical?g():c():_()}function m(e){if(e<0||e>=X.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function f(e){if(e>=X.numPanes||e<0)throw new Error("Pane "+index+" doesn't exists.");return!0}function v(e){var t=I(e);return 0!=t&&void G.css(t)}function b(e){var t=I(e);return 0!=t&&void G.stop(!0).animate(t,{duration:V.grid_transition_duration,easing:V.grid_transition_easing,queue:!1})}function y(){var e=-X.arrPanes[X.currentPane];b(e)}function w(){return 1==X.isNavigationVertical?X.gridHeight:X.gridWidth}function I(e){var t={};return 1==X.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function E(){var e=B.getElementSize(G);return 1==X.isNavigationVertical?e.top:e.left}function T(e){if(0==m(e))return-1;var t=Math.floor(e/X.numThumbsInPane);return t}function S(){if(1==X.numPanes)return!1;var e=B.getStoredEventData(X.storedEventID),t=e.diffTime,i=E(),n=Math.abs(i-e.startInnerPos);return n>30||n>5&&t>300}function x(){var e=B.getStoredEventData(X.storedEventID),t=E();diffPos=Math.abs(e.startInnerPos-t);var i=w(),n=Math.round(3*i/8);return diffPos>=n||e.diffTime<300&&diffPos>25}function P(){if(1==X.numPanes)return!0;var e=B.isApproveStoredEventClick(X.storedEventID,X.isNavigationVertical);return e}function j(e){if(1==S())return!0;var t=jQuery(this),i=Y.getItemByThumb(t);F.selectItem(i)}function C(e){if(1==X.numPanes)return!0;if(1==X.touchActive)return!0;0==X.isTilesMode&&e.preventDefault(),X.touchActive=!0;var t={startInnerPos:E()};B.storeEventData(e,X.storedEventID,t)}function A(){if(0==V.grid_vertical_scroll_ondrag)return!1;if(1==X.isNavigationVertical)return!1;var e=B.handleScrollTop(X.storedEventID);return"vert"===e}function M(e){if(0==X.touchActive)return!0;e.preventDefault(),B.updateStoredEventData(e,X.storedEventID);var t=B.getStoredEventData(X.storedEventID,X.isNavigationVertical),i=A();if(i)return!0;var n=t.diffMousePos,r=t.startInnerPos+n,o=n>0?"prev":"next",s=X.arrPanes[X.numPanes-1];0==V.grid_carousel&&r>0&&"prev"==o&&(r/=3),0==V.grid_carousel&&r<-s&&"next"==o&&(r=t.startInnerPos+n/3),v(r)}function z(e){if(0==X.touchActive)return!0;B.updateStoredEventData(e,X.storedEventID);var t=B.getStoredEventData(X.storedEventID,X.isNavigationVertical);if(X.touchActive=!1,0==x())return y(),!0;var i=E(),n=i-t.startInnerPos,r=n>0?"prev":"next";"next"==r?0==V.grid_carousel&&Q.isLastPane()?y():Q.nextPane():0==V.grid_carousel&&Q.isFirstPane()?y():Q.prevPane()}function O(){var e=F.getSelectedItem();Y.setThumbSelected(e.objThumbWrapper),d(e.index)}function L(){if(0==X.isTilesMode){Y.initEvents();var e=R.find(".ug-thumb-wrapper");e.on("click touchend",j),k.on(F.events.ITEM_CHANGE,O)}else U.initEvents();R.bind("mousedown touchstart",C),jQuery("body").bind("mousemove touchmove",M),jQuery(window).add("body").bind("mouseup touchend",z)}var k,H,N,D,R,G,Q=this,W=jQuery(this),F=new UniteGalleryMain,B=new UGFunctions,Y=new UGThumbsGeneral,U=new UGTileDesign,V={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var X={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==X.isTilesMode){var e=R.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),k.on(F.events.ITEM_CHANGE),Y.destroy()}else U.destroy();R.unbind("mousedown"),R.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),W.off(Q.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){Y.setThumbUnselected(e)},this.isItemThumbVisible=function(e){var t=e.index,i=T(t);return i==X.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==X.isTilesMode)var t=V.tile_height;else var i=Y.getOptions(),t=i.thumb_height;var n=Y.getNumThumbs(),r=Math.ceil(n/V.grid_num_cols),o=r*t+(r-1)*X.spaceBetweenRows,s=Math.ceil(o/e);return s},this.getNumPanesEstimationByWidth=function(e){if(X.isTilesMode)var t=V.tile_width;else var i=Y.getOptions(),t=i.thumb_width;var n=Y.getNumThumbs(),r=Math.ceil(n/V.grid_num_rows),o=r*t+(r-1)*X.spaceBetweenCols,s=Math.ceil(o/e);return s},this.getHeightEstimationByWidth=function(e){if(0==X.isTilesMode)throw new Error("This function works only with tiles mode");var t=Y.getNumThumbs(),i=B.getNumItemsInSpace(e,V.tile_width,X.spaceBetweenCols),n=Math.ceil(t/i);n>V.grid_num_rows&&(n=V.grid_num_rows);var r=B.getSpaceByNumItems(n,V.tile_height,X.spaceBetweenRows);return r+=2*V.grid_padding},this.getElement=function(){return R},this.getSize=function(){var e=B.getElementSize(R);return e},this.getNumPanes=function(){return X.numPanes},this.isFirstPane=function(){return 0==X.currentPane},this.isLastPane=function(){return X.currentPane==X.numPanes-1},this.getPaneInfo=function(){var e={pane:X.currentPane,total:X.numPanes};return e},this.getPane=function(){return X.currentPane},this.setWidth=function(e){X.gridWidth=e,X.isHorizontal=!0},this.setMaxWidth=function(e){X.gridWidth=e,X.isMaxWidth=!0,X.isHorizontal=!0},this.setHeight=function(e){X.gridHeight=e,X.isHorizontal=!1},this.setMaxHeight=function(e){X.gridHeight=e,X.isMaxHeight=!0,X.isHorizontal=!1},this.gotoPane=function(e,t){if(0==f(e))return!1;if(e==X.currentPane)return!1;var i=-X.arrPanes[e];X.currentPane=e,b(i),W.trigger(Q.events.PANE_CHANGE,e)},this.nextPane=function(){var e=X.currentPane+1;if(e>=X.numPanes){if(0==V.grid_carousel)return!0;e=0}Q.gotoPane(e,"next")},this.prevPane=function(){var e=X.currentPane-1;return!(e<0&&(e=X.numPanes-1,0==V.grid_carousel))&&void Q.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){return B.setButtonOnClick(e,Q.nextPane),1==V.grid_carousel||(Q.isLastPane()&&e.addClass("ug-button-disabled"),void W.on(Q.events.PANE_CHANGE,function(){Q.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(e){return B.setButtonOnClick(e,Q.prevPane),1==V.grid_carousel||(Q.isFirstPane()&&e.addClass("ug-button-disabled"),void W.on(Q.events.PANE_CHANGE,function(){Q.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachBullets=function(e){e.setActive(X.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,i){Q.gotoPane(i,"theme"),e.setActive(i)}),jQuery(Q).on(Q.events.PANE_CHANGE,function(t,i){e.setActive(i)})},this.getObjTileDesign=function(){return U},this.init=function(t,i,n){e(t,i,n)},this.run=function(){r()},this.setHtml=function(e){t(e)}}function UGTiles(){function e(e,i){g_objects=e.getObjects(),re=e,q=jQuery(e),Z=g_objects.g_objWrapper,J=g_objects.g_arrItems,ue=jQuery.extend(ue,i),t(),se.init(e,ue),ae=se.getObjThumbs()}function t(){ue.tiles_min_columns<1&&(ue.tiles_min_columns=1),0!=ue.tiles_max_columns&&ue.tiles_max_columns<ue.tiles_min_columns&&(ue.tiles_max_columns=ue.tiles_min_columns)}function i(e){if(!e)var e=Z;K=e;var t=ue.tiles_type;e.addClass("ug-tiletype-"+t),se.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function n(){if(K.addClass("ug-tiles-rest-mode"),de.isTransInited=!0,1==ue.tiles_enable_transition){K.addClass("ug-tiles-transit");var e=se.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&K.addClass("ug-tiles-transit-overlays"),de.isTransActive=!0}}function r(){return oe.getElementSize(K).width}function o(){return 0!=de.isTransInited&&(K.addClass("ug-tiles-transition-active"),K.removeClass("ug-tiles-rest-mode"),0!=de.isTransActive&&void se.disableEvents())}function s(){return 0!=de.isTransInited&&(K.removeClass("ug-tiles-transition-active"),void K.addClass("ug-tiles-rest-mode"))}function a(){1==de.isTransActive?(setTimeout(function(){se.enableEvents(),se.triggerSizeChangeEventAllTiles(),s()},800),de.handle&&clearTimeout(de.handle),de.handle=setTimeout(function(){s(),se.triggerSizeChangeEventAllTiles(),de.handle=null},2e3)):(se.triggerSizeChangeEventAllTiles(),s())}function l(){le.colWidth=(le.availWidth-le.colGap*(le.numCols-1))/le.numCols,le.colWidth=Math.floor(le.colWidth),le.totalWidth=oe.getSpaceByNumItems(le.numCols,le.colWidth,le.colGap)}function u(){if(le.colWidth=ue.tiles_col_width,le.minCols=ue.tiles_min_columns,le.maxCols=ue.tiles_max_columns,0==re.isMobileMode()?le.colGap=ue.tiles_space_between_cols:le.colGap=ue.tiles_space_between_cols_mobile,le.galleryWidth=r(),le.availWidth=le.galleryWidth,1==ue.tiles_include_padding&&(le.availWidth=le.galleryWidth-2*le.colGap),1==ue.tiles_exact_width)le.numCols=oe.getNumItemsInSpace(le.availWidth,le.colWidth,le.colGap),le.maxCols>0&&le.numCols>le.maxCols&&(le.numCols=le.maxCols),le.numCols<le.minCols?(le.numCols=le.minCols,l()):le.totalWidth=le.numCols*(le.colWidth+le.colGap)-le.colGap;else{var e=oe.getNumItemsInSpaceRound(le.availWidth,le.colWidth,le.colGap);e<le.minCols?e=le.minCols:0!=le.maxCols&&e>le.maxCols&&(e=le.maxCols),le.numCols=e,l()}switch(ue.tiles_align){case"center":default:le.addX=Math.round((le.galleryWidth-le.totalWidth)/2);break;case"left":le.addX=0;break;case"right":le.addX=le.galleryWidth-le.totalWidth}for(le.maxColHeight=0,le.arrPosx=[],col=0;col<le.numCols;col++){var t=oe.getColX(col,le.colWidth,le.colGap);le.arrPosx[col]=t+le.addX}le.colHeights=[0]}function d(){var e=0,t=999999999;for(col=0;col<le.numCols;col++){if(void 0==le.colHeights[col]||0==le.colHeights[col])return col;le.colHeights[col]<t&&(e=col,t=le.colHeights[col])}return e}function h(e,t,i,n){if(null===n||"undefined"==typeof n)var n=d();var r=0;void 0!==le.colHeights[n]&&(r=le.colHeights[n]);var o=se.getTileHeightByWidth(le.colWidth,e,"placeTile");if(null===o){if(1==ue.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");var s=oe.getElementSize(e);o=s.height}var a=le.arrPosx[n];oe.placeElement(e,a,r);var l=r+o;le.colHeights[n]=l+le.colGap,le.maxColHeight<l&&(le.maxColHeight=l),1==t&&e.show().fadeTo(0,1),1==i&&K.height(le.maxColHeight)}function c(e){e||(e=!1),u();var t=ae.getThumbs();o(),se.resizeAllTiles(le.colWidth,se.resizemode.VISIBLE_ELEMENTS);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),r=void 0;1==ue.tiles_keep_order&&(r=oe.getColByIndex(le.numCols,i)),h(n,e,!1,r)}a();var s=K.height();1==de.isTransActive&&s>le.maxColHeight?setTimeout(function(){K.height(le.maxColHeight)},700):K.height(le.maxColHeight)}function g(e){var t=e.index(),i=re.getItem(t);if(i.ordered_placed===!0)return!1;var n=oe.getPrevRowSameColIndex(t,le.numCols);if(n<0)return!0;var r=re.getItem(n);return r.ordered_placed===!0}function _(e,t){if(t!==!0){var i=g(e);if(0==i)return!1}var n=e.index(),r=oe.getColByIndex(le.numCols,n),o=re.getItem(n);se.resizeTile(e,le.colWidth),h(e,!0,!0,r),o.ordered_placed=!0;var s=re.getNumItems(),a=oe.getNextRowSameColIndex(n,le.numCols);if(a>=s)return!1;var l=ae.getThumbByIndex(a),u=re.getItem(a);ae.isThumbLoaded(l);ae.isThumbLoaded(l)&&!u.ordered_placed&&_(l,!0)}function p(e,t){if(1==t)return!1;e=jQuery(e);var i=jQuery(e).parent();ae.triggerImageLoadedEvent(i,e),1==ue.tiles_keep_order?_(i):(se.resizeTile(i,le.colWidth),h(i,!0,!0))}function m(){var e=ae.getThumbs();de.isAllLoaded=!1,u();var t=Math.abs(le.galleryWidth-le.totalWidth);if(1==ue.tiles_set_initial_height&&0==oe.isScrollbarExists()&&t<25){var i=(e.length,Math.ceil(e.length/le.numCols)),r=i*ue.tiles_col_width*.75;K.height(r),u()}e.fadeTo(0,0);var o=jQuery(K).find("img.ug-thumb-image");if(1==de.isFixedMode)ne.trigger(ie.events.TILES_FIRST_PLACED),c(!0),oe.checkImagesLoaded(o,function(){n(),ne.trigger(ie.events.ALL_TILES_LOADED)});else{var s=le.numCols,a=le.galleryWidth,l=!1;oe.checkImagesLoaded(o,function(){u(),s==le.numCols&&a==le.galleryWidth||c(!1),n(),ne.trigger(ie.events.ALL_TILES_LOADED)},function(e,t){0==l&&ne.trigger(ie.events.TILES_FIRST_PLACED),l=!0,p(e,t)})}}function f(){var e=r(),t=ae.getThumbs(),i=ue.tiles_justified_row_height,n=[],o=0,s=ue.tiles_justified_space_between,a=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var r=ae.getItemByThumb(t),s=r.thumbWidth,a=r.thumbHeight;a!==i&&(s=Math.floor(r.thumbRatioByWidth*i)),n[e]=s,o+=s});var l=Math.ceil(o/e);l>a&&(l=a);var u=o/l,d=[],h=0,c=[],g=[],_=0,p=0;jQuery.each(t,function(e,t){var i=n[e];_+i/2>(p+1)*u&&(c[d.length]=h,d.push(g),g=[],h=0,p++),_+=i,h+=i,g.push(t)}),c[d.length]=h,d.push(g);var m=[],f=[],v=0;jQuery.each(d,function(t,r){var o=(r.length,c[t]),a=(r.length-1)*s,l=(e-a)/o,u=Math.round(i*l);v+=u,t>0&&(v+=s),f.push(u);var d=u/i,h=[],g=a;jQuery.each(r,function(e,t){var i=jQuery(t),r=i.index(),o=n[r],s=Math.round(o*d);h[e]=s,g+=s});var _=g-e;jQuery.each(h,function(e,t){return 0!=_&&(_<0?(h[e]=t+1,_++):(h[e]=t-1,_--),void(e==h.length-1&&0!=_&&(h[e]-=_)))}),m[t]=h});var b={arrRows:d,arrRowWidths:m,arrRowHeights:f,gap:s,totalHeight:v};return b}function v(e){if(!e)var e=!1;var t=r(),i=f();K.height(i.totalHeight);var n=r();n!=t&&(i=f()),o();var s=0,l=0;jQuery.each(i.arrRows,function(t,n){var r=i.arrRowWidths[t],o=i.arrRowHeights[t],a=0;jQuery.each(n,function(t,n){var u=jQuery(n),d=o,h=r[t];se.resizeTile(u,h,d,se.resizemode.VISIBLE_ELEMENTS),oe.placeElement(u,a,s),a+=h,a>l&&(l=a),a+=i.gap,1==e&&jQuery(n).show()}),s+=o+i.gap}),a()}function b(){var e=jQuery(Z).find("img.ug-thumb-image"),t=ae.getThumbs();de.isAllLoaded=!1,t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){setTimeout(function(){v(!0),t.fadeTo(0,1),ne.trigger(ie.events.TILES_FIRST_PLACED),n(),ne.trigger(ie.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();ae.triggerImageLoadedEvent(i,e)})}function y(){var e=jQuery(Z).find("img.ug-thumb-image"),t=ae.getThumbs();de.isAllLoaded=!1,t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){1==re.isMobileMode()?c(!0):I(!0),ne.trigger(ie.events.TILES_FIRST_PLACED),n(),ne.trigger(ie.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();ae.triggerImageLoadedEvent(i,e)})}function w(){var e=r();he.galleryWidth=e,ee={},he.colWidth=ue.tiles_nested_col_width,he.optimalTileWidth=ue.tiles_nested_optimal_tile_width,he.currentGap=ue.tiles_space_between_cols,1==re.isMobileMode()&&(he.currentGap=ue.tiles_space_between_cols_mobile),null==he.colWidth?he.colWidth=Math.floor(he.optimalTileWidth/he.nestedOptimalCols):he.optimalTileWidth>he.colWidth?he.nestedOptimalCols=Math.ceil(he.optimalTileWidth/he.colWidth):he.nestedOptimalCols=1,he.maxColumns=oe.getNumItemsInSpace(e,he.colWidth,he.currentGap),he.colWidth=oe.getItemSizeInSpace(e,he.maxColumns,he.currentGap),he.gridY=0,te=[];var t=ae.getThumbs();switch(t.each(function(){var e=jQuery(this),t=E(e);te.push(t)}),he.optimalTileWidth>he.colWidth?he.nestedOptimalCols=Math.ceil(he.optimalTileWidth/he.colWidth):he.nestedOptimalCols=1,he.totalWidth=he.maxColumns*(he.colWidth+he.currentGap)-he.currentGap,ue.tiles_align){case"center":default:he.addX=Math.round((he.galleryWidth-he.totalWidth)/2);break;case"left":he.addX=0;break;case"right":he.addX=he.galleryWidth-he.totalWidth}he.maxGridY=0}function I(e){var t=r();w(),x();var i=he.maxGridY*(he.colWidth+he.currentGap)-he.currentGap;K.height(i);var n=r();n!=t&&(w(),x()),0==ue.tiles_nested_debug&&Y(e)}function E(e){var t,i,n={},r=he.colWidth,o=he.currentGap,s=se.getTileImageSize(e),a=e.index(),l=Math.ceil(T(a)*(1*he.nestedOptimalCols/3)+2*he.nestedOptimalCols/3),u=s.width,d=s.height,h=u/d;return u>d?(t=l,i=Math.round(t/h),0==i&&(i=1)):(i=l,t=Math.round(i*h),0==t&&(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*r+o*(t-1),n.height=i*r+o*(i-1),n.imgWidth=u,n.imgHeight=d,n.left=0,n.top=0,n}function T(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function S(e,t){if(0==t){for(var i=he.currentItem;i<te.length;i++)P(i,!0);he.currentItem=te.length-1}else P(he.currentItem,!0);for(var i=0;i<=he.currentItem;i++)U(i,!0);he.currentItem++}function x(e){if(1==ue.tiles_nested_debug)return"undefined"==typeof e&&(e=!0),S(!0,e),!1;for(var t=0;t<te.length;t++)P(t,!0)}function P(e,t){if(!t)var t=!1;he.maxColHeight=0;for(var i=oe.getObjectLength(ee),n=he.gridY;n<=i+1;n++){for(var r=0;r<he.maxColumns;r++)if(0==G(he.gridY)||0==F(he.gridY,r)){var o=R(r);return void j(e,o,r)}he.gridY++}}function j(e,t,i){var n=jQuery.extend(!0,{},te[e]),r=n.dimWidth,o=t-n.dimWidth,s=he.nestedOptimalCols,a=t<=n.dimWidth||o<=.33*s||t<=s;if(a)k(e,t);else if(o<=s)s>=4?1==D(Math.floor(t/2),i)?k(e,Math.floor(t/2)+1):k(e,Math.floor(t/2)):k(objImage,t);else if(1==D(r,i))switch(r>=s){case!0:k(e,r-1);break;case!1:k(e,r+1)}n=jQuery.extend(!0,{},te[e]);var l=O(e,n.dimWidth,i);if(he.columnsValueToEnableHeightResize<=l[0]&&he.maxColumns>=2*he.nestedOptimalCols){var u=L(i,n),d=H(e,u.newHeight,!0);te[e].dimHeight=d.dimHeight;var h=z(l,d.dimWidth,i),c=C(h),g=!1;c>=2&&(g=!0),u.newHeight>=n.dimHeight&&(n=H(e,u.newHeight,!0));var _=A(u.idToResize,u.newHeight,n.dimHeight);n.top=he.gridY,n.left=i,_.push({tileID:e,sizes:n});var p=N(_),m=N(h);return p<m||1==g?void M(_):void M(h)}n.left=i,n.top=he.gridY,te[e]=n,Q(e,n,i,he.gridY),he.maxGridY=n.top+n.dimHeight}function C(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var r=e[n].sizes,o=-1,s=-1;G(r.top+r.dimHeight)&&he.maxColumns>r.left+r.dimWidth&&(o=ee[r.top+r.dimHeight-1][r.left+r.dimWidth],s=ee[r.top+r.dimHeight][r.left+r.dimWidth]),o!=s&&t++}for(var n=0;n<e.length-1;n++){var r=e[n].sizes,o=-1,s=-1;G(r.top+r.dimHeight)&&r.left-1>=0&&(o=ee[r.top+r.dimHeight-1][r.left-1],s=ee[r.top+r.dimHeight][r.left-1]),o!=s&&i++}return Math.max(i,t)}function A(e,t,i){var n=te[e],r=n.dimHeight,o=(n.dimWidth,n.left),s=n.top,a=(parseInt(s/(he.colWidth+he.currentGap)),parseInt(o/(he.colWidth+he.currentGap)),r-t+i),l=H(e,a,!0),u=[];return u.push({tileID:e,sizes:l}),u}function M(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;te[n]=jQuery.extend(!0,{},i),Q(n,i,i.left,i.top)}}function z(e,t){for(var i=0,n=0,r=[],o=0,s=0,a=0;a<e[1].length;a++){var l=e[1][a],u=te[e[1][a]];if(n+=u.dimHeight,0!=a)i+=u.dimHeight,r.push([l,u.dimHeight]);else{var d=k(l,t,!0);i+=d.dimHeight,r.push([e[1][a],d.dimHeight])}}o=u.left,s=u.top;for(var h=n,c=[],a=r.length-1;a>=0;a--){var g,l=r[a][0];0!=a?(g=Math.max(Math.round(1*n/3),Math.floor(r[a][1]*(n/i))),h-=g,d=H(l,g,!0),d.left=o,d.top=s,c.push({tileID:l,sizes:d}),s+=d.dimHeight):(g=h,d=H(l,g,!0),d.left=o,d.top=s,c.push({tileID:l,sizes:d}))}return c}function O(e,t,i){var n=he.gridY-1,r=0,o=0,s=1,a=[],l=[];if(a.push(e),n>=0){for(o=0;n>=0;){if(r=ee[n][i],"undefined"!=typeof ee[n][i-1]&&ee[n][i-1]==ee[n][i]||"undefined"!=typeof ee[n][i+t]&&ee[n][i+t-1]==ee[n][i+t]||ee[n][i]!=ee[n][i+t-1])return l.push(s),l.push(a),l;o!=r&&(s++,a.push(r)),n--,o=r}return l.push(s),l.push(a),l}return[0,[]]}function L(e,t){var i=0,n=0,r=t.dimWidth,o=t.dimHeight,s=0,a=0,l=jQuery.map(ee,function(e,t){return[e]});if("undefined"==typeof l[he.gridY]||"undefined"==typeof l[he.gridY][e-1])n=0;else for(var u=0;;){if("undefined"==typeof ee[he.gridY+u]||ee[he.gridY+u][e-1]==-1)break;s=ee[he.gridY+u][e-2],u++,n++}if("undefined"==typeof l[he.gridY]||"undefined"==typeof l[he.gridY][e+r])i=0;else for(u=0;;){if("undefined"==typeof ee[he.gridY+u]||ee[he.gridY+u][e+r]==-1)break;a=ee[he.gridY+u][e+r+1],u++,i++}var d=0,h=0;Math.abs(o-n)<Math.abs(o-i)&&0!=n?(d=n,h=s):0!=i?(d=i,h=a):d=o;var c={newHeight:d,idToResize:h};return c}function k(e,t,i){i||(i=!1);var n=he.colWidth,r=he.currentGap,o=te[e],s=o.imgWidth,a=o.imgHeight,l=s/a;if(dimWidth=t,dimHeight=Math.round(dimWidth/l),1==i){var u=jQuery.extend(!0,{},o);return u.dimWidth=dimWidth,u.dimHeight=dimHeight,u.width=dimWidth*n+r*(dimWidth-1),u.height=dimHeight*n+r*(dimHeight-1),u}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*n+r*(dimWidth-1),o.height=dimHeight*n+r*(dimHeight-1)}function H(e,t,i){i||(i=!1);var n=te[e],r=n.dimWidth,o=he.colWidth,s=he.currentGap;if(1==i){var a=jQuery.extend(!0,{},n);return a.dimHeight=t,a.width=r*o+s*(r-1),a.height=t*o+s*(t-1),a}n.dimHeight=t,n.width=r*o+s*(r-1),n.height=t*o+s*(t-1)}function N(e){for(var t=0,i=0,n=0;n<e.length;n++){var r=te[e[n].tileID];if(0==r.dimHeight||0==r.height)return;resizeVal=r.dimWidth/r.dimHeight/(r.imgWidth/r.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function D(e,t){var i=he.gridY-1;return!(i<=0||0==G(i))&&ee[i][t+e-1]!=ee[i][t+e]}function R(e){var t=e,i=0;if(1==G(he.gridY))for(;0==F(he.gridY,t);)i++,t++;else i=he.maxColumns;return i}function G(e){return"undefined"!=typeof ee[e]}function Q(e,t,i,n){for(var r=0;r<t.dimHeight;r++)for(var o=0;o<t.dimWidth;o++)0==G(n+r)&&W(n+r),B(n+r,i+o,e)}function W(e){ee[e]=new Object;for(var t=0;t<he.maxColumns;t++)ee[e][t]=-1}function F(e,t){return ee[e][t]!=-1}function B(e,t,i){ee[e][t]=i}function Y(e){if(!e)var e=!1;o();for(var t=0;t<te.length;t++)U(t,e);K.height(he.maxColHeight),a()}function U(e,t){var i=ae.getThumbByIndex(e),n=te[e],r=n.top*(he.colWidth+he.currentGap),o=he.addX+n.left*(he.colWidth+he.currentGap);se.resizeTile(i,n.width,n.height,se.resizemode.VISIBLE_ELEMENTS),oe.placeElement(i,o,r),r+n.height>he.maxColHeight&&(he.maxColHeight=r+n.height),1==t&&i.fadeTo(0,1)}function V(){if(1==de.isFirstTimeRun)return!0;if(0==de.isAllLoaded)return!1;switch(ue.tiles_type){case"columns":c(!1);break;case"justified":v(!1);break;case"nested":var e=re.isMobileMode();1==e?c(!1):I(!1)}}function X(){ne.on(ie.events.ALL_TILES_LOADED,function(){return 1==de.isAllLoaded||void(de.isAllLoaded=!0)}),q.on(re.events.SIZE_CHANGE,V),se.initEvents()}function $(){switch(Z.children(".ug-tile").show(),1==de.isFirstTimeRun&&X(),se.run(),ue.tiles_type){default:case"columns":m();break;case"justified":b();break;case"nested":y()}de.isFirstTimeRun=!1}var q,Z,K,J,ee,te,ie=this,ne=jQuery(this),re=new UniteGalleryMain,oe=new UGFunctions,se=new UGTileDesign,ae=new UGThumbsGeneral,le={},ue={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var de={isFixedMode:!1,isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isAllLoaded:!1},he={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){q.off(re.events.SIZE_CHANGE),se.destroy()},this.setFixedSizeMode=function(){de.isFixedMode=!0,
se.setFixedMode()},this.init=function(t,i){e(t,i)},this.setHtml=function(e){i(e)},this.getObjTileDesign=function(){return se},this.run=function(){$()}}function UGTileDesign(){function e(e,i){G=e,L=jQuery(e);var r=G.getObjects();H=r.g_objWrapper,N=G.getArrItems(),F=jQuery.extend(F,B),F=jQuery.extend(F,i),t(),W.init(e,F);var o={allow_onresize:!1},s=["overlay"];Y.funcCustomTileHtml&&(s=[]),W.setCustomThumbs(n,s,o);var a=W.getOptions();F=jQuery.extend(F,a),Y.ratioByWidth=F.tile_width/F.tile_height,Y.ratioByHeight=F.tile_height/F.tile_width,F.tile_size_by==D.sizeby.GLOBAL_RATIO&&Y.isTextpanelOutside&&(Y.hasImageContainer=!0)}function t(){if(1==F.tile_enable_overlay?(F.thumb_overlay_opacity=F.tile_overlay_opacity,F.thumb_overlay_color=F.tile_overlay_color):0==F.tile_enable_icons?F.thumb_color_overlay_effect=!1:F.thumb_overlay_opacity=0,F.tile_as_link&&(F.thumb_wrapper_as_link=!0,F.thumb_link_newpage=F.tile_link_newpage),1==F.tile_enable_outline&&0==F.tile_enable_border&&(F.tile_enable_outline=!1),Y.tileInnerReduce=0,F.tile_enable_border&&(Y.tileInnerReduce=2*F.tile_border_width,W.setThumbInnerReduce(Y.tileInnerReduce)),Y.isSaparateIcons=!Q.isRgbaSupported(),1==F.tile_enable_textpanel){switch(F.tile_textpanel_position){case"top":F.tile_textpanel_align="top";case"bottom":Y.isTextpanelOutside=!0,F.tile_textpanel_always_on=!0,F.tile_textpanel_offset=0;break;case"inside_top":F.tile_textpanel_align="top";break;case"middle":F.tile_textpanel_align="middle",F.tile_textpanel_appear_type="fade"}0==F.tile_textpanel_always_on&&(Y.isSaparateIcons=!0)}0!=F.tile_textpanel_offset&&(F.tile_textpanel_appear_type="fade",F.tile_textpanel_margin=F.tile_textpanel_offset),"title_and_desc"==F.tile_textpanel_source&&(F.tile_textpanel_enable_description=!0,F.tile_textpanel_desc_style_as_title=!0)}function i(){var e=G.isMobileMode();switch(Y.isTextPanelHidden=!1,1==e&&0==F.tile_textpanel_always_on&&(Y.isTextPanelHidden=!0),Y.isVideoplayIconAlwaysOn=F.tile_videoplay_icon_always_on,F.tile_videoplay_icon_always_on){case"always":Y.isVideoplayIconAlwaysOn=!0;break;case"never":Y.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":Y.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":Y.isVideoplayIconAlwaysOn=0==e}}function n(e,t){if(e.addClass("ug-tile"),Y.funcCustomTileHtml)return Y.funcCustomTileHtml(e,t),!1;var i="";1==Y.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>");var n="ug-thumb-image";0!=F.tile_enable_image_effect&&1!=F.tile_image_effect_reverse||(n+=" ug-trans-enabled");var r=Q.stripTags(t.title);r=Q.htmlentitles(r),i+='<img src="'+Q.escapeDoubleSlash(t.urlThumb)+"\" alt='"+r+"' class='"+n+"'>",1==Y.hasImageContainer&&(i+="</div>"),e.append(i),F.tile_size_by==D.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var o={};if(1==F.tile_enable_background&&(o["background-color"]=F.tile_background_color),1==F.tile_enable_border&&(o["border-width"]=F.tile_border_width+"px",o["border-style"]="solid",o["border-color"]=F.tile_border_color,F.tile_border_radius&&(o["border-radius"]=F.tile_border_radius+"px")),1==F.tile_enable_outline&&(o.outline="1px solid "+F.tile_outline_color),1==F.tile_enable_shadow){var s=F.tile_shadow_h+"px ";s+=F.tile_shadow_v+"px ",s+=F.tile_shadow_blur+"px ",s+=F.tile_shadow_spread+"px ",s+=F.tile_shadow_color,o["box-shadow"]=s}e.css(o);var a="";if(F.tile_enable_icons){if(0==F.tile_as_link&&1==F.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),a+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==F.tile_show_link_icon||1==F.tile_as_link)if(0==F.tile_as_link){var u="";1==F.tile_link_newpage&&(u=" target='_blank'"),a+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else a+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var h=Y.isSaparateIcons;if(0==h&&"image"!=t.type&&1==Y.isVideoplayIconAlwaysOn&&(h=!0),h)var c=e;else var c=e.children(".ug-thumb-overlay");c.append(a);var g=c.children("."+l);0==g.length?g=null:g.hide();var _=c.children(".ug-icon-link");0==_.length?_=null:_.hide(),_||1!=F.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==F.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==F.tile_enable_image_effect){var p="";0==F.tile_image_effect_reverse&&(p=" ug-trans-enabled");var m="<div class='ug-tile-image-overlay"+p+"' >",f=" ug-"+F.tile_image_effect_type+"-effect";m+='<img src="'+Q.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+f+p+"'>",m+="</div>",e.append(m),1==F.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==F.tile_enable_textpanel){var v=new UGTextPanel;v.init(G,F,"tile");var b="";1!=F.tile_textpanel_always_on&&1!=Y.isTextpanelOutside||(b="ug-trans-enabled"),v.appendHTML(e,b);var y=t.title,w="";switch(F.tile_textpanel_source){case"desc":case"description":y=t.description;break;case"desc_title":""!=t.description&&(y=t.description);break;case"title_and_desc":y=t.title,w=t.description}if(v.setTextPlain(y,w),0==F.tile_textpanel_always_on&&v.getElement().fadeTo(0,0),e.data("objTextPanel",v),1==F.tile_textpanel_always_on){var I=d(e);I.css("z-index",2)}if(1==Y.isTextpanelOutside){var E="<div class='ug-tile-cloneswrapper'></div>";e.append(E);var T=e.children(".ug-tile-cloneswrapper"),S=new UGTextPanel;S.init(G,F,"tile"),S.appendHTML(T),S.setTextPlain(y,w),e.data("objTextPanelClone",S)}}null!==t.addHtml&&e.append(t.addHtml)}function r(e){var t=e.children(".ug-tile-image-overlay");return t}function o(e){var t=e.children(".ug-thumb-overlay");return t}function s(e){if(0==Y.hasImageContainer)return null;var t=e.children(".ug-image-container");return t}function a(e){var t=e.find(".ug-tile-image-overlay img");return t}function l(e){var t=e.data("objTextPanel");return t}function u(e){var t=e.data("objTextPanelClone");return t}function d(e){var t=e.children(".ug-textpanel");return t}function h(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}function c(e){if(1==Y.isTextpanelOutside)var t=h(e);else var t=d(e);if(!t)return 0;var i=Q.getElementSize(t);return i.height}function g(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function _(e,t){var i=Y.ratioByHeight;switch(F.tile_size_by){default:i=Y.ratioByHeight;break;case D.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var n=D.getItemByTile(e);if("undefined"!=typeof n.thumbRatioByHeight){if(0==n.thumbRatioByHeight)throw trace(n),new Error("the item ratio not inited yet");i=n.thumbRatioByHeight}break;case D.sizeby.CUSTOM:return null}return i}function p(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function m(e){return!!e.hasClass("ug-thumb-over")}function f(e){return e.hasClass("ug-tile-clickable")}function v(e){return 1==F.tile_enable_icons&&1==Y.isVideoplayIconAlwaysOn&&"image"!=e.type}function b(e,t,i,n){var o=r(e),l=D.getTileImage(e),u=a(e);t-=Y.tileInnerReduce,i-=Y.tileInnerReduce;var d=null;if(1==Y.isTextpanelOutside){var h=c(e);if(i-=h,"top"==F.tile_textpanel_position&&(d=h),1==Y.hasImageContainer){var g=s(e);Q.setElementSize(g,t,i),null!==d&&Q.placeElement(g,0,d)}}if(0==F.tile_enable_image_effect)Q.scaleImageCoverParent(l,t,i),0==Y.hasImageContainer&&null!==d&&Q.placeElement(l,0,d);else{var _="nothing";n===!0&&0==Y.isTextpanelOutside&&(_=1==F.tile_image_effect_reverse?"effect":"image"),"effect"!=_&&(Q.setElementSize(o,t,i),null!==d&&Q.placeElement(o,0,d),Q.scaleImageCoverParent(u,t,i)),"image"!=_&&(1==Y.hasImageContainer?Q.scaleImageCoverParent(l,t,i):"effect"==_?(Q.scaleImageCoverParent(l,t,i),null!==d&&Q.placeElement(l,0,d)):Q.cloneElementSizeAndPos(u,l,!1,null,d))}}function y(e,t,i,n){var r=null;if(i&&(r=i-Y.tileInnerReduce),n&&(n-=Y.tileInnerReduce),"clone"==t){var o=u(e);o.refresh(!0,!0,r);var s=D.getItemByTile(e);return s.textPanelCloneSizeSet=!0,!1}var a=l(e);if(!a)return!1;var d=null;1==Y.isTextpanelOutside&&(d=c(e)),a.refresh(!1,!0,r,d);var h=1==F.tile_textpanel_always_on||"fade"==F.tile_textpanel_appear_type;if(h)if(1==Y.isTextpanelOutside&&n&&"bottom"==F.tile_textpanel_position){var g=n-d;a.positionPanel(g)}else a.positionPanel()}function w(e){var t=(D.getItemByTile(e),p(e)),i=g(e),n=Q.getElementSize(e);b(e,n.width,n.height),1==F.tile_enable_textpanel&&y(e,"regular",n.width,n.height);var r=n.width-Y.tileInnerReduce,s=n.height-Y.tileInnerReduce,a=0;if(1==Y.isTextpanelOutside){var l=c(e);s-=l,"top"==F.tile_textpanel_position&&(a=l)}var u=o(e);if(Q.setElementSizeAndPosition(u,0,a,r,s),t||i){var h=0;if(1==F.tile_enable_textpanel&&0==Y.isTextPanelHidden&&0==Y.isTextpanelOutside){var _=d(e),m=Q.getElementSize(_);m.height>0&&(h=Math.floor(m.height/2*-1))}}if(t&&i){var f=Q.getElementSize(t),v=Q.getElementSize(i),w=F.tile_space_between_icons,I=f.width+w+v.width,E=Math.floor((n.width-I)/2);E<w&&(w=Math.floor((n.width-f.width-v.width)/3),I=f.width+w+v.width,E=Math.floor((n.width-I)/2)),Q.placeElement(t,E,"middle",0,h),Q.placeElement(i,E+f.width+w,"middle",0,h)}else t&&Q.placeElement(t,"center","middle",0,h),i&&Q.placeElement(i,"center","middle",0,h);t&&t.show(),i&&i.show()}function I(e,t){var i=(D.getItemByTile(e),r(e)),n=F.thumb_transition_duration;if(0==F.tile_image_effect_reverse){var o=D.getTileImage(e);t?(o.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)}else t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function E(e,t){var i=F.thumb_transition_duration,n=d(e);if(!n)return!0;if("slide"==F.tile_textpanel_appear_type){var r=Q.getElementSize(n);if(0==r.width)return!1;var o=-r.height,s=0,a={},l={},u="bottom";"inside_top"==F.tile_textpanel_position&&(u="top"),a[u]=o+"px",l[u]=s+"px",1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css(a),l.opacity=1,n.stop(!0).animate(l,i)):n.stop(!0).animate(a,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function T(e,t,i){var n=F.thumb_transition_duration;i&&i===!0&&(n=0);var r=p(e),o=g(e),s=t?1:0;r&&r.stop(!0).fadeTo(n,s),o&&o.stop(!0).fadeTo(n,s)}function S(e,t){if(t=jQuery(t),F.tile_enable_image_effect&&I(t,!0),1==F.tile_enable_textpanel&&0==F.tile_textpanel_always_on&&0==Y.isTextPanelHidden&&E(t,!0),Y.isSaparateIcons&&1==F.tile_enable_icons){var i=1==F.thumb_overlay_reverse,n=D.getItemByTile(t);0==v(n)&&T(t,i,!1)}}function x(e,t){if(t=jQuery(t),F.tile_enable_image_effect&&I(t,!1),1==F.tile_enable_textpanel&&0==F.tile_textpanel_always_on&&E(t,!1),1==Y.isSaparateIcons&&1==F.tile_enable_icons){var i=1!=F.thumb_overlay_reverse,n=D.getItemByTile(t);0==v(n)?T(t,i,!1):T(t,!0,!0)}}function P(e){var t=W.getThumbs().not(e);t.each(function(e,t){W.setThumbNormalStyle(jQuery(t))})}function j(e,t,i){return t=jQuery(t),1==F.tile_visible_before_image&&t.data("image_placed")!==!0&&i!==!0||(w(t),void W.setThumbNormalStyle(t))}function C(e,t,i){w(t),i.fadeTo(0,1),t.data("image_placed",!0)}function A(e){return 1==f(e)?(R.trigger(D.events.TILE_CLICK,e),!0):void(0==m(e)&&(P(e),W.setThumbOverStyle(e)))}function M(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(Y.funcParentApproveClick&&0==Y.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==m(t))1==n&&A(t);else{if(0==f(t))return!0;1==n&&R.trigger(D.events.TILE_CLICK,t)}}function z(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return Y.funcParentApproveClick&&0==Y.funcParentApproveClick()&&(i=!1),0==m(t)?(A(t),!0):1==i?(R.trigger(D.events.TILE_CLICK,t),!1):void 0}function O(e){var t=jQuery(this).parents(".ug-tile");Y.funcParentApproveClick&&0==Y.funcParentApproveClick()&&e.preventDefault(),0==m(t)&&0==F.tile_as_link&&(e.preventDefault(),A(t))}var L,k,H,N,D=this,R=jQuery(this),G=new UniteGalleryMain,Q=new UGFunctions,W=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var F={tile_width:250,tile_height:200,tile_size_by:D.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},B={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},Y={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(e){var t=D.getTileImage(e);Q.checkImagesLoaded(t,null,function(t,i){C(null,e,jQuery(t))})},this.setHtml=function(e){k=e,i(),W.setHtmlThumbs(e)},this.initEvents=function(){W.initEvents(),jQuery(W).on(W.events.SETOVERSTYLE,S),jQuery(W).on(W.events.SETNORMALSTYLE,x),jQuery(W).on(W.events.PLACEIMAGE,C),H.on(Y.eventSizeChange,j),k.delegate(".ug-tile .ug-button-play","click",z),k.delegate(".ug-tile","click",M),k.delegate(".ug-tile .ug-icon-link","click",O)},this.destroy=function(){if(jQuery(W).off(W.events.SETOVERSTYLE),jQuery(W).off(W.events.SETNORMALSTYLE),jQuery(W).off(W.events.PLACEIMAGE),H.off(Y.eventSizeChange),1==F.tile_enable_textpanel){var e=W.getThumbs();jQuery.each(e,function(e,t){var i=l(jQuery(t));i&&i.destroy()})}W.destroy()},this.init=function(t,i,n){e(t,i,n)},this.setFixedMode=function(){F.tile_size_by=D.sizeby.GLOBAL_RATIO,F.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){Y.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(1==Y.isTextpanelOutside&&y(e,"clone",t),t){if(!i)var i=D.getTileHeightByWidth(t,e,"resizeTile")}else var t=F.tile_width,i=F.tile_height;switch(Q.setElementSize(e,t,i),n){default:case D.resizemode.FULL:D.triggerSizeChangeEvent(e,!0);break;case D.resizemode.WRAPPER_ONLY:return!0;case D.resizemode.VISIBLE_ELEMENTS:if(Y.funcCustomTileHtml)return D.triggerSizeChangeEvent(e,!0),!0;b(e,t,i,!0),1==F.tile_enable_textpanel&&1==F.tile_textpanel_always_on&&t&&y(e,"regular",t,i)}},this.resizeAllTiles=function(e,t){i();var n=null;F.tile_size_by==D.sizeby.GLOBAL_RATIO&&(n=D.getTileHeightByWidth(e,null,"resizeAllTiles"));var r=W.getThumbs();r.each(function(i,r){D.resizeTile(jQuery(r),e,n,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;H.trigger(Y.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){var t=W.getThumbs();t.each(function(){var t=jQuery(this);D.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){var e=W.getThumbs();e.css("pointer-events","none")},this.enableEvents=function(){var e=W.getThumbs();e.css("pointer-events","auto")},this.setOptions=function(e){F=jQuery.extend(F,e),W.setOptions(e)},this.setTileSizeOptions=function(e){if(F.tile_size_by!==D.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");F.tile_width=e,F.tile_height=Math.floor(e*Y.ratioByHeight)},this.setCustomFunctions=function(e,t){Y.funcCustomTileHtml=e,Y.funcCustomPositionElements=t},this.run=function(){var e=W.getThumbs();F.tile_size_by==D.sizeby.GLOBAL_RATIO&&D.resizeAllTiles(F.tile_width,D.resizemode.WRAPPER_ONLY),1==F.tile_enable_image_effect&&0==F.tile_image_effect_reverse&&e.children(".ug-thumb-image").fadeTo(0,0),W.setHtmlProperties(),1==F.tile_visible_before_image&&(e.children(".ug-thumb-image").fadeTo(0,0),W.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return W},this.getOptions=function(){return F},this.getTileImage=function(e){var t=e.find("img.ug-thumb-image");return t},this.getItemByTile=function(e){return W.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t,i){var n=_(t,i);if(null===n)return null;var r=Math.floor((e-Y.tileInnerReduce)*n)+Y.tileInnerReduce;return t&&1==Y.isTextpanelOutside&&F.tile_size_by==D.sizeby.IMAGE_RATIO&&(r+=c(t)),r},this.getTileImageSize=function(e){var t=D.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");var i={width:t.thumbWidth,height:t.thumbHeight};return i},this.getGlobalTileSize=function(){if(F.tile_size_by!=D.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");var e={width:F.tile_width,height:F.tile_height};return e}}function UGAviaControl(){function e(e){return 0==p?e.pageX:e.pageY}function t(t){jQuery("body").on("touchstart",function(e){return 0==m.isControlEnabled||void(m.touchEnabled=!0)}),jQuery("body").mousemove(function(t){if(0==m.isControlEnabled)return!0;if(1==m.touchEnabled)return jQuery("body").off("mousemove"),!0;m.isMouseInsideStrip=c.ismouseover();var i=u.isTouchMotionActive();if(1==m.isMouseInsideStrip&&0==i){var n=e(t);l(n)}else s()})}function i(e){var t=_.strip_padding_top,i=(_.strip_padding_bottom,c.height()),n=g.height();if(i>n)return null;var r=c.offset(),o=r.top,s=e-o-t;if(s<0)return null;var a=_.thumb_height,l=i-_.thumb_height,u=l-a;s<a&&(s=a),s>l&&(s=l);var d=(s-a)/u,h=(n-i)*d;return h=Math.round(h)*-1+t}function n(e){var t=_.strip_padding_left,i=_.strip_padding_right,n=c.width()-t-i,r=g.width();if(n>r)return null;var o=c.offset(),s=o.left,a=e-s-t,l=_.thumb_width,u=n-_.thumb_width,d=u-l;a<l&&(a=l),a>u&&(a=u);var h=(a-l)/d,p=(r-n)*h;return p=Math.round(p)*-1+t}function r(){if(0==m.is_strip_moving)return!1;var e=u.getInnerStripPos();Math.floor(e)==Math.floor(m.strip_finalPos)&&s();var t,i=Math.abs(m.strip_finalPos-e);i<1?t=i:(t=i/4,t>0&&t<1&&(t=1)),m.strip_finalPos<e&&(t*=-1);var n=e+t;u.positionInnerStrip(n)}function o(){return 1!=m.isStripMoving&&(m.isStripMoving=!0,void(m.handle_timeout=setInterval(r,10)))}function s(){return 0!=m.isStripMoving&&(m.isStripMoving=!1,void(m.handle_timeout=clearInterval(m.handle_timeout)))}function a(e){return 0==p?n(e):i(e)}function l(e){var t=a(e);return null!==t&&(m.is_strip_moving=!0,m.strip_finalPos=t,void o())}var u,d,h,c,g,_,p,m={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){m.isControlEnabled=!0},this.disable=function(){m.isControlEnabled=!1},this.init=function(e){u=e,h=e.getObjects(),d=h.g_gallery,c=h.g_objStrip,g=h.g_objStripInner,_=h.g_options,p=h.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function e(e,t,n){fe=e,n&&(_e=n,t=Ie.convertCustomPrefixOptions(t,_e,"slider")),te=jQuery(e);var r=fe.getObjects();if(ie=r.g_objWrapper,ne=r.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(Se.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==Se.slider_progress_indicator_type&&(Se=jQuery.extend(Se,xe)),t&&pe.setOptions(t),i(),1==Se.slider_enable_bullets){ye=new UGBullets;var o={bullets_skin:Se.slider_bullets_skin,bullets_space_between:Se.slider_bullets_space_between};ye.init(fe,o)}Se.slider_enable_text_panel&&(Te=new UGTextPanel,Te.init(fe,Se,"slider")),Se.slider_enable_zoom_panel&&(ge=new UGZoomButtonsPanel,ge.init(pe,Se));var s=fe.getGalleryID();we.init(Se,!1,s)}function t(){if(1==Pe.isRunOnce)return!1;if(Pe.isRunOnce=!0,Se.slider_background_color){var e=Se.slider_background_color;1!=Se.slider_background_opacity&&(e=Ie.convertHexToRGB(e,Se.slider_background_opacity)),re.css("background-color",e)}else 1!=Se.slider_background_opacity&&(e=Ie.convertHexToRGB("#000000",Se.slider_background_opacity),re.css("background-color",e));1==Se.slider_control_swipe&&(he=new UGTouchSliderControl,he.init(pe,Se)),1==Se.slider_control_zoom&&(ce=new UGZoomSliderControl,ce.init(pe,Se)),Te&&Te.run(),X()}function i(){var e=fe.getOptions(),t=e.gallery_skin;""==Se.slider_bullets_skin&&(Se.slider_bullets_skin=t),""==Se.slider_arrows_skin&&(Se.slider_arrows_skin=t),""==Se.slider_zoompanel_skin&&(Se.slider_zoompanel_skin=t),""==Se.slider_play_button_skin&&(Se.slider_play_button_skin=t),""==Se.slider_fullscreen_button_skin&&(Se.slider_fullscreen_button_skin=t),Se.video_enable_closebutton=Se.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(Se.slider_zoom_mousewheel=!1)}function n(e,t){var i="ug-type-square";"round"==Se.slider_videoplay_button_type&&(i="ug-type-round");var n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",n+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>",n+="</div>"}function r(e){e&&(ie=e);var t=$(),i=(fe.getOptions(),"<div class='ug-slider-wrapper'>");if(i+="<div class='ug-slider-inner'>",i+=n(t,1),i+=n(t,2),i+=n(t,3),i+="</div>",1==Se.slider_enable_arrows&&(i+="<div class='ug-slider-control ug-arrow-left ug-skin-"+Se.slider_arrows_skin+"'></div>",i+="<div class='ug-slider-control ug-arrow-right ug-skin-"+Se.slider_arrows_skin+"'></div>"),1==Se.slider_enable_play_button&&(i+="<div class='ug-slider-control ug-button-play ug-skin-"+Se.slider_play_button_skin+"'></div>"),1==Se.slider_enable_fullscreen_button&&(i+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+Se.slider_fullscreen_button_skin+"'></div>"),i+="</div>",ie.append(i),re=ie.children(".ug-slider-wrapper"),oe=re.children(".ug-slider-inner"),se=oe.children(".ug-slide1"),ae=oe.children(".ug-slide2"),le=oe.children(".ug-slide3"),se.data("slidenum",1),ae.data("slidenum",2),le.data("slidenum",3),ye&&ye.appendHTML(re),1==Se.slider_enable_arrows&&(ue=re.children(".ug-arrow-left"),de=re.children(".ug-arrow-right")),1==Se.slider_enable_play_button&&(ve=re.children(".ug-button-play")),1==Se.slider_enable_fullscreen_button&&(be=re.children(".ug-button-fullscreen")),1==Se.slider_enable_progress_indicator){Ee=Ie.initProgressIndicator(Se.slider_progress_indicator_type,Se,re);var r=Ee.getType();"bar"==r&&"pie"==Se.slider_progress_indicator_type&&(Se.slider_progress_indicator_type="bar",Se=jQuery.extend(Se,xe)),fe.setProgressIndicator(Ee)}if(1==Se.slider_enable_text_panel&&(Te.appendHTML(re),0==Se.slider_textpanel_always_on)){var o=Te.getElement();o.hide().data("isHidden",!0),Pe.isTextPanelSaparateHover=!0}1==Se.slider_enable_zoom_panel&&ge.appendHTML(re),we.setHtml(oe)}function o(e){var t=K(e);Ie.placeElementInParentCenter(t);var i=J(e);Ie.placeElementInParentCenter(i)}function s(){if(ye&&(objBullets=ye.getElement(),Ie.placeElement(objBullets,Se.slider_bullets_align_hor,Se.slider_bullets_align_vert,Se.slider_bullets_offset_hor,Se.slider_bullets_offset_vert),Ie.placeElement(objBullets,Se.slider_bullets_align_hor,Se.slider_bullets_align_vert,Se.slider_bullets_offset_hor,Se.slider_bullets_offset_vert)),1==Se.slider_enable_arrows&&(Ie.placeElement(ue,Se.slider_arrow_left_align_hor,Se.slider_arrow_left_align_vert,Se.slider_arrow_left_offset_hor,Se.slider_arrow_left_offset_vert),Ie.placeElement(de,Se.slider_arrow_right_align_hor,Se.slider_arrow_left_align_vert,Se.slider_arrow_right_offset_hor,Se.slider_arrow_right_offset_vert)),0==Se.slider_controls_always_on&&M(!0),Ee){var e=Ee.getElement();if("bar"==Se.slider_progress_indicator_type){var t=re.width();Ee.setSize(t),Ie.placeElement(e,"left",Se.slider_progress_indicator_align_vert,0,Se.slider_progress_indicator_offset_vert)}else Ie.placeElement(e,Se.slider_progress_indicator_align_hor,Se.slider_progress_indicator_align_vert,Se.slider_progress_indicator_offset_hor,Se.slider_progress_indicator_offset_vert)}Te&&Te.positionPanel(),a(),o(se),o(ae),o(le),C()}function a(){if(ve&&Ie.placeElement(ve,Se.slider_play_button_align_hor,Se.slider_play_button_align_vert,Se.slider_play_button_offset_hor,Se.slider_play_button_offset_vert),be&&Ie.placeElement(be,Se.slider_fullscreen_button_align_hor,Se.slider_fullscreen_button_align_vert,Se.slider_fullscreen_button_offset_hor,Se.slider_fullscreen_button_offset_vert),ge){var e=ge.getElement();Ie.placeElement(e,Se.slider_zoompanel_align_hor,Se.slider_zoompanel_align_vert,Se.slider_zoompanel_offset_hor,Se.slider_zoompanel_offset_vert)}}function l(){var e,t,i,n,r=pe.getSlidesReference(),o=0,s=0,a=0;i=pe.isSlideHasItem(r.objNextSlide),n=pe.isSlideHasItem(r.objPrevSlide),n?(a=r.objPrevSlide.outerWidth(),r.objPrevSlide.css("z-index",1)):r.objPrevSlide.hide(),t=a+r.objCurrentSlide.outerWidth(),e=t,i?(e=t+r.objNextSlide.outerWidth(),r.objPrevSlide.css("z-index",2)):r.objNextSlide.hide(),r.objCurrentSlide.css("z-index",3),Ie.placeElement(r.objCurrentSlide,a,o),oe.css({left:-a+"px",width:e+"px"}),n&&(Ie.placeElement(r.objPrevSlide,s,o),Ie.showElement(r.objPrevSlide)),i&&(Ie.showElement(r.objNextSlide),Ie.placeElement(r.objNextSlide,t,o))}function u(e){var t=e.data("index");if(void 0===t||null==t)return!1;var i=fe.getItem(t);return!!i&&void m(e,i)}function d(e){e.stop(!0).show(100)}function h(e){e.stop(!0).hide(100)}function c(e,t){var i=Se.slider_image_border_width;if(i<=10)return i;var n=Ie.getElementSize(e),r=n.width,o=n.height;if(t&&(t.hasOwnProperty("imageWidth")&&(r=t.imageWidth),t.hasOwnProperty("imageHeight")&&(o=t.imageHeight)),r<=0)return i;var s=r<o?r:o,a=2*i,l=a/s;if(l<Se.slider_image_border_maxratio)return i;var i=s*Se.slider_image_border_maxratio/2;return i=Math.round(i)}function g(e,t,i){var n={};if(1==Se.slider_image_border){n["border-style"]="solid";var r=c(e,i);n["border-width"]=r+"px",n["border-color"]=Se.slider_image_border_color,n["border-radius"]=Se.slider_image_border_radius}"image"!=t&&1==Se.slider_video_constantsize&&(n["background-color"]="#000000"),1==Se.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function _(e,t){var i=Se.slider_video_constantsize_width,n=Se.slider_video_constantsize_height,r=Se.slider_video_constantsize_scalemode,o=Ie.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,r);return o}function p(e,t,i){var n=e.children(".ug-item-wrapper"),r=K(e);if("undefined"==typeof t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var o=t.urlImage,s=e.data("urlImage");e.data("urlImage",o);var a=pe.getScaleMode(e),l=pe.getSlideType(e);if(objPadding=pe.getObjImagePadding(),s==o&&i!==!0){var u=n.children("img");0!=t.imageWidth&&0!=t.imageHeight||fe.checkFillImageSize(u,t);var c={};c="image"!=l&&1==Se.slider_video_constantsize?_(u,t):Ie.scaleImageFitParent(u,t.imageWidth,t.imageHeight,a,objPadding),g(u,l,c),me.trigger(pe.events.AFTER_PUT_IMAGE,e)}else if(u=Ie.placeImageInsideParent(o,n,t.imageWidth,t.imageHeight,a,objPadding),1==t.isBigImageLoaded){if(u.fadeTo(0,1),h(r),"image"!=l&&1==Se.slider_video_constantsize)var c=_(u,t);else var c=Ie.getImageInsideParentData(n,t.imageWidth,t.imageHeight,a,objPadding);u.css("width",c.imageWidth+"px"),g(u,l,c),me.trigger(pe.events.AFTER_PUT_IMAGE,e)}else u.fadeTo(0,0),d(r),e.data("isLoading",!0),pe.isSlideCurrent(e)&&me.trigger(pe.events.CURRENTSLIDE_LOAD_START),u.data("itemIndex",t.index),u.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=pe.getSlideType(i),r=K(i),o=pe.getObjImagePadding(),s=pe.getScaleMode(i);h(r),i.data("isLoading",!1),pe.isSlideCurrent(i)&&me.trigger(pe.events.CURRENTSLIDE_LOAD_END),fe.onItemBigImageLoaded(null,e);var a=fe.getItem(t),l={};"image"!=n&&1==Se.slider_video_constantsize?_(e,a):l=Ie.scaleImageFitParent(e,a.imageWidth,a.imageHeight,s,o),e.fadeTo(0,1),g(e,n,l),me.trigger(pe.events.AFTER_PUT_IMAGE,i)})}function m(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index");e.data("index",t.index),e.data("type",t.type),1==Se.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),p(e,t);var n=J(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(e){throw"undefined"!=typeof e.fileName&&"showbig"==e.fileName&&fe.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function f(){if(!Te)return!1;if(1==b())return!1;var e=Te.getElement(),t=0;1!=Pe.isTextPanelSaparateHover&&1!=Se.slider_textpanel_always_on||(t=Se.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function v(){if(!Te)return!1;if(0==b())return!1;var e=Te.getElement(),t=0;1!=Pe.isTextPanelSaparateHover&&1!=Se.slider_textpanel_always_on||(e.show(),Te.positionElements(),t=Se.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function b(){var e=Te.getElement(),t=e.data("isHidden");return t!==!1}function y(e,t){if(void 0==t)var t=pe.getCurrentSlide();var i=pe.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e);return!0}function w(){var e=pe.getCurrentSlide(),t=pe.getSlideImage(e),i=Ie.getElementSize(e),n=i.left,r=i.top;if(1==Se.slider_video_constantsize){var o=Ie.getElementSize(t);n+=o.left,r+=o.top}else n+=Se.slider_video_padding_left,r+=Se.slider_video_padding_top;we.setPosition(n,r)}function I(){var e=Se.slider_video_constantsize_width,t=Se.slider_video_constantsize_height;we.setSize(e,t);var i=we.getObject();g(i,"video")}function E(e,t,i){me.trigger(pe.events.TRANSITION_START);var n=Se.slider_transition;switch(i&&(n=i),pe.stopSlideAction(null,!0),n){default:case"fade":x(t);break;case"slide":T(e,t);break;case"lightbox_open":x(t,!1,!0)}}function T(e,t){var i=pe.isAnimating();if(1==i)return Pe.itemWaiting=t,!0;null!=Pe.itemWaiting&&(Pe.itemWaiting=null);var n=pe.getSlidesReference();switch(e){case"right":m(n.objPrevSlide,t),l();var r=Ie.getElementSize(n.objPrevSlide),o=-r.left;pe.switchSlideNums("right");break;case"left":m(n.objNextSlide,t),l();var s=Ie.getElementSize(n.objNextSlide),o=-s.left;pe.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var a=Se.slider_transition_speed,u=Se.slider_transition_easing,d={duration:a,easing:u,queue:!1,always:function(){if(pe.stopSlideAction(),we.hide(),null!=Pe.itemWaiting){var e=Z(Pe.itemWaiting);T(e,Pe.itemWaiting)}else pe.placeNabourItems(),me.trigger(pe.events.TRANSITION_END)}};oe.animate({left:o+"px"},d)}function S(e,t,i){i?e.fadeTo(Se.slider_transition_speed,t,i):e.fadeTo(Se.slider_transition_speed,t)}function x(e,t,i){if(!t)var t=!1;var n=pe.getSlidesReference();m(n.objNextSlide,e);var r=Ie.getElementSize(n.objCurrentSlide);Ie.placeElement(n.objNextSlide,r.left,r.top);var o=Pe.numCurrent;if(Pe.numCurrent=Pe.numNext,Pe.numNext=o,me.trigger(pe.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t)n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),pe.placeNabourItems(),me.trigger(pe.events.TRANSITION_END),i!==!0&&we.hide();else{if(n.objNextSlide.fadeTo(0,0),S(n.objCurrentSlide,0,function(){pe.placeNabourItems(),me.trigger(pe.events.TRANSITION_END),i!==!0&&we.hide()}),1==we.isVisible()){var s=we.getObject();S(s,0)}S(n.objNextSlide,1)}}function P(){1==Se.slider_fullscreen_button_mobilehide&&be&&be.hide(),1==Se.slider_play_button_mobilehide&&ve&&ve.hide(),1==Se.slider_zoompanel_mobilehide&&ge&&ge.getElement().hide()}function j(){1==Se.slider_fullscreen_button_mobilehide&&be&&be.show(),1==Se.slider_play_button_mobilehide&&ve&&ve.show(),1==Se.slider_zoompanel_mobilehide&&ge&&ge.getElement().show()}function C(){var e=fe.isMobileMode();e?P():j()}function A(){var e=re.children(".ug-slider-control");return e}function M(e){if(0==Ie.isTimePassed("sliderControlsToggle"))return!1;
if(0==Pe.isControlsVisible)return!1;if(!e)var e=!1;var t=A();e===!0?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(Se.slider_controls_appear_duration,0,function(){t.hide()}),Pe.isControlsVisible=!1}function z(e){if(0==Ie.isTimePassed("sliderControlsToggle"))return!1;if(1==Pe.isControlsVisible)return!0;if(!e)var e=!1;var t=A();e===!0?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(Se.slider_controls_appear_duration,1)),Pe.isControlsVisible=!0}function O(){0==Pe.isControlsVisible?z():M()}function L(e){if(e==Pe.currentControlsMode)return!1;switch(e){case"image":ge&&ge.getElement().show();break;case"video":ge&&ge.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}Pe.currentControlsMode=e}function k(e,t,i){var n=fe.getSelectedItem();pe.setItem(n,!1,i);var r=n.index;ye&&ye.setActive(r),Te&&0==Pe.isTextPanelSaparateHover&&v(),L("image"==n.type?"image":"video")}function H(e,t){fe.selectItem(t)}function N(e){return!(!he||0!=he.isTapEventOccured(e))||void me.trigger(pe.events.CLICK,e)}function D(){var e=pe.getCurrentSlide(),t=e.hasClass("ug-slide-clickable"),i=pe.getCurrentItem();return t?(0==Se.slider_links_newpage?location.href=i.link:window.open(i.link,"_blank"),!0):void(0==Se.slider_controls_always_on&&1==Se.slider_controls_appear_ontap&&1==pe.isCurrentSlideType("image")&&(O(),Te&&1==Se.slider_textpanel_always_on&&pe.isCurrentSlideType("image")&&pe.isCurrentSlideImageFit()&&v()))}function R(e){Te&&pe.isCurrentSlideType("image")&&0==pe.isCurrentSlideImageFit()&&f()}function G(){z()}function Q(){M()}function W(e){var t=e.parent();pe.startSlideAction(t)}function F(){fe.isPlayMode()&&fe.pausePlaying(),me.trigger(pe.events.ACTION_START)}function B(){fe.isPlayMode()&&fe.continuePlaying(),me.trigger(pe.events.ACTION_END)}function Y(e,t,i){se.data("index")==t&&(objItem=fe.getItem(t),p(se,objItem,!0)),ae.data("index")==t&&(objItem=fe.getItem(t),p(ae,objItem,!0)),le.data("index")==t&&(objItem=fe.getItem(t),p(le,objItem,!0))}function U(e,t){t=jQuery(t);var i=pe.getSlideImage(t),n=J(t),r=Ie.getElementSize(i);Ie.placeElement(n,"center","middle",r.left,r.top,i)}function V(e){var t=J(e);Ie.addClassOnHover(t),Ie.setButtonOnClick(t,W)}function X(){te.on(fe.events.ITEM_IMAGE_UPDATED,Y),te.on(fe.events.ITEM_CHANGE,k),ye&&jQuery(ye).on(ye.events.BULLET_CLICK,H),1==Se.slider_enable_arrows&&(Ie.addClassOnHover(de,"ug-arrow-hover"),Ie.addClassOnHover(ue,"ug-arrow-hover"),fe.setNextButton(de),fe.setPrevButton(ue)),0==Se.slider_controls_always_on&&re.hover(G,Q),re.on("touchend click",N),me.on(pe.events.CLICK,D),Te&&1==Pe.isTextPanelSaparateHover&&re.hover(v,f),ve&&(Ie.addClassOnHover(ve,"ug-button-hover"),fe.setPlayButton(ve)),be&&(Ie.addClassOnHover(be,"ug-button-hover"),fe.setFullScreenToggleButton(be)),ce&&me.on(pe.events.ZOOM_CHANGE,R),ge&&ge.initEvents(),we.initEvents(),jQuery(we).on(we.events.SHOW,F),jQuery(we).on(we.events.HIDE,B),V(se),V(ae),V(le),me.on(pe.events.AFTER_PUT_IMAGE,U),re.delegate(".ug-item-wrapper img","mouseenter",function(e){me.trigger(pe.events.IMAGE_MOUSEENTER)}),re.delegate(".ug-item-wrapper img","mouseleave",function(e){var t=pe.isMouseInsideSlideImage(e);0==t&&me.trigger(pe.events.IMAGE_MOUSELEAVE)})}function $(){var e;switch(Se.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==Se.slider_loader_color&&(e+=" ug-loader-black"),e}function q(e){switch(e){case 1:return se;case 2:return ae;case 3:return le;default:throw new Error("wrong num: "+e)}}function Z(e){var t=pe.getSlidesReference(),i=t.objCurrentSlide.data("index"),n=e.index,r="left";return i>n&&(r="right"),r}function K(e){if(!e)var e=pe.getCurrentSlide();var t=e.children(".ug-slider-preloader");return t}function J(e){var t=e.children(".ug-button-videoplay");return t}function ee(e){if(!e)var e=pe.getCurrentSlide();var t=e.data("index");if(void 0==t)return null;var i=fe.getItem(t);return i}var te,ie,ne,re,oe,se,ae,le,ue,de,he,ce,ge,_e,pe=this,me=jQuery(pe),fe=new UniteGalleryMain,ve=null,be=null,ye=null,we=new UGVideoPlayer,Ie=new UGFunctions,Ee=null,Te=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var Se={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},xe={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},Pe={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(me.trigger(pe.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=Pe.numCurrent;Pe.numCurrent=Pe.numNext,Pe.numNext=Pe.numPrev,Pe.numPrev=t;break;case"right":var t=Pe.numCurrent;Pe.numCurrent=Pe.numPrev,Pe.numPrev=Pe.numNext,Pe.numNext=t;break;default:throw new Error("wrong direction: "+e)}me.trigger(pe.events.ITEM_CHANGED)},this.destroy=function(){me.off(pe.events.AFTER_PUT_IMAGE),te.off(fe.events.ITEM_IMAGE_UPDATED),te.off(fe.events.ITEM_CHANGE),ye&&jQuery(ye).on(ye.events.BULLET_CLICK),re.off("mouseenter"),re.off("mouseleave"),re.off("touchend"),re.off("click"),me.off(pe.events.CLICK),ce&&me.off(pe.events.ZOOM_CHANGE),me.off(pe.events.BEFORE_SWITCH_SLIDES),jQuery(we).off(we.events.SHOW),jQuery(we).off(we.events.HIDE),we.destroy(),re.undelegate(".ug-item-wrapper img","mouseenter"),re.undelegate(".ug-item-wrapper img","mouseleave")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i,n){e(t,i,n)},this.getSlideImage=function(e){if(!e)var e=pe.getCurrentSlide();var t=e.find(".ug-item-wrapper img");return t},this.setHtml=function(e){r(e)},this.run=function(){t()},this.isInnerInPlace=function(){var e=pe.getSlidesReference(),t=Ie.getElementSize(e.objCurrentSlide),i=-t.left,n=Ie.getElementSize(oe);return i==n.left},this.isAnimating=function(){var e=oe.is(":animated");return e},this.isSlideCurrent=function(e){var t=e.data("slidenum");return Pe.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return void 0!==t&&null!==t},this.getObjImagePadding=function(){var e={padding_top:Se.slider_image_padding_top,padding_bottom:Se.slider_image_padding_bottom,padding_left:Se.slider_image_padding_left,padding_right:Se.slider_image_padding_right};return e},this.getSlidesReference=function(){var e={objPrevSlide:q(Pe.numPrev),objNextSlide:q(Pe.numNext),objCurrentSlide:q(Pe.numCurrent)};return e},this.getCurrentSlide=function(){var e=pe.getSlidesReference();return e.objCurrentSlide},this.getCurrentItemIndex=function(){var e=pe.getSlidesReference(),t=e.objCurrentSlide.data("index");return null!==t&&void 0!==t||(t=-1),t},this.getCurrentItem=function(){var e=pe.getCurrentItemIndex();if(e==-1)return null;var t=fe.getItem(e);return t},this.getSlideType=function(e){void 0==e&&(e=pe.getCurrentSlide());var t=e.data("type");return t},this.isMouseInsideSlideImage=function(e){var t=pe.getSlideImage(),i=Ie.getMousePosition(e);void 0===i.pageX&&(i=he.getLastMousePos());var n=Ie.getMouseElementPoint(i,t),r=Ie.getElementSize(t);return isMouseInside=Ie.isPointInsideElement(n,r),isMouseInside},this.isCurrentSlideType=function(e){var t=pe.getSlideType();return t==e},this.isCurrentSlideLoadingImage=function(){var e=pe.getCurrentSlide(),t=e.data("isLoading");return t===!0},this.setItem=function(e,t,i){var n=pe.getSlidesReference(),r=n.objCurrentSlide.data("index"),o=e.index;if(o==r)return!0;var s=void 0==r;if(s)m(n.objCurrentSlide,e),pe.placeNabourItems();else{var a="left";fe.getNumItems();"next"==i?a="left":"prev"==i||r>o?a="right":r>o&&(a="right"),E(a,e,t)}},this.placeNabourItems=function(){var e=pe.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=fe.getPrevItem(t),n=fe.getNextItem(t);m(e.objNextSlide,n),m(e.objPrevSlide,i),l()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=pe.getCurrentSlide()),t===!0?we.pause():we.hide()},this.startSlideAction=function(e){e||(e=pe.getCurrentSlide());var t=ee(e);if("image"==t.type)return!0;switch(1==Se.slider_video_constantsize&&I(),w(),we.show(),t.type){case"youtube":we.playYoutube(t.videoid);break;case"vimeo":we.playVimeo(t.videoid);break;case"html5video":we.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":we.playSoundCloud(t.trackid);break;case"wistia":we.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)var e=pe.getCurrentSlide();var t=pe.getSlideType(e);return"image"!=t?Se.slider_scale_mode_media:Se.slider_scale_mode==Se.slider_scale_mode_fullscreen?Se.slider_scale_mode:1==fe.isFullScreen()?Se.slider_scale_mode_fullscreen:Se.slider_scale_mode},this.getObjects=function(){var e={g_objSlider:re,g_objInner:oe,g_options:Se,g_objZoomSlider:ce};return e},this.getObjZoom=function(){return ce},this.getOptions=function(){return Se},this.getElement=function(){return re},this.getVideoObject=function(){return we},this.isCurrentSlideImageFit=function(){var e=pe.getCurrentSlide();pe.getSlideType(e);y("image",e);var t=pe.getSlideImage(e);if(0==t.length)return!1;var i=Ie.isImageFitParent(t);return i},this.isCurrentImageInPlace=function(){var e=pe.getSlideImage();if(0==e.length)return!1;var t=pe.getScaleMode(),i=pe.getObjImagePadding(),n=ee(),r=e.parent(),o=Ie.getImageInsideParentData(r,n.imageWidth,n.imageHeight,t,i),s=Ie.getElementSize(e),a=!1;return o.imageWidth==s.width&&(a=!0),a},this.isSlideActionActive=function(){return we.isVisible()},this.isSwiping=function(){if(!he)return!1;var e=he.isTouchActive();return e},this.isPreloading=function(){var e=K();return!!e.is(":visible")},this.setOptions=function(e){_e&&(e=Ie.convertCustomPrefixOptions(e,_e,"slider")),Se=jQuery.extend(Se,e)},this.setSize=function(e,t){if(e<0||t<0)return!0;var i={};i.width=e+"px",i.height=t+"px",re.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",oe.css(n);var r={};r.height=t+"px",r.width=e+"px",se.css(r),ae.css(r),le.css(r);var o=e-Se.slider_item_padding_left-Se.slider_item_padding_right,a=t-Se.slider_item_padding_top-Se.slider_item_padding_bottom,d={};d.width=o+"px",d.height=a+"px",d.top=Se.slider_item_padding_top+"px",d.left=Se.slider_item_padding_left+"px",re.find(".ug-item-wrapper").css(d),Te&&Te.setSizeByParent(),s(),u(se),u(ae),u(le),l();var h=pe.getSlideType();if("image"!=h&&1==Se.slider_video_constantsize)I();else{var c=e-Se.slider_video_padding_left-Se.slider_video_padding_right,g=t-Se.slider_video_padding_top-Se.slider_video_padding_bottom;we.setSize(c,g)}w()},this.refreshSlideItems=function(){return 1==pe.isAnimating()||(u(se),u(ae),u(le),void l())},this.isMouseOver=function(){return re.ismouseover()},this.setPosition=function(e,t){Ie.placeElement(re,e,t)},this.zoomIn=function(){return!ce||void ce.zoomIn()},this.zoomOut=function(){return!ce||void ce.zoomOut()},this.zoomBack=function(){return!ce||void ce.zoomBack()}}function UGTextPanel(){function e(e,t){if(!t)var t=v.textpanel_padding_top;var i=t;if(d){var n=i;m.placeElement(d,0,n);var o=m.getElementSize(d),i=o.bottom}var s="";if(h&&(s=jQuery.trim(h.text())),""!=s){var a=i;d&&(a+=v.textpanel_padding_title_description),m.placeElement(h,0,a);var l=m.getElementSize(h);i=l.bottom}if(!v.textpanel_height&&1==b.setInternalHeight){var u=i+v.textpanel_padding_bottom;r(u,e)}}function t(){var e=0;if(d&&(e+=d.outerHeight()),h){var t="";h&&(t=jQuery.trim(h.text())),""!=t&&(d&&(e+=v.textpanel_padding_title_description),e+=h.outerHeight())}return e}function i(){var i=t(),n=(g.height()-i)/2;e(!1,n)}function n(){var i=t(),n=g.height()-i-v.textpanel_padding_bottom;e(!1,n)}function r(e,t){if(!t)var t=!1;if(1==t){if(c){var i=c.height();e>i&&c.height(e)}var n={height:e+"px"};l.add(g).animate(n,v.textpanel_fade_duration)}else c&&c.height(e),l.add(g).height(e)}function o(){if(1==v.textpanel_enable_bg){c=l.children(".ug-textpanel-bg"),c.fadeTo(0,v.textpanel_bg_opacity);var e={"background-color":v.textpanel_bg_color};e=jQuery.extend(e,v.textpanel_bg_css),c.css(e)}if(1==v.textpanel_enable_title){d=g.children(".ug-textpanel-title");var t={};null!==v.textpanel_title_color&&(t.color=v.textpanel_title_color),null!==v.textpanel_title_font_family&&(t["font-family"]=v.textpanel_title_font_family),null!==v.textpanel_title_text_align&&(t["text-align"]=v.textpanel_title_text_align),null!==v.textpanel_title_font_size&&(t["font-size"]=v.textpanel_title_font_size+"px"),null!==v.textpanel_title_bold&&(v.textpanel_title_bold===!0?t["font-weight"]="bold":t["font-weight"]="normal"),v.textpanel_css_title&&(t=jQuery.extend(t,v.textpanel_css_title)),d.css(t)}if(1==v.textpanel_enable_description){h=g.children(".ug-textpanel-description");var i={};null!==v.textpanel_desc_color&&(i.color=v.textpanel_desc_color),null!==v.textpanel_desc_font_family&&(i["font-family"]=v.textpanel_desc_font_family),null!==v.textpanel_desc_text_align&&(i["text-align"]=v.textpanel_desc_text_align),null!==v.textpanel_desc_font_size&&(i["font-size"]=v.textpanel_desc_font_size+"px"),null!==v.textpanel_desc_bold&&(v.textpanel_desc_bold===!0?i["font-weight"]="bold":i["font-weight"]="normal"),v.textpanel_css_title&&(i=jQuery.extend(i,v.textpanel_css_description)),h.css(i)}}function s(){var e=_.getSelectedItem();p.setText(e.title,e.description)}function a(){jQuery(_).on(_.events.ITEM_CHANGE,s)}var l,u,d,h,c,g,_,p=this,m=new UGFunctions,f="",v={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},b={isFirstTime:!0,setInternalHeight:!0};this.positionElements=function(t){if(!v.textpanel_height||"top"==v.textpanel_text_valign)return e(t),!1;switch(v.textpanel_text_valign){default:case"top":e(!1);break;case"bottom":n();break;case"center":case"middle":i()}},this.init=function(e,t,i){if(_=e,i&&(f=i,t=m.convertCustomPrefixOptions(t,f,"textpanel")),t&&(v=jQuery.extend(v,t)),0==v.textpanel_enable_title&&0==v.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");v.textpanel_height&&v.textpanel_height<0&&(v.textpanel_height=null),1==v.textpanel_desc_style_as_title&&(v.textpanel_desc_color||(v.textpanel_desc_color=v.textpanel_title_color),v.textpanel_desc_bold||(v.textpanel_desc_bold=v.textpanel_title_bold),v.textpanel_desc_font_family||(v.textpanel_desc_font_family=v.textpanel_title_font_family),v.textpanel_desc_font_size||(v.textpanel_desc_font_size=v.textpanel_title_font_size),v.textpanel_desc_text_align||(v.textpanel_desc_text_align=v.textpanel_title_text_align))},this.appendHTML=function(e,t){u=e,t=t?" "+t:"";var i="<div class='ug-textpanel"+t+"'>";1==v.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==v.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==v.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),i+="</div></div>",e.append(i),l=e.children(".ug-textpanel"),g=l.children(".ug-textpanel-textwrapper"),o()},this.destroy=function(){jQuery(_).off(_.events.ITEM_CHANGE)},this.run=function(){p.setSizeByParent(),a()},this.setPanelSize=function(e,t){if(b.setInternalHeight=!0,t)b.setInternalHeight=!1;else var t=80;v.textpanel_height&&(t=v.textpanel_height),l.width(e),l.height(t),c&&(c.width(e),c.height(t));var i=e-v.textpanel_padding_left-v.textpanel_padding_right,n=v.textpanel_padding_left;m.setElementSizeAndPosition(g,n,0,i,t),d&&d.width(i),h&&h.width(i),0==b.isFirstTime&&p.positionElements(!1)},this.setSizeByParent=function(){var e=m.getElementSize(u);p.setPanelSize(e.width)},this.setTextPlain=function(e,t){d&&d.html(e),h&&h.html(t)},this.setText=function(e,t){1==b.isFirstTime?(p.setTextPlain(e,t),b.isFirstTime=!1,p.positionElements(!1)):g.stop().fadeTo(v.textpanel_fade_duration,0,function(){p.setTextPlain(e,t),p.positionElements(!0),jQuery(this).fadeTo(v.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(void 0!==e&&null!==e)i.top=e,i.bottom="auto";else switch(v.textpanel_align){case"top":i.top=v.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=v.textpanel_margin+"px";break;case"middle":i.top=m.getElementRelativePos(l,"middle",v.textpanel_margin)}void 0!==t&&null!==t&&(i.left=t),l.css(i)},this.setOptions=function(e){f&&(e=m.convertCustomPrefixOptions(e,f,"textpanel")),v=jQuery.extend(v,e)},this.getElement=function(){return l},this.getSize=function(){var e=m.getElementSize(l);return e},this.refresh=function(e,t,i,n){o(),i?p.setPanelSize(i,n):p.setSizeByParent(),p.positionElements(!1),t!==!0&&p.positionPanel(),e===!0&&p.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return v},this.getOption=function(e){return 0==v.hasOwnProperty(e)?null:v[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function i(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==d.isCurrentSlideType("image"))return!0;var n=d.isCurrentSlideImageFit();1==n?0==e(a)&&(t(a),t(l)):1==e(a)&&(i(a),i(l))}var r,o,s,a,l,u=this,d=new UGSlider,h=new UGFunctions,c={slider_zoompanel_skin:""};this.init=function(e,t){d=e,t&&(c=jQuery.extend(c,t))},this.appendHTML=function(e){o=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+c.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),r=e.children(".ug-zoompanel"),s=r.children(".ug-zoompanel-plus"),a=r.children(".ug-zoompanel-minus"),l=r.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){s=e,a=t,l=i,a&&a.addClass("ug-zoompanel-button-disabled"),l&&l.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return r},u.initEvents=function(){h.addClassOnHover(s,"ug-button-hover"),h.addClassOnHover(a,"ug-button-hover"),h.addClassOnHover(l,"ug-button-hover"),h.setButtonOnClick(s,function(){return 1==e(s)||void d.zoomIn()}),h.setButtonOnClick(a,function(){return 1==e(a)||void d.zoomOut()}),h.setButtonOnClick(l,function(){return 1==e(l)||void d.zoomBack()}),jQuery(d).on(d.events.ZOOM_CHANGE,n),jQuery(d).on(d.events.ITEM_CHANGED,n)}}function UGBullets(){function e(){var e="",t="";_.bullets_space_between!=-1&&(t=" style='margin-left:"+_.bullets_space_between+"px'");for(var i=0;i<u;i++)e+=0==i?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(o.html(e),!a){var n=o.find(".ug-bullet:first-child");n.length&&(a=n.width())}}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function i(){var e=o.children(".ug-bullet");c.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function n(e){if(e<0||e>=u)throw new Error("wrong bullet index: "+e)}function r(){if(1==g.isInited)return!0;throw new Error("The bullets are not inited!")}var o,s,a,l=this,u=0,d=new UniteGalleryMain,h=-1,c=new UGFunctions,g={isInited:!1},_={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){d=e,u=i?i:d.getNumItems(),g.isInited=!0,_=jQuery.extend(_,t),""==_.bullets_skin&&(_.bullets_skin=_.gallery_skin)},this.getBulletsWidth=function(){if(0==u)return 0;if(!a)return 0;var e=u*a+(u-1)*_.bullets_space_between;return e},this.appendHTML=function(t){s=t,r();var n="";""!=_.bullets_addclass&&(n=" "+_.bullets_addclass);var a="<div class='ug-slider-control ug-bullets ug-skin-"+_.bullets_skin+n+"'>";a+="</div>",o=jQuery(a),t.append(o),e(),i()},this.updateNumBullets=function(t){u=t,e(),i()},this.getElement=function(){return o},this.setActive=function(e){r(),n(e);var t=o.children(".ug-bullet");t.removeClass("ug-bullet-active");var i=jQuery(t[e]);i.addClass("ug-bullet-active"),h=e},this.isActive=function(e){if(n(e),"number"!=typeof e)var t=e;else var t=o.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")},this.getNumBullets=function(){return u}}function UGProgressBar(){var e,t,i=this,n=0,r=new UGFunctions,o={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(i,n){n&&(o=jQuery.extend(o,n)),i.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=i.children(".ug-progress-bar"),t=e.children(".ug-progress-bar-inner"),t.css("background-color",o.slider_progressbar_color),e.height(o.slider_progressbar_line_width),t.height(o.slider_progressbar_line_width),t.width("0%");var r=o.slider_progressbar_opacity,s=t[0];s.style.opacity=r,s.style.filter="alpha(opacity="+100*r+")"},this.putHidden=function(t,n){i.put(t,n),e.hide()},this.getElement=function(){return e},this.setSize=function(n){e.width(n),t.width(n),i.draw()},this.setPosition=function(t,i,n,o){r.placeElement(e,t,i,n,o)},this.draw=function(){var e=100*n;t.width(e+"%")},this.setProgress=function(e){n=r.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(s.slider_progresspie_width,s.slider_progresspie_height)/2,n=i[0].getContext("2d");0==r&&(r=!0,n.rotate(1.5*Math.PI),n.translate(-2*t,0)),n.clearRect(0,0,s.slider_progresspie_width,s.slider_progresspie_height);var o=s.slider_progresspie_width/2,a=s.slider_progresspie_height/2,l=0,u=e*Math.PI*2;if(1==s.slider_progresspie_type_fill)n.beginPath(),n.moveTo(o,a),n.arc(o,a,t,l,u),n.lineTo(o,a),n.fillStyle=s.slider_progresspie_color1,n.fill(),n.closePath();else{n.globalCompositeOperation="source-over",n.beginPath(),n.moveTo(o,a),n.arc(o,a,t,l,u),n.lineTo(o,a),n.fillStyle=s.slider_progresspie_color1,n.fill(),n.closePath(),n.globalCompositeOperation="destination-out";var d=t-s.slider_progresspie_stroke_width;n.beginPath(),n.moveTo(o,a),n.arc(o,a,d,l,u),n.lineTo(o,a),n.fillStyle=s.slider_progresspie_color1,n.fill(),n.closePath()}1==s.slider_progresspie_type_fill&&(l=u,u=2*Math.PI,n.beginPath(),n.arc(o,a,t,l,u),n.lineTo(o,a),n.fillStyle=s.slider_progresspie_color2,n.fill(),n.closePath())}var t,i,n=this,r=!1,o=new UGFunctions,s={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(s=jQuery.extend(s,t)),e.append("<canvas class='ug-canvas-pie' width='"+s.slider_progresspie_width+"' height='"+s.slider_progresspie_height+"'></canvas>"),i=e.children(".ug-canvas-pie")},this.putHidden=function(t,r){n.put(t,r),e(.1),i.hide()},this.getElement=function(){return i},this.setPosition=function(e,t){o.placeElement(i,e,t)},this.getSize=function(){var e={width:s.slider_progresspie_width,height:s.slider_progresspie_height};return e},this.setProgress=function(i){i=o.normalizePercent(i),t=i,e(i)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function e(e){if(!e)var e=f.getSlidesReference();var t=v.getElementSize(e.objCurrentSlide),i=-t.left,n=v.getElementSize(_),r=i-n.left;return r}function t(){var t=f.getSlidesReference(),i=e(t),n=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(i)>=n)return!0;var r=Math.abs(b.lastMouseX-b.startMouseX);Math.abs(b.lastMouseY-b.startMouseY);if(r<20)return!1;var o=jQuery.now(),s=o-b.startTime;return s<500}function i(e){if(1==f.isInnerInPlace())return!1;if(p.trigger(f.events.BEFORE_RETURN),!e)var e=f.getSlidesReference();var t=v.getElementSize(e.objCurrentSlide),i=-t.left;_.animate({left:i+"px"},{duration:m.slider_transition_return_speed,easing:m.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,n){if(1==b.isDragVideo){var r=v.getElementSize(_),o=r.left,s=o-i,a=b.videoStartX+s;b.videoObject.css("left",a)}},complete:function(){p.trigger(f.events.AFTER_RETURN)}})}function n(e){f.getVideoObject().hide(),f.switchSlideNums(e),f.placeNabourItems()}function r(){var t=f.getSlidesReference(),r=e(t);if(0==r)return!1;var o=r>0?"left":"right",s=!1;switch(o){case"right":if(f.isSlideHasItem(t.objPrevSlide))var a=v.getElementSize(t.objPrevSlide),l=-a.left;else s=!0;break;case"left":if(f.isSlideHasItem(t.objNextSlide))var u=v.getElementSize(t.objNextSlide),l=-u.left;else s=!0}1==s?i(t):_.stop().animate({left:l+"px"},{duration:m.slider_transition_continuedrag_speed,easing:m.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==b.isDragVideo){var e=v.getElementSize(_),t=e.left,i=t-b.startPosx,n=b.videoStartX+i;b.videoObject.css("left",n)}},always:function(){n(o),p.trigger(f.events.AFTER_DRAG_CHANGE)}})}function o(e){var t=b.lastMouseX-b.startMouseX;if(0==t)return!0;var i=t<0?"left":"right",n=f.getObjZoom();if(n){var r=n.isPanEnabled(e,i);if(1==r)return b.isInitDataValid=!1,!0;if(0==b.isInitDataValid)return s(e),!0}var o=b.startPosx+t;if(t>0&&o>0)o/=3;else if(t<0){var a=o+_.width(),l=g.width();a<l&&(o=b.startPosx+t/3)}if(0==b.isDragging&&(b.isDragging=!0,p.trigger(f.events.START_DRAG)),_.css("left",o+"px"),1==b.isDragVideo){var u=o-b.startPosx,d=b.videoStartX+u;b.videoObject.css("left",d)}}function s(e){var t=v.getMousePosition(e);b.startMouseX=t.pageX,b.startMouseY=t.pageY,b.lastMouseX=b.startMouseX,b.lastMouseY=b.startMouseY,b.startTime=jQuery.now();var i=v.getArrTouches(e);b.startArrTouches=v.getArrTouchPositions(i);var n=v.getElementSize(_);b.startPosx=n.left,b.isInitDataValid=!0,b.isDragVideo=!1,v.storeEventData(e,b.storedEventID)}function a(e){b.touch_active=!1}function l(e,t){b.touch_active=!0,s(t)}function u(e){e.preventDefault(),b.isDragging=!1,1==f.isAnimating()&&_.stop(!0,!0);var t=v.getArrTouches(e);return t.length>1?(1==b.touch_active&&a("1"),!0):1==b.touch_active||void l("1",e)}function d(e){if(0==b.touch_active)return!0;if(0==e.buttons)return a("2"),r(),!0;v.updateStoredEventData(e,b.storedEventID),e.preventDefault();var t=v.getMousePosition(e);b.lastMouseX=t.pageX,b.lastMouseY=t.pageY;var i=null;1==m.slider_vertical_scroll_ondrag&&(i=v.handleScrollTop(b.storedEventID)),"vert"!==i&&o(e)}function h(e){var n=v.getArrTouches(e),o=n.length,s=f.isInnerInPlace();if(1==s&&0==b.touch_active&&0==o)return!0;if(0==o&&1==b.touch_active){a("3");var u=!1,d=v.wasVerticalScroll(b.storedEventID);0==d&&(u=t()),1==u?r():i()}else 1==o&&0==b.touch_active&&l("2",e)}function c(){g.bind("mousedown touchstart",u),jQuery("body").bind("mousemove touchmove",d),jQuery(window).add("body").bind("mouseup touchend",h)}var g,_,p,m,f=new UGSlider,v=new UGFunctions,m={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},b={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var i=v.getArrTouches(t),n=i.length;if(0!=n||0!=b.lastNumTouches)return b.lastNumTouches=n,!1;b.lastNumTouches=n;var r=f.getSlidesReference(),o=(e(r),Math.abs(b.lastMouseX-b.startMouseX)),s=Math.abs(b.lastMouseY-b.startMouseY),a=jQuery.now(),l=a-b.startTime;return o<20&&s<50&&l<500},this.init=function(e,t){f=e,p=jQuery(f),g_objects=e.getObjects(),g=g_objects.g_objSlider,_=g_objects.g_objInner,m=jQuery.extend(m,t),c()},this.getLastMousePos=function(){var e={pageX:b.lastMouseX,pageY:b.lastMouseY};return e},this.isTouchActive=function(){return b.touch_active}}function UGZoomSliderControl(){function e(e,t){E=e,I=jQuery(E),g_objects=e.getObjects(),y=g_objects.g_objSlider,w=g_objects.g_objInner,S=jQuery.extend(S,t),b()}function t(){var e=E.getScaleMode();return"down"!=e&&(e="fit"),e}function i(){var e=jQuery.now(),i=e-x.storeImageLastTime;if(i<20)return!1;var n=E.getSlidesReference();if(x.objSlide=n.objCurrentSlide,
x.objImage=n.objCurrentSlide.find("img"),0==x.objImage.length)return!1;x.objImageSize=T.getElementSize(x.objImage),x.objParent=x.objImage.parent(),x.objParentSize=T.getElementSize(x.objParent);var r=t();objPadding=E.getObjImagePadding(),x.objFitImageSize=T.getImageInsideParentDataByImage(x.objImage,r,objPadding);var e=jQuery.now();return x.storeImageLastTime=e,!0}function n(e,i){var n=E.getSlidesReference(),r=n.objCurrentSlide.find("img"),o=t();I.trigger(E.events.ZOOM_START);var s=!0,a=E.getObjImagePadding();if("back"==e){var l=T.getImageOriginalSize(r);T.scaleImageFitParent(r,l.width,l.height,o,a)}else{var u="in"==e;s=T.zoomImageInsideParent(r,u,S.slider_zoom_step,i,o,S.slider_zoom_max_ratio,a)}1==s&&(I.trigger(E.events.ZOOMING),I.trigger(E.events.ZOOM_CHANGE),I.trigger(E.events.ZOOM_END))}function r(e,t,i){var n=T.getArrTouches(t);if(i===!0){if(1!=n.length)return!1}else if(n.length>1)return!1;return!!T.isElementBiggerThenParent(e)}function o(e){var t=T.getMousePosition(e);x.startMouseX=t.pageX,x.startMouseY=t.pageY,x.lastMouseX=x.startMouseX,x.lastMouseY=x.startMouseY,x.startImageX=x.objImageSize.left,x.startImageY=x.objImageSize.top,x.panXActive=x.objImageSize.width>x.objParentSize.width,x.panYActive=x.objImageSize.height>x.objParentSize.height}function s(e){x.isPanActive=!0,o(e)}function a(e){if(void 0==x.objImage||0==x.objImage.length)return!0;var t=T.getMousePosition(e),i=(t.pageX-x.startMouseX,t.pageY-x.startMouseY,t.pageX-x.lastMouseX),n=t.pageY-x.lastMouseY,r=i<0?"left":"right",o=n<0?"up":"down";x.lastMouseX=t.pageX,x.lastMouseY=t.pageY;var s=T.getElementSize(x.objImage);0==x.panYActive?n=0:"down"==o&&s.top>0?n/=3:"up"==o&&s.bottom<x.objParentSize.height&&(n/=3),0==x.panXActive||0==E.isInnerInPlace()?i=0:"right"==r&&s.left>0?i/=3:"left"==r&&s.right<x.objParentSize.width&&(i/=3);var a=s.left+i,l=s.top+n;T.placeElement(x.objImage,a,l)}function l(){var e=!1,t=!1,i=0,n=0,r=T.getElementSize(x.objImage),o=E.getObjImagePadding(),s=T.getElementCenterPosition(x.objImage,o);x.panXActive=x.objImageSize.width>x.objParentSize.width,x.panYActive=x.objImageSize.height>x.objParentSize.height,1==x.panYActive?r.top>0?(n=0,t=!0):r.bottom<x.objParentSize.height&&(n=x.objParentSize.height-r.height,t=!0):r.top!=s.top&&(t=!0,n=s.top),1==x.panXActive?r.left>0?(i=0,e=!0):r.right<x.objParentSize.width&&(i=x.objParentSize.width-r.width,e=!0):r.left!=s.left&&(e=!0,i=s.left);var a={};1==t&&(a.top=n+"px"),1==e&&(a.left=i+"px"),1!=t&&1!=e||x.objImage.animate(a,{duration:S.slider_zoom_return_pan_duration,easing:S.slider_zoom_return_pan_easing,queue:!1})}function u(){return!(!x.objImage||!x.objImage.is(":animated"))}function d(e){x.isZoomActive=!0,x.startDistance=T.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==x.startDistance&&(x.startDistance=1),x.startMiddlePoint=T.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),x.objImageSize=T.getElementSize(x.objImage),x.startImageX=x.objImageSize.left,x.startImageY=x.objImageSize.top,x.imageOrientPoint=T.getElementLocalPoint(x.startMiddlePoint,x.objImage);var t=T.isPointInsideElement(x.imageOrientPoint,x.objImageSize);0==t&&(x.imageOrientPoint=T.getElementCenterPoint(x.objImage)),I.trigger(E.events.ZOOM_START)}function h(e){if(0==x.isZoomActive)return!1;var t=T.getArrTouches(e);2!=t.length&&(x.isZoomActive=!1,I.trigger(E.events.ZOOM_END))}function c(e){if(1==x.isZoomActive)return!0;var t=T.getArrTouches(e);return 2!=t.length||void d(t)}function g(e){var t=T.getArrTouches(e),i=T.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),n=i/x.startDistance,r=T.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),o=x.objImageSize.width*n,s=x.objImageSize.height*n,a=T.getImageOriginalSize(x.objImage),l=1;if(a.width>0&&(l=o/a.width),l>S.slider_zoom_max_ratio)return!0;panX=-(x.imageOrientPoint.x*n-x.imageOrientPoint.x),panY=-(x.imageOrientPoint.y*n-x.imageOrientPoint.y);var u=r.x-x.startMiddlePoint.x,d=r.y-x.startMiddlePoint.y,h=x.startImageX+panX+u,c=x.startImageY+panY+d;T.setElementSizeAndPosition(x.objImage,h,c,o,s),I.trigger(E.events.ZOOMING),I.trigger(E.events.ZOOM_CHANGE)}function _(){if(void 0==x.objImage||0==x.objImage.length)return!0;var e=T.getElementSize(x.objImage);if(e.width<x.objFitImageSize.imageWidth){x.objImage.css({position:"absolute",margin:"none"});var t={top:x.objFitImageSize.imageTop+"px",left:x.objFitImageSize.imageLeft+"px",width:x.objFitImageSize.imageWidth+"px",height:x.objFitImageSize.imageHeight+"px"};x.objImage.animate(t,{duration:S.slider_zoom_return_pan_duration,easing:S.slider_zoom_return_pan_easing,queue:!1})}else l()}function p(e){if(0==E.isCurrentSlideType("image"))return!0;i();return void 0==x.objImage||0==x.objImage.length||(e.preventDefault(),1==u()&&x.objImage.stop(!0),1==x.isZoomActive?h(e):c(e),void(1==x.isZoomActive?x.isPanActive=!1:1==r(x.objImage,e)&&1==x.isZoomedOnce&&s(e)))}function m(e){if(0==E.isCurrentSlideType("image"))return!0;var t=jQuery(e.target);if(1==t.data("ug-button"))return!1;i();if(void 0==x.objImage||0==x.objImage.length)return!0;var n=x.isPanActive,o=x.isZoomActive;if(0==E.isInnerInPlace())return x.isZoomActive=!1,x.isPanActive=!1,!0;if(1==x.isZoomActive?h(e):c(e),1==x.isZoomActive)x.isPanActive=!1;else{var a=r(x.objImage,e,!0);1==x.isPanActive?x.isPanActive=!1:1==a&&s(e)}(n||o)&&0==x.isZoomActive&&0==x.isPanActive&&_()}function f(e){return 0==E.isCurrentSlideType("image")||void(1==x.isZoomActive?g(e):1==x.isPanActive&&a(e))}function v(e,t,i,r){if(0==S.slider_zoom_mousewheel)return!0;if(0==E.isCurrentSlideType("image"))return!0;e.preventDefault();var o=t>0,s=T.getMousePosition(e),a=1==o?"in":"out";n(a,s)}function b(){y.on("mousewheel",v),y.bind("mousedown touchstart",p),jQuery("body").bind("mousemove touchmove",f),jQuery(window).add("body").bind("mouseup touchend",m),I.bind(E.events.BEFORE_RETURN,function(){_()}),I.bind(E.events.ITEM_CHANGED,function(){x.isZoomedOnce=!1}),I.bind(E.events.ZOOM_CHANGE,function(){x.isZoomedOnce=!0})}var y,w,I,E=new UGSlider,T=new UGFunctions,S={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},x={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(i(),void 0==x.objImage||0==x.objImage.length)return!1;if(0==x.isZoomedOnce)return!1;if(0==r(x.objImage,e))return!1;if(0==E.isInnerInPlace())return!1;if("left"==t){if(x.objImageSize.right<=x.objParentSize.width)return!1}else if(x.objImageSize.left>=0)return!1;return!0},this.init=function(t,i){e(t,i)},this.zoomIn=function(){n("in")},this.zoomOut=function(){n("out")},this.zoomBack=function(){n("back")}}function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,n,o,s){r=null,a=!1;var l=e+"_video",u="<div id='"+l+"' class='wistia_embed' style='width:"+n+";height:"+o+";' data-video-width='"+n+"' data-video-height='"+o+"'>&nbsp;</div>";jQuery("#"+e).html(u),r=Wistia.embed(t,{version:"v1",videoWidth:n,videoHeight:o,container:l,autoPlay:s}),a=!0,i()}function i(){r.bind("play",function(){s.trigger(o.events.START_PLAYING)}),r.bind("pause",function(){s.trigger(o.events.STOP_PLAYING)}),r.bind("end",function(){s.trigger(o.events.STOP_PLAYING),s.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o=this,s=jQuery(this),a=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==r)return!1;if(0==a)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.putVideo=function(i,r,o,s,a){return e()?(t(i,r,o,s,a),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,s,a),clearInterval(n))},500)))},this.isPlayerReady=function(){return!(!a||!r)}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,n,s,a){r=null,g_isPlayerReady=!1;var l=e+"_iframe",u=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;u+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true",u+=a===!0?"&amp;auto_play=true":"&amp;auto_play=false";var d="<iframe id='"+l+"' src="+u+" width='"+n+"' height='"+s+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d),r=SC.Widget(l),r.bind(SC.Widget.Events.READY,function(){r&&(g_isPlayerReady=!0,i())}),o=e}function i(){r.bind(SC.Widget.Events.PLAY,function(){a.trigger(s.events.START_PLAYING)}),r.bind(SC.Widget.Events.PAUSE,function(){a.trigger(s.events.STOP_PLAYING)}),r.bind(SC.Widget.Events.FINISH,function(){a.trigger(s.events.STOP_PLAYING),a.trigger(s.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o,s=this,a=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(i,r,o,s,a){return e()?(t(i,r,o,s,a),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,s,a),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){s.doCommand("pause")},this.play=function(){s.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,r=null,o&&(jQuery("#"+o).html(""),o=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,n,o,s){r=null,g_isPlayerReady=!1;var a=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",l=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",u=e+"_video",d="";s&&s===!0&&(d="autoplay='autoplay'");var h="";t.posterImage&&(h="poster='"+t.posterImage+"'");var c="<video id='"+u+"' width='"+n+"' height='"+o+"'  controls='controls' preload='none' "+d+" "+h+">";""!=t.mp4&&(c+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(c+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(c+="<source type='video/ogg' src='"+t.ogv+"' />"),c+="<object width='"+n+"' height='"+o+"' type='application/x-shockwave-flash' data='"+a+"'>",c+="<param name='movie' value='"+a+"' />",c+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",c+="</object>",c+="</video>",jQuery("#"+e).html(c),new MediaElement(u,{enablePluginDebug:!1,flashName:a,silverlightName:l,success:function(e,t){g_isPlayerReady=!0,r=e,0==s&&r.pause(),i()},error:function(e){trace(e)}})}function i(){g_ugFunctions.addEvent(r,"play",function(){s.trigger(o.events.START_PLAYING)}),g_ugFunctions.addEvent(r,"pause",function(){s.trigger(o.events.STOP_PLAYING)}),g_ugFunctions.addEvent(r,"ended",function(){s.trigger(o.events.STOP_PLAYING),s.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o=this,s=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(i,r,o,s,a){return e()?(t(i,r,o,s,a),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,s,a),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,n,o,s){a=null,l=!1;var u=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";s===!0&&(u+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var d="<iframe src="+u+" width='"+n+"' height='"+o+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d);var h=jQuery("#"+e+" iframe")[0];a=Froogaloop(h),a.addEvent("ready",function(){a&&(l=!0,i())}),r=e}function i(){return!!a&&(a.addEvent("cuechange",function(){1==u&&o.play()}),a.addEvent("play",function(){s.trigger(o.events.START_PLAYING)}),a.addEvent("pause",function(){s.trigger(o.events.STOP_PLAYING)}),void a.addEvent("finish",function(){s.trigger(o.events.STOP_PLAYING),s.trigger(o.events.VIDEO_ENDED)}))}this.isAPILoaded=!1;var n,r,o=this,s=jQuery(this),a=null,l=!1,u=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==a)return!1;if(0==l)return!1;switch(e){default:a.api(e)}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.destroy=function(){a&&(a.api("unload"),a=null,l=!1),r&&jQuery("#"+r).html("")},this.putVideo=function(i,r,o,s,a){return e()?(t(i,r,o,s,a),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,s,a),clearInterval(n))},500)))},this.isPlayerReady=function(){return!(!l||!a)},this.changeVideo=function(e,t){return 0!=o.isPlayerReady()&&(u=t,void a.api("loadVideo",e))},this.getVideoImages=function(e,t,i){var n=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(n,{},function(e){var n={};n.preview=e[0].thumbnail_large,n.thumb=e[0].thumbnail_medium,i(t,n)})}}function UGYoutubeAPI(){function e(e,t,r,s,u){a&&l&&a.destroy();var d={controls:2,showinfo:h.video_youtube_showinfo,rel:0};u===!0&&(d.autoplay=1),l=!1,a=new YT.Player(e,{height:s,width:r,videoId:t,playerVars:d,events:{onReady:i,onStateChange:n}}),o=e}function t(){return"undefined"!=typeof YT&&"undefined"!=typeof YT.Player}function i(){l=!0}function n(){if("function"!=typeof a.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=a.getPlayerState();switch(e){case YT.PlayerState.PLAYING:u.trigger(s.events.START_PLAYING);break;case YT.PlayerState.ENDED:u.trigger(s.events.STOP_PLAYING),u.trigger(s.events.VIDEO_ENDED);break;default:d==YT.PlayerState.PLAYING&&u.trigger(s.events.STOP_PLAYING)}d=e}this.isAPILoaded=!1;var r,o,s=this,a=null,l=!1,u=jQuery(this),d=-1,h={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){h=jQuery.extend(h,e)},this.putVideo=function(i,n,o,s,a){return t()?(e(i,n,o,s,a),!0):(this.loadAPI(),void(r=setInterval(function(){t()&&(e(i,n,o,s,a),clearInterval(r))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!a)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof a.playVideo)return!1;a.playVideo();break;case"pause":if("function"!=typeof a.pauseVideo)return!1;a.pauseVideo();break;case"seek":if("function"!=typeof a.seekTo)return!1;a.seekTo(t);break;case"stopToBeginning":var i=a.getPlayerState();switch(a.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:a.seekTo(0)}}},this.play=function(){s.doCommand("play")},this.pause=function(){s.doCommand("pause")},this.destroy=function(){try{a&&(l=!1,a.clearVideo(),a.destroy())}catch(e){jQuery("#"+o).html("")}},this.stopToBeginning=function(){s.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0!=s.isPlayerReady()&&void(t&&1==t?a.loadVideoById(e,0,"large"):a.cueVideoById(e,0,"large"))},this.isPlayerReady=function(){return!(!l||!a)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){_.hide()}function t(){p.trigger(_.events.PLAY_START),h&&h.hide()}function i(){p.trigger(_.events.PLAY_STOP),h&&h.show()}function n(){p.trigger(_.events.VIDEO_ENDED)}function r(){h&&(m.setButtonMobileReady(h),m.setButtonOnClick(h,e)),jQuery(f).on(f.events.START_PLAYING,t),jQuery(f).on(f.events.STOP_PLAYING,i),jQuery(f).on(f.events.VIDEO_ENDED,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(v).on(v.events.VIDEO_ENDED,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(b).on(b.events.VIDEO_ENDED,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i),jQuery(y).on(y.events.VIDEO_ENDED,n),jQuery(w).on(w.events.START_PLAYING,t),jQuery(w).on(w.events.STOP_PLAYING,i),jQuery(w).on(w.events.VIDEO_ENDED,n)}function o(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":f.pause(),f.destroy(),l.hide();break;case"vimeo":v.pause(),v.destroy(),u.hide();break;case"html5":b.pause(),d.hide();break;case"soundcloud":y.pause(),y.destroy(),c.hide();break;case"wistia":w.pause(),g.hide()}}}var s,a,l,u,d,h,c,g,_=this,p=jQuery(this),m=new UGFunctions,f=new UGYoutubeAPI,v=new UGVimeoAPI,b=new UGHtml5MediaAPI,y=new UGSoundCloudAPI,w=new UGWistiaAPI,I=null,E={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var T={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(s=i,!s)throw new Error("missing gallery ID for video player, it's a must!");E=jQuery.extend(E,e),f.setOptions(E),t&&1==t&&(T.standAloneMode=!0)},this.setHtml=function(e){T.youtubeInnerID=s+"_youtube_inner",T.vimeoPlayerID=s+"_videoplayer_vimeo",T.html5PlayerID=s+"_videoplayer_html5",T.wistiaPlayerID=s+"_videoplayer_wistia",T.soundCloudPlayerID=s+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+T.youtubeInnerID+"'></div></div>",t+="<div id='"+T.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+T.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+T.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+T.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==T.standAloneMode&&1==E.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),a=e.children(".ug-videoplayer"),l=a.children(".ug-videoplayer-youtube"),u=a.children(".ug-videoplayer-vimeo"),d=a.children(".ug-videoplayer-html5"),c=a.children(".ug-videoplayer-soundcloud"),g=a.children(".ug-videoplayer-wistia"),0==T.standAloneMode&&1==E.video_enable_closebutton&&(h=a.children(".ug-videoplayer-button-close"))},this.destroy=function(){h&&(h.off("click"),h.off("touchend")),jQuery(f).off(f.events.START_PLAYING),jQuery(f).off(f.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING),jQuery(b).off(b.events.STOP_PLAYING),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,i),jQuery(w).off(w.events.START_PLAYING,t),jQuery(w).off(w.events.STOP_PLAYING,i),I=null},this.initEvents=function(){r()},this.setSize=function(e,t){m.setElementSize(a,e,t),h&&m.placeElement(h,"right","top")},this.setPosition=function(e,t){m.placeElement(a,e,t)},this.getObject=function(){return a},this.show=function(){return 1==_.isVisible()||(a.show(),a.fadeTo(0,1),h&&h.show(),void p.trigger(_.events.SHOW))},this.hide=function(){return 0==_.isVisible()||(o(),I=null,a.hide(),void p.trigger(_.events.HIDE))},this.getActiveAPI=function(){switch(I){case"youtube":return f;case"vimeo":return v;case"wistia":return w;case"soundcloud":return y;case"html5":return b;default:return null}},this.pause=function(){var e=_.getActiveAPI();return null!=e&&void("function"==typeof e.pause&&e.pause())},this.isVisible=function(){return a.is(":visible")},this.playYoutube=function(e,t){if("undefined"==typeof t)var t=!0;o("youtube"),l.show();var i=l.children("#"+T.youtubeInnerID);0==i.length&&l.append("<div id='"+T.youtubeInnerID+"'></div>"),1==f.isPlayerReady()&&1==T.standAloneMode?f.changeVideo(e,t):f.putVideo(T.youtubeInnerID,e,"100%","100%",t),I="youtube"},this.playVimeo=function(e,t){if("undefined"==typeof t)var t=!0;o("vimeo"),u.show(),v.putVideo(T.vimeoPlayerID,e,"100%","100%",t),I="vimeo"},this.playHtml5Video=function(e,t,i,n,r){if("undefined"==typeof r)var r=!0;o("html5"),d.show();var s={ogv:e,webm:t,mp4:i,posterImage:n};b.putVideo(T.html5PlayerID,s,"100%","100%",r),I="html5"},this.playSoundCloud=function(e,t){if("undefined"==typeof t)var t=!0;o("soundcloud"),c.show(),y.putSound(T.soundCloudPlayerID,e,"100%","100%",t),I="soundcloud"},this.playWistia=function(e,t){if("undefined"==typeof t)var t=!0;o("wistia"),g.show(),w.putVideo(T.wistiaPlayerID,e,"100%","100%",t),I="wistia"}}function ugCheckForMinJQueryVersion(){var e=g_ugFunctions.checkMinJqueryVersion("1.8.0");if(0==e)throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(e,t){function i(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}function n(){if("function"==typeof jQuery.fn.unitegallery)return!0;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}try{"jquery"==t?(i(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),n())}catch(i){var r=i.message;if(r="Unite Gallery Error: "+r,r="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+r+"</div>","jquery"==t){var o=document.getElementById(e);o.innerHTML=r,o.style.display="block"}else jQuery(e).show().html(r);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return t.indexOf("UGTheme_")==-1&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,r){var o="object"==typeof i;if(o&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),o&&(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass();var s=g_objWrapper.children();fillItemsArray(s),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(r&&1==g_options.gallery_enable_cache&&cacheItems(r,n),"noitems"==n)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(n);var s=g_objWrapper.children();fillItemsArray(s),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs,g_objTabs.init(t,g_options)),o&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties();var a=g_objWrapper.width();0==a?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if("undefined"==typeof t)var t="<b>Unite Gallery Error: </b>";e=t+e;var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+e+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize(),i=e.width/e.height;if(i!=e.orig_ratio){var n=e.width/e.orig_ratio;n=Math.round(n),n<g_options.gallery_min_height&&(n=g_options.gallery_min_height),g_objWrapper.height(n)}}function setHtmlObjectsProperties(){var e=g_functions.getCssSizeParam(g_options.gallery_width),t={"max-width":e,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var i=g_functions.getCssSizeParam(g_options.gallery_height);t.height=i}else t.overflow="visible";g_options.gallery_background_color&&(t["background-color"]=g_options.gallery_background_color),g_objWrapper.css(t)}function fillItemsArray(e){g_arrItems=[];for(var i=t.isMobileMode(),n=0,r=0;r<e.length;r++){var o=jQuery(e[r]),s=o.prop("tagName").toLowerCase(),a="";if("a"==s){a=o.attr("href"),o=o.children();var s=o.prop("tagName").toLowerCase()}var l=o.data("type");void 0==l&&(l="image");var u={};if(u.type=l,"img"==s){var d=o.data("lazyload-src");d&&""!=d&&(o.attr("src",d),jQuery.removeData(o,"lazyload-src"));var h=o.data("image"),c=o.data("thumb");"undefined"==typeof h&&(h=null),"undefined"==typeof c&&(c=null);var g=o.attr("src");h||(h=g),c||(c=g),c||(c=h),h||(h=c),u.urlThumb=c,u.urlImage=h,u.title=o.attr("alt"),u.objThumbImage=o,u.objThumbImage.attr("src",u.urlThumb)}else{if("image"==l)throw trace("Problematic gallery item found:"),trace(o),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");u.urlThumb=o.data("thumb"),u.title=o.data("title"),u.objThumbImage=null,u.urlImage=o.data("image")}if(1==i){var _=o.data("thumb-mobile");"undefined"!=typeof _&&""!=_&&(u.urlThumb=_,"img"==s&&o.attr("src",u.urlThumb));var p=o.data("image-mobile");"undefined"!=typeof p&&""!=p&&(u.urlImage=p)}u.link=a,u.description=o.attr("title"),u.description||(u.description=o.data("description")),u.description||(u.description=""),u.isLoaded=!1,u.isThumbImageLoaded=!1,u.objPreloadImage=null,u.isBigImageLoadStarted=!1,u.isBigImageLoaded=!1,u.isBigImageLoadError=!1,u.imageWidth=0,u.imageHeight=0,u.thumbWidth=0,u.thumbHeight=0,u.thumbRatioByWidth=0,u.thumbRatioByHeight=0;var m=o.data("width"),f=o.data("height");m&&"number"==typeof m&&f&&"number"==typeof f&&(u.thumbWidth=m,u.thumbHeight=f,u.thumbRatioByWidth=m/f,u.thumbRatioByHeight=f/m),u.addHtml=null;var v=void 0==u.urlImage||""==u.urlImage,b=void 0==u.urlThumb||""==u.urlThumb;switch(u.type){case"youtube":if(u.videoid=o.data("videoid"),v||b){var y=g_ugYoutubeAPI.getVideoImages(u.videoid);v&&(u.urlImage=y.preview),b&&(u.urlThumb=y.thumb,"img"==s&&o.attr("src",u.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":u.videoid=o.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":u.videoogv=o.data("videoogv"),u.videowebm=o.data("videowebm"),u.videomp4=o.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":u.trackid=o.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":u.videoid=o.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var w=o.children("img");w.length&&(w=jQuery(w[0]),u.urlThumb=w.attr("src"),u.title=w.attr("alt"),u.objThumbImage=w);var I=o.children().not("img:first-child");I.length&&(u.addHtml=I.clone())}u.objThumbImage&&(u.objThumbImage.removeAttr("data-description",""),u.objThumbImage.removeAttr("data-image",""),u.objThumbImage.removeAttr("data-thumb",""),u.objThumbImage.removeAttr("title","")),u.index=n,g_arrItems.push(u),n++}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),
1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this,t=g_objThumbs.isItemThumbVisible(e);1==t&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":var t=g_objThumbs.isItemThumbVisible(e);1==t&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;return""==i||void 0==i?(e.isBigImageLoadError=!0,!1):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this),i=e.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoadError=!0,n.isBigImageLoaded=!1;var r=jQuery(this).attr("src");console.log("Can't load image: "+r),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[i,n.urlImage]),n.objThumbImage.attr("src",n.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;i>0&&preloadItemImage(g_arrItems[i]),n<g_numItems&&preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){if(1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()){var i=g_objSlider.isCurrentSlideLoadingImage();0==i&&t.continuePlaying()}}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,r=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:r=!1}1==r&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;t.setSizeClass();var e=t.getSize();if(e.width!=g_temp.lastWidth||e.height!=g_temp.lastHeight){var i=!1;if(g_temp.funcCustomHeight){var n=g_temp.funcCustomHeight(e);n&&(g_objWrapper.height(n),i=!0)}0==i&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");return g_galleryID!==n||(e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),void onGalleryResized())}function onItemImageUpdated(e,i){var n=t.getItem(i);checkPreloadItemImage(n)}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();e!=-1&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover){var e=g_objSlider.getElement();e.hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t){var i=t;"noitems"!=i&&(i=jQuery(t).clone())}else var i=g_objWrapper.children().clone();g_objCache[e]=i}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;if(g_temp.playTimePassed+=i,g_temp.playTimeLastStep=e,g_temp.objProgress){var n=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(n)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem||(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var i=t.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var r=g_functions.getImageOriginalSize(t);n.imageWidth=r.width,n.imageHeight=r.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");var t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){if(!e)var e={};e=jQuery.extend(g_temp.objCustomOptions,e),g_objSlider=new UGSlider,g_objSlider.init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,r){e.preventDefault(),i>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){var e={g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems};return e},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(e<0)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){var e=t.getSize();return e.width},this.getHeight=function(){var e=t.getSize();return e.height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){var e=g_galleryID.replace("#","");return e},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e+1;if(t!==!0&&1==g_numItems)return null;if(i>=g_numItems){if(1!=g_options.gallery_carousel&&t!==!0)return null;i=0}var n=g_arrItems[i];return n},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(t<0){if(1!=g_options.gallery_carousel&&forceCarousel!==!0)return null;t=g_numItems-1}var i=g_arrItems[t];return i},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,i){g_objGallery.on(t.events.ITEM_CHANGE,function(){var n=t.getSelectedItem();e.html(n.title),i.html(n.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode||(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){var e=g_temp.objProgress.getElement();e.hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){"number"==typeof e&&(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;if(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode){t.resetPlaying();var r=g_objSlider.isCurrentSlideLoadingImage();1==r&&t.pausePlaying()}},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&e>=g_numItems||(e>=g_numItems&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return g_selectedItemIndex==-1&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&e<0||(e<0&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0),t=g_functions.toFullscreen(e);0==t&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||i===!0||onGalleryResized()},this.setSizeClass=function(e,i){if(!e)var e=g_objWrapper;if(!i)var n=t.getSize(),i=n.width;if(0==i)var i=jQuery(window).width();var r="";return i<=480?r="ug-under-480":i<=780?r="ug-under-780":i<960&&(r="ug-under-960"),1==e.hasClass(r)||(removeAllSizeClasses(e),void(""!=r&&e.addClass(r)))},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||e<=480},this.changeItems=function(e,t){if(!e)var e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){var r="html";if(1==i&&(r="json"),!n||"function"!=typeof n)throw new Error("ajaxRequest error: success function should be passed");var o=g_options.gallery_urlajax;if(""==o)throw new Error("ajaxRequest error: Ajax url don't passed");if("undefined"==typeof t)var t={};var s={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:s,success:function(e){return e?e==-1||0===e?(showErrorMessage("ajax error!!!"),!1):"undefined"==typeof e.success?(showErrorMessage("The 'success' param is a must!"),!1):0==e.success?(showErrorMessage(e.message),!1):void n(e):(showErrorMessage("Empty ajax response!","Ajax Error"),!1)},error:function(e,t,i){console.log("Ajax Error!!! "+t)}})},this.requestNewItems=function(e,i,n){var r=g_options.gallery_enable_cache;if(n||(n=e),1==i&&(r=!1),1==r&&g_objCache.hasOwnProperty(n)){var o=g_objCache[n];t.changeItems(o,n)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},!0,function(e){var i=e.html;t.changeItems(i,n)})},this.run=function(e,t){g_options.gallery_debug_errors;if(t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var i=e.message,n=e.lineNumber,r=e.fileName;e.stack;i+=" <br><br> in file: "+r,i+=" <b> line "+n+"</b>",trace(e)}else var i=e;i=i.replace("Error:",""),showErrorMessage(i)}else runGallery(e,t)}}function UGLightbox(){function e(e,i){ie=e,U=jQuery(e),se=jQuery.extend(se,le),se=jQuery.extend(se,i),ae.originalOptions=jQuery.extend({},se),"compact"==se.lightbox_type&&(ae.isCompact=!0,se=jQuery.extend(se,ue),se=jQuery.extend(se,i)),t(),1==ae.putSlider?(ie.initSlider(se,"lightbox"),g_objects=e.getObjects(),ne=g_objects.g_objSlider):ne=null,1==se.lightbox_show_textpanel?oe.init(ie,se,"lightbox"):oe=null}function t(){1==ae.isCompact&&1==se.lightbox_show_textpanel&&(se.lightbox_slider_image_padding_bottom=ae.initTextPanelHeight),1==ae.isCompact&&"inside"==se.lightbox_arrows_position&&(ae.isArrowsInside=!0),1==ae.isArrowsInside&&0==se.lightbox_arrows_inside_alwayson&&(ae.isArrowsOnHoverMode=!0),0==se.lightbox_show_textpanel&&(ae.isTopPanelEnabled=!1,ae.topPanelHeight=0,se.lightbox_slider_image_padding_top=0)}function i(){var e="",t="";1==ae.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==ae.isCompact&&ae.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",se.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):se.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",V=jQuery(e),jQuery("body").append(V),ne&&ne.setHtml(V),X=V.children(".ug-lightbox-overlay"),0==ae.isCompact&&1==ae.isTopPanelEnabled&&(J=V.children(".ug-lightbox-top-panel"),0==J.length&&(J=null)),Z=V.find(".ug-lightbox-button-close"),se.lightbox_show_numbers&&(K=V.find(".ug-lightbox-numbers")),$=V.children(".ug-lightbox-arrow-left"),q=V.children(".ug-lightbox-arrow-right"),oe&&(J?oe.appendHTML(J):oe.appendHTML(V))}function n(){if(null!==se.lightbox_overlay_color&&X.css("background-color",se.lightbox_overlay_color),null!==se.lightbox_overlay_opacity&&X.fadeTo(0,se.lightbox_overlay_opacity),J&&null!==se.lightbox_top_panel_opacity&&J.children(".ug-lightbox-top-panel-overlay").fadeTo(0,se.lightbox_top_panel_opacity),K){var e={};null!==se.lightbox_numbers_size&&(e["font-size"]=se.lightbox_numbers_size+"px"),se.lightbox_numbers_color&&(e.color=se.lightbox_numbers_color),null!==se.lightbox_numbers_padding_right&&(e["padding-right"]=se.lightbox_numbers_padding_right+"px"),null!==se.lightbox_numbers_padding_top&&(e["padding-top"]=se.lightbox_numbers_padding_top+"px"),K.css(e)}}function r(e){if(!ne)return!0;var t={slider_image_padding_top:e};ne.setOptions(t),ne.refreshSlideItems()}function o(e){if(!J)return!1;if(!oe)return!1;var t=J.height();if(0==t)return!1;if(0==J.is(":visible"))return!1;var i=t,n=oe.getSize(),o=n.height;t!=ae.topPanelHeight&&(i=ae.topPanelHeight),o>i&&(i=o),t!=i&&(J.height(i),ne&&0==ne.isAnimating()&&r(i))}function s(e){var t={},i=se.lightbox_textpanel_width,n=47,r=40,s=e.width-n-r;i>s?(t.textpanel_padding_left=n,t.textpanel_padding_right=r,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",se.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=se.lightbox_textpanel_desc_text_align),se.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=se.lightbox_textpanel_desc_text_align)),oe.setOptions(t),oe.refresh(!0,!0),o("positionTextPanelWide"),oe.positionPanel()}function a(){return!!J&&void J.hide()}function l(){return!!J&&void J.show()}function u(e){if(0==ae.isOpened)return!1;if(!oe)return!1;if(!ne)return!1;var t=re.getElementSize(V),i=oe.getSize();if(0==i.width||i.height>120)return!1;if(!e)var n=ne.getSlideImage(),e=re.getElementSize(n);if(0==e.height||0==e.width)return!1;var r=e.bottom+i.height;if(r<t.height)return!1;var o=ne.getOptions(),s=i.height;if(s!=o.slider_image_padding_bottom){var a={slider_image_padding_bottom:s};if(0==ne.isAnimating())return ne.setOptions(a),ne.refreshSlideItems(),!0}return!1}function d(e,t){if(!e)var i=ne.getSlideImage(),e=re.getElementSize(i);ae.textPanelTop=e.bottom,t===!0&&oe.positionPanel(ae.textPanelTop,ae.textPanelLeft)}function h(e){var t=(re.getElementSize(V),ne.getSlideImage()),i=re.getElementSize(t);if(0==i.width)return!1;ae.textPanelLeft=i.left,ae.textPanelTop=i.bottom;var n=i.width;if(K){var r=re.getElementSize(K);n-=r.width;var o=i.right-r.width;re.placeElement(K,o,ae.textPanelTop)}oe&&(oe.show(),oe.refresh(!0,!0,n),d(i));var s=u(i);0==s&&(ae.positionFrom="handleCompactTextpanelSizes",oe&&(oe.positionPanel(ae.textPanelTop,ae.textPanelLeft),e===!0&&(e(),j())))}function c(){if(0==ne.isCurrentSlideType("image"))return!0;var e=1==ne.isCurrentImageInPlace();return e}function g(e,t){if(0==ae.isArrowsInside)return!1;if(!$)return!1;var i=c();if($.show(),q.show(),ae.positionFrom="positionArrowsInside",1==ae.isArrowsOnHoverMode&&1==i&&0==y()&&w(!0),0==i)var n=re.getElementRelativePos($,"left",se.lightbox_arrows_offset),r=re.getElementRelativePos($,"middle"),o=re.getElementRelativePos(q,"right",se.lightbox_arrows_offset),s=r;else var a=ne.getSlideImage(),l=re.getElementSize(a),n=(re.getElementSize(ne.getElement()),re.getElementRelativePos($,"left",0,a)+l.left+se.lightbox_arrows_inside_offset),r=re.getElementRelativePos($,"middle",0,a)+l.top,o=re.getElementRelativePos($,"right",0,a)+l.left-se.lightbox_arrows_inside_offset,s=r;if(t===!0){var u={left:n,top:r},d={left:o,top:s};$.stop().animate(u,{duration:ae.fadeDuration}),q.stop().animate(d,{duration:ae.fadeDuration})}else $.stop(),q.stop(),re.placeElement($,n,r),re.placeElement(q,o,s);1==e&&E(t)}function _(e,t){ae.positionFrom=null;var i=c(),n=2,r=re.getElementRelativePos(Z,"right",2,V);if(0==i)var o=n,s=r;else{var a=ne.getSlideImage(),l=re.getElementSize(a),u=re.getElementSize(ne.getElement()),d=re.getElementSize(Z);u.top==u.height&&(u.top=0);var s=u.left+l.right-d.width/2+se.lightbox_compact_closebutton_offsetx,o=u.top+l.top-d.height/2-se.lightbox_compact_closebutton_offsety;o<n&&(o=n),s>r&&(s=r)}if(t===!0){var h={left:s,top:o};Z.stop().animate(h,{duration:ae.fadeDuration})}else Z.stop(),re.placeElement(Z,s,o);e===!0&&T(t)}function p(){Z&&Z.stop().fadeTo(ae.fadeDuration,0),v(),b(),ae.positionFrom="hideCompactElements",1==ae.isArrowsInside&&w()}function m(){Z&&Z.hide(),$&&1==ae.isArrowsInside&&($.hide(),q.hide()),K&&K.hide(),oe&&oe.hide()}function f(){var e=re.getElementSize(V);J&&re.setElementSizeAndPosition(J,0,0,e.width,ae.topPanelHeight),$&&0==ae.isArrowsInside&&(1==se.lightbox_hide_arrows_onvideoplay&&($.show(),q.show()),re.placeElement($,"left","middle",se.lightbox_arrows_offset),re.placeElement(q,"right","middle",se.lightbox_arrows_offset)),0==ae.isCompact&&re.placeElement(Z,"right","top",2,2),oe&&(ae.positionFrom="positionElements",0==ae.isCompact?s(e):(P(),j()));var t=e.width,i=e.height,n=0,r=0;if(ne){if(J){var o=J.height(),a={slider_image_padding_top:o};ne.setOptions(a)}ne.setSize(t,i),ne.setPosition(r,n)}}function v(){oe&&oe.getElement().stop().fadeTo(ae.fadeDuration,0)}function b(){K&&K.stop().fadeTo(ae.fadeDuration,0)}function y(){if(!ae.lastMouseX)return!0;var e={pageX:ae.lastMouseX,pageY:ae.lastMouseY},t=ne.isMouseInsideSlideImage(e);return t}function w(e,t){return!!$&&(1==ae.isArrowsOnHoverMode&&t===!1?(1==y(),!0):void(e===!0?($.stop().fadeTo(0,0),q.stop().fadeTo(0,0)):($.stop().fadeTo(ae.fadeDuration,0),q.stop().fadeTo(ae.fadeDuration,0))))}function I(){if(!$)return!0;if(0==$.is(":visible"))return!0;var e=$.css("opacity");return 1!=e}function E(e,t){return!!$&&(1==ae.isArrowsOnHoverMode&&t!==!0&&1==c()||(1==ne.isSwiping()||(e!==!0&&($.stop(),q.stop()),$.fadeTo(ae.fadeDuration,1),void q.fadeTo(ae.fadeDuration,1))))}function T(e){e!==!0&&Z.stop(),Z.fadeTo(ae.fadeDuration,1)}function S(e){if(!oe)return!1;if(!e)var e=ne.getCurrentItem();oe.setTextPlain(e.title,e.description)}function x(e){if(!K)return!1;if(!e)var e=ne.getCurrentItem();var t=ie.getNumItems(),i=e.index+1;K.html(i+" / "+t)}function P(){return!!oe&&void oe.getElement().show().stop().fadeTo(ae.fadeDuration,1)}function j(){K&&K.stop().fadeTo(ae.fadeDuration,1)}function C(){return 0==ae.isCompact||void p()}function A(){if(0==ae.isCompact)return!0;if(ae.positionFrom="onZoomChange",_(!1,!0),g(!1,!0),1==ae.isCompact){var e=ne.isCurrentSlideType("image")&&1==ne.isCurrentImageInPlace();0==e?(v(),b()):(ae.positionFrom="onZoomChange",P(),j())}}function M(){if(0==ae.isCompact)return!0;ae.positionFrom="onSliderAfterReturn",_(!0),g(!0);var e=u();0==e&&h(),P(),j()}function z(e,t){return t=jQuery(t),0==ae.isCompact||(0==ne.isSlideCurrent(t)||(ae.positionFrom="onSliderAfterPutImage",_(!0),g(!0),void h()))}function O(){var e=ne.getOptions(),t=e.slider_image_padding_top;if(J){var i=J.height();i!=t&&r(i)}if(1==ae.isCompact){if(S(),x(),ae.positionFrom="onSliderTransitionEnd",_(!0),g(!0),0==ne.isSlideActionActive()){var n=u();0==n&&h()}P(),j()}}function L(e,t){0==ae.isCompact?(K&&x(t),oe&&(S(t),0==ae.isRightNowOpened&&(oe.positionElements(!1),o("onchange"),oe.positionPanel()))):0==ne.isAnimating()&&(oe&&S(t),K&&x(t)),0==ae.isSliderChangedOnce&&(ae.isSliderChangedOnce=!0,te.trigger(ee.events.LIGHTBOX_INIT))}function k(e,t){var i=ne.getSlideType();if("image"!=i&&0==ae.isCompact&&ne.isSlideActionActive())return!0;var n=ne.isPreloading();if(1==n)return ee.close("slider"),!0;if(1==se.lightbox_close_on_emptyspace){var r=ne.isMouseInsideSlideImage(t);0==r&&ee.close("slider_inside")}}function H(){f()}function N(){J?a():K&&K.hide(),$&&1==se.lightbox_hide_arrows_onvideoplay&&($.hide(),q.hide())}function D(){J?(l(),o("onStopVideo")):K&&K.show(),$&&1==se.lightbox_hide_arrows_onvideoplay&&($.show(),q.show())}function R(e,t,i){var n=!1;switch(t){case 27:1==ae.isOpened&&ee.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==ae.isOpened&&1==n&&i.preventDefault()}function G(){1==ae.isArrowsOnHoverMode&&E(!1,!0)}function Q(e){ae.positionFrom="hideCompactElements",1==ae.isArrowsOnHoverMode&&1==c()&&w(!1,!0)}function W(e){ae.lastMouseX=e.pageX,ae.lastMouseY=e.pageY;var t=I();1==t&&y()&&0==ne.isAnimating()&&(ae.positionFrom="onMouseMove",$&&0==$.is(":animated")&&E(!1,!0))}function F(e,t,i,n){if(0==ae.isOpened)return!0;switch(se.gallery_mousewheel_role){default:case"zoom":var r=ne.getSlideType();"image"!=r&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":ie.onGalleryMouseWheel(e,t,i,n)}}function B(){if(X.on("touchstart",function(e){e.preventDefault()}),X.on("touchend",function(e){ee.close("overlay")}),re.addClassOnHover(q,"ug-arrow-hover"),re.addClassOnHover($,"ug-arrow-hover"),re.addClassOnHover(Z),ie.setNextButton(q),ie.setPrevButton($),Z.click(function(){ee.close("button")}),U.on(ie.events.ITEM_CHANGE,L),ne){jQuery(ne).on(ne.events.TRANSITION_END,O),jQuery(ne).on(ne.events.CLICK,k);var e=ne.getVideoObject();jQuery(e).on(e.events.PLAY_START,N),jQuery(e).on(e.events.PLAY_STOP,D),jQuery(ne).on(ne.events.START_DRAG,C),jQuery(ne).on(ne.events.TRANSITION_START,C),jQuery(ne).on(ne.events.AFTER_DRAG_CHANGE,M),jQuery(ne).on(ne.events.AFTER_RETURN,M),jQuery(ne).on(ne.events.AFTER_PUT_IMAGE,z),jQuery(ne).on(ne.events.ZOOM_CHANGE,A),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,G),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,Q)}jQuery(window).resize(function(){return 0==ae.isOpened||void re.whenContiniousEventOver("lightbox_resize",H,100)}),U.on(ie.events.GALLERY_KEYPRESS,R),1==ae.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",W),V.on("mousewheel",F)}function Y(){ae.isCompact=!1,t(),ae.isArrowsInside=!1,ae.isArrowsOnHoverMode=!1,se=jQuery.extend({},ae.originalOptions),se.lightbox_arrows_position="sides",ne.setOptions(se)}var U,V,X,$,q,Z,K,J,ee=this,te=jQuery(this),ie=new UniteGalleryMain,ne=new UGSlider,re=new UGFunctions,oe=new UGTextPanel,se={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var ae={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},le={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:ae.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",
lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},ue={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),X.off("touchstart"),X.off("touchend"),Z.off("click"),U.off(ie.events.ITEM_CHANGE),ne){jQuery(ne).off(ne.events.TRANSITION_END),jQuery(ne).off(ne.events.CLICK),jQuery(ne).off(ne.events.START_DRAG),jQuery(ne).off(ne.events.TRANSITION_START),jQuery(ne).off(ne.events.AFTER_DRAG_CHANGE),jQuery(ne).off(ne.events.AFTER_RETURN);var e=ne.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,G),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,Q),ne.destroy()}jQuery(window).unbind("resize"),U.off(ie.events.GALLERY_KEYPRESS,R),V.off("mousewheel"),V.remove()},this.open=function(e){var t=ie.getItem(e);if(ae.isOpened=!0,ae.isRightNowOpened=!0,setTimeout(function(){ae.isRightNowOpened=!1},100),ne&&ne.setItem(t,"lightbox_open"),oe&&oe.setTextPlain(t.title,t.description),X.stop().fadeTo(0,0),V.show(),V.fadeTo(0,1),X.stop().fadeTo(ae.fadeDuration,se.lightbox_overlay_opacity),f(),1==ae.isCompact){var i=ne.isPreloading();1==i?m():1==ae.isArrowsInside&&($.hide(),q.hide())}ne&&ne.startSlideAction(),U.trigger(ie.events.OPEN_LIGHTBOX,t)},this.close=function(e){ae.isOpened=!1,1==ae.isCompact&&p(),ne&&ne.stopSlideAction();var t=ne.getSlideType();"image"!=t?V.hide():V.fadeTo(ae.fadeDuration,0,function(){V.hide()}),U.trigger(ie.events.CLOSE_LIGHTBOX)},this.init=function(t,i){e(t,i)},this.putHtml=function(){var e=ie.isSmallWindow();e&&1==ae.isCompact&&Y(),i()},this.run=function(){n(),ne&&ne.run(),B()}}function UGCarousel(){function e(e,t){g_objects=e.getObjects(),W=e,k=jQuery(e),H=g_objects.g_objWrapper,N=g_objects.g_arrItems,U=jQuery.extend(U,t),B.setFixedMode(),B.setApproveClickFunction(L),B.init(e,U),Y=B.getObjThumbs(),U=B.getOptions(),V.initTileWidth=U.tile_width,V.initTileHeight=U.tile_height,V.tileWidth=U.tile_width}function t(e){if(!e)var e=H;var t="<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>";H.append(t),D=H.children(".ug-carousel-wrapper"),R=D.children(".ug-carousel-inner"),B.setHtml(R),Y.getThumbs().fadeTo(0,1)}function i(e,t){if(!t)var t=V.initTileHeight/V.initTileWidth*e;V.tileWidth=e;var i={tile_width:e,tile_height:t};B.setOptions(i),U.tile_width=e,U.tile_height=t,B.resizeAllTiles(e),f(!0)}function n(){if(null===V.carouselMaxWidth)throw new Error("The carousel width not set");if(V.tileWidth<V.initTileWidth){var e=V.carouselMaxWidth-2*U.carousel_padding;e>V.initTileWidth&&(e=V.initTileWidth),i(e);var t=F.getNumItemsInSpace(V.carouselMaxWidth,e,U.carousel_space_between_tiles)}else{var t=F.getNumItemsInSpace(V.carouselMaxWidth,V.tileWidth,U.carousel_space_between_tiles);if(t<=0){t=1;var e=V.carouselMaxWidth-2*U.carousel_padding;i(e)}}var n=F.getSpaceByNumItems(t,V.tileWidth,U.carousel_space_between_tiles);n+=2*U.carousel_padding,D.width(n),1==V.isFirstTimeRun?(O(),B.run(),jQuery.each(N,function(e,t){t.objThumbWrapper.data("index",e),H.trigger(V.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),f(!0),1==U.carousel_autoplay&&G.startAutoplay()):(1==U.carousel_autoplay&&G.pauseAutoplay(),I(0,!1),1==U.carousel_autoplay&&G.startAutoplay()),x(),V.isFirstTimeRun=!1}function r(){return F.getElementSize(R).left}function o(e){return F.getMousePosition(e).pageX}function s(){var e=R.children(".ug-thumb-wrapper");return e}function a(e){var t=F.getNumItemsInSpace(e,V.tileWidth,U.carousel_space_between_tiles);return t}function l(){return s().length}function u(e){v(e);var t=s(),i=jQuery(t[e]);return i}function d(){return R.children(".ug-thumb-wrapper").first()}function h(){return R.children(".ug-thumb-wrapper").last()}function c(e,t,i){var n=e.data("index");if(void 0==n)throw new Error("every tile should have index!");for(var r=[],o=0;o<t;o++){if("prev"==i)var s=W.getPrevItem(n,!0);else var s=W.getNextItem(n,!0);if(!s)throw new Error("the item to add is empty");var a=s.objTileOriginal.clone(!0,!0);n=s.index,a.addClass("cloned"),r.push(a)}return r}function g(){var e=F.getElementSize(D),t=F.getElementSize(R),i=t.width-e.width+t.left,n=V.sideSpace-i;return n}function _(){var e=-r(),t=V.sideSpace-e;return t}function p(){var e=F.getElementSize(D);return e.width}function m(){var e=p(),t=a(e);return t}function f(e){if(!e)var e=!1;var t,i=s(),n=0,r=0;return jQuery.each(i,function(e,o){o=jQuery(o),F.placeElement(o,n,0);var s=F.getElementSize(o);n+=s.width+U.carousel_space_between_tiles,r=Math.max(r,s.height),e==i.length-1&&(t=s.right)}),R.width(t),r+=2*U.carousel_padding,e===!0&&(R.height(r),D.height(r)),I(V.numCurrent,!1),t}function v(e){if(e>s().length-1)throw new Error("Wrogn tile number: "+e)}function b(e,t){if("left"==t)var i=d();else var i=h();var n="left"==t?"prev":"next",r=c(i,e,n);jQuery.each(r,function(e,i){"left"==t?R.prepend(i):R.append(i),H.trigger(V.eventSizeChange,i),B.loadTileImage(i)})}function y(e,t){v(n);for(var i=s(),n=i.length,r=0;r<e;r++)"left"==t?jQuery(i[r]).remove():jQuery(i[n-1-r]).remove()}function w(e){var t={left:e+"px"};R.css(t)}function I(e,t,i){if(void 0===t){var t=!0;if(R.is(":animated"))return!0}var n=u(e),r=F.getElementSize(n),o=-r.left+U.carousel_padding,s={left:o+"px"};if(t===!0){var a=U.carousel_scroll_duration,l=U.carousel_scroll_easing;i===!0&&(a=V.scrollShortDuration,l=V.scrollShortEasing),R.stop(!0).animate(s,{duration:a,easing:l,queue:!1,complete:function(){V.numCurrent=e,S(!0)}})}else V.numCurrent=e,R.css(s)}function E(){var e=-r(),t=a(e),i=F.getElementSize(u(t)).left,n=F.getElementSize(u(t+1)).left;return Math.abs(i-e)<Math.abs(n-e)?t:t+1}function T(){var e=E();I(e,!0,!0)}function S(){var e=_(),t=g(),i=0,n=0,r=0,o=0,s=l();if(e>V.spaceActionSize)i=a(e),b(i,"left"),V.numCurrent+=i;else if(e<-V.spaceActionSize){var r=a(Math.abs(e));y(r,"left"),V.numCurrent-=r}if(t>V.spaceActionSize?(n=a(t),b(n,"right")):t<-V.spaceActionSize&&(o=a(Math.abs(t)),y(o,"right")),o>s)throw new Error("Can't remove more then num tiles");var u=!1;return(i||n||r||o)&&(f(),u=!0),u}function x(e){F.placeElement(R,0,U.carousel_padding),S()}function P(){"left"==U.carousel_autoplay_direction?G.scrollRight(1):G.scrollLeft(1)}function j(e){return 1==V.touchActive||(V.touchActive=!0,G.pauseAutoplay(),V.startTime=jQuery.now(),V.startMousePos=o(e),V.startInnerPos=r(),V.lastTime=V.startTime,V.lastMousePos=V.startMousePos,void F.storeEventData(e,V.storedEventID))}function C(e){if(0==V.touchActive)return!0;F.updateStoredEventData(e,V.storedEventID),e.preventDefault();var t=null;if(1==U.carousel_vertical_scroll_ondrag&&(t=F.handleScrollTop(V.storedEventID)),"vert"===t)return!0;V.lastMousePos=o(e);var i=V.lastMousePos-V.startMousePos,n=V.startInnerPos+i,r=i>0?"prev":"next",s=F.getElementSize(R).width;n>0&&"prev"==r&&(n/=3),n<-s&&"next"==r&&(n=V.startInnerPos+i/3),w(n)}function A(e){return 0==V.touchActive||(V.touchActive=!1,T(),void G.unpauseAutoplay())}function M(e){return 0==U.carousel_autoplay_pause_onhover||void(1==V.isPlayMode&&0==V.isPaused&&G.pauseAutoplay())}function z(e){return 0==U.carousel_autoplay_pause_onhover||void G.unpauseAutoplay()}function O(){B.initEvents(),D.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",C),jQuery(window).add("body").bind("mouseup touchend",A),D.hover(M,z)}function L(){var e=V.lastTime-V.startTime,t=Math.abs(V.lastMousePos-V.startMousePos);return!(e>300)&&!(t>30)}var k,H,N,D,R,G=this,Q=jQuery(this),W=new UniteGalleryMain,F=new UGFunctions,B=new UGTileDesign,Y=new UGThumbsGeneral,U={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var V={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){V.isPlayMode=!0,V.isPaused=!1,Q.trigger(G.events.START_PLAY),V.handle&&clearInterval(V.handle),V.handle=setInterval(P,U.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==V.isPlayMode||(0==V.isPaused||void G.startAutoplay())},this.pauseAutoplay=function(){return 0==V.isPlayMode||(V.isPaused=!0,V.handle&&clearInterval(V.handle),void Q.trigger(G.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==V.isPlayMode||(V.isPaused=!1,V.isPlayMode=!1,V.handle&&clearInterval(V.handle),void Q.trigger(G.events.STOP_PLAY))},this.destroy=function(){V.handle&&clearInterval(V.handle),Q.off(G.events.START_PLAY),Q.off(G.events.STOP_PLAY),D.unbind("mousedown"),D.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),D.off("mouseenter").off("mouseleave"),B.destroy()},this.init=function(t,i,n){n&&this.setMaxWidth(n),e(t,i)},this.setMaxWidth=function(e){V.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return D},this.getObjTileDesign=function(){return B},this.getEstimatedHeight=function(){var e=U.tile_height+2*U.carousel_padding;return e},this.run=function(){n()},this.scrollRight=function(e){if(!e||"object"==typeof e)var e=U.carousel_navigation_numtiles;var t=m();e>t&&(e=t);var i=V.numCurrent-e;i<=0&&(i=0),I(i)},this.scrollLeft=function(e){if(!e||"object"==typeof e)var e=U.carousel_navigation_numtiles;var t=m();e>t&&(e=t);var i=l(),n=V.numCurrent+e;n>=i&&(n=i-1),I(n)},this.setScrollLeftButton=function(e){F.setButtonMobileReady(e),F.setButtonOnClick(e,G.scrollLeft)},this.setScrollRightButton=function(e){F.setButtonMobileReady(e),F.setButtonOnClick(e,G.scrollRight)},this.setPlayPauseButton=function(e){F.setButtonMobileReady(e),1==V.isPlayMode&&0==V.isPaused&&e.addClass("ug-pause-icon"),Q.on(G.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),Q.on(G.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),F.setButtonOnClick(e,function(){0==V.isPlayMode||1==V.isPaused?G.startAutoplay():G.stopAutoplay()})}}function UGTabs(){function e(e,t){u=e,s=jQuery(u),d=jQuery.extend(d,t),"select"==d.tabs_type?l=jQuery(d.tabs_container):a=jQuery(d.tabs_container+" .ug-tab")}function t(){o()}function i(e){u.requestNewItems(e)}function n(){var e=d.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;a.not(t).removeClass(e),t.addClass(e);var n=t.data("catid");return!n||void i(n)}function r(){var e=jQuery(this),t=e.val();return!t||void i(t)}function o(){"select"==d.tabs_type?l.change(r):a.click(n)}var s,a,l,u=(jQuery(this),new UniteGalleryMain),d=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){l&&l.off("change"),a&&a.off("click")},this.init=function(t,i){e(t,i)},this.run=function(){t()}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}var i,n=this,r=(jQuery(n),new UniteGalleryMain),o=[];r=e,i=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,s,a){switch(a!==!0&&o.push({event:e,func:s}),e){case"item_change":i.on(r.events.ITEM_CHANGE,function(){var e=r.getSelectedItem(),i=t(e);s(i.index,i)});break;case"resize":i.on(r.events.SIZE_CHANGE,s);break;case"enter_fullscreen":i.on(r.events.ENTER_FULLSCREEN,s);break;case"exit_fullscreen":i.on(r.events.EXIT_FULLSCREEN,s);break;case"play":i.on(r.events.START_PLAY,s);break;case"stop":i.on(r.events.STOP_PLAY,s);break;case"pause":i.on(r.events.PAUSE_PLAYING,s);break;case"continue":i.on(r.events.CONTINUE_PLAYING,s);break;case"open_lightbox":i.on(r.events.OPEN_LIGHTBOX,s);break;case"close_lightbox":i.on(r.events.CLOSE_LIGHTBOX,s);break;default:console&&console.log("wrong api event: "+e)}i.trigger(n.events.API_ON_EVENT,[e,s])},this.play=function(){r.startPlayMode()},this.stop=function(){r.stopPlayMode()},this.togglePlay=function(){r.togglePlayMode()},this.enterFullscreen=function(){r.toFullScreen()},this.exitFullscreen=function(){r.exitFullScreen()},this.toggleFullscreen=function(){r.toggleFullscreen()},this.resetZoom=function(){var e=r.getObjSlider();return!!e&&void e.zoomBack()},this.zoomIn=function(){var e=r.getObjSlider();return!!e&&void e.zoomIn()},this.zoomOut=function(){var e=r.getObjSlider();return!!e&&void e.zoomOut()},this.nextItem=function(){r.nextItem()},this.prevItem=function(){r.prevItem()},this.selectItem=function(e){r.selectItem(e)},this.resize=function(e,t){t?r.resize(e,t):r.resize(e)},this.getItem=function(e){var i=r.getItem(e),n=t(i);return n},this.getNumItems=function(){var e=r.getNumItems();return e},this.reloadGallery=function(e){if(!e)var e={};r.run(null,e),o.map(function(e){n.on(e.event,e.func,!0)})},this.destroy=function(){r.destroy()},i.trigger(n.events.API_INIT_FUNCTIONS,n)}!function(e){function t(t,i){t.addClass("countdownHolder"),e.each(["Days","Hours","Minutes","Seconds"],function(i){e('<span class="count'+this+'">').html('<span class="position">\t\t\t\t\t<span class="digit static">0</span>\t\t\t\t</span>\t\t\t\t<span class="position">\t\t\t\t\t<span class="digit static">0</span>\t\t\t\t</span>').appendTo(t),"Seconds"!=this&&t.append('<span class="countDiv countDiv'+i+'"></span>')})}function i(t,i){var n=t.find(".digit");if(n.is(":animated"))return!1;if(t.data("digit")==i)return!1;t.data("digit",i);var r=e("<span>",{class:"digit",css:{top:"-2.1em",opacity:0},html:i});n.before(r).removeClass("static").animate({top:"2.5em",opacity:0},"fast",function(){n.remove()}),r.delay(100).animate({top:0,opacity:1},"fast",function(){r.addClass("static")})}var n=86400,r=3600,o=60;e.fn.countdown=function(s){function a(e,t,n){i(g.eq(e),Math.floor(n/10)%10),i(g.eq(t),n%10)}var l,u,d,h,c,g,_=e.extend({callback:function(){},timestamp:0},s);return t(this,_),g=this.find(".position"),function e(){l=Math.floor((_.timestamp-new Date)/1e3),l<0&&(l=0),u=Math.floor(l/n),a(0,1,u),l-=u*n,d=Math.floor(l/r),a(2,3,d),l-=d*r,h=Math.floor(l/o),a(4,5,h),l-=h*o,c=l,a(6,7,c),_.callback(u,d,h,c),setTimeout(e,1e3)}(),this}}(jQuery),function(e,t,i,n){function r(t,i){this.settings=null,this.options=e.extend({},r.Defaults,i),this.$element=e(t),this.drag=e.extend({},c),this.state=e.extend({},g),this.e=e.extend({},_),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],e.each(r.Plugins,e.proxy(function(e,t){this._plugins[e[0].toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(r.Pipe,e.proxy(function(t,i){this._pipe.push({filter:i.filter,run:e.proxy(i.run,this)})},this)),this.setup(),this.initialize()}function o(e){if(e.touches!==n)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(e.touches===n){if(e.pageX!==n)return{x:e.pageX,y:e.pageY};if(e.pageX===n)return{x:e.clientX,y:e.clientY}}}function s(e){var t,n,r=i.createElement("div"),o=e;for(t in o)if(n=o[t],"undefined"!=typeof r.style[n])return r=null,[n,t];return[!1]}function a(){return s(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function l(){return s(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function u(){return s(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function d(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}function h(){return t.navigator.msPointerEnabled}var c,g,_;c={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},g={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},_={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},r.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},r.Width={Default:"default",Inner:"inner",Outer:"outer"},r.Plugins={},r.Pipe=[{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var e=this._clones,t=this.$stage.children(".cloned");(t.length!==e.length||!this.settings.loop&&e.length>0)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){var e,t,i=this._clones,n=this._items,r=this.settings.loop?i.length-Math.max(2*this.settings.items,4):0;for(e=0,t=Math.abs(r/2);e<t;e++)r>0?(this.$stage.children().eq(n.length+i.length-1).remove(),i.pop(),this.$stage.children().eq(0).remove(),i.pop()):(i.push(i.length/2),this.$stage.append(n[i[i.length-1]].clone().addClass("cloned")),i.push(n.length-1-(i.length-1)/2),this.$stage.prepend(n[i[i.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var e,t,i,n=this.settings.rtl?1:-1,r=(this.width()/this.settings.items).toFixed(3),o=0;for(this._coordinates=[],t=0,i=this._clones.length+this._items.length;t<i;t++)e=this._mergers[this.relative(t)],e=this.settings.mergeFit&&Math.min(e,this.settings.items)||e,o+=(this.settings.autoWidth?this._items[this.relative(t)].width()+this.settings.margin:r*e)*n,this._coordinates.push(o)}},{filter:["width","items","settings"],run:function(){var t,i,n=(this.width()/this.settings.items).toFixed(3),r={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(r),r={width:this.settings.autoWidth?"auto":n-this.settings.margin},r[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&e.grep(this._mergers,function(e){return e>1}).length>0)for(t=0,i=this._coordinates.length;t<i;t++)r.width=Math.abs(this._coordinates[t])-Math.abs(this._coordinates[t-1]||0)-this.settings.margin,this.$stage.children().eq(t).css(r);else this.$stage.children().css(r)}},{filter:["width","items","settings"],run:function(e){e.current&&this.reset(this.$stage.children().index(e.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,i,n,r=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,s=this.coordinates(this.current())+o,a=s+this.width()*r,l=[];for(i=0,n=this._coordinates.length;i<n;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+o*r,(this.op(e,"<=",s)&&this.op(e,">",a)||this.op(t,"<",s)&&this.op(t,">",a))&&l.push(i);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],r.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var t,i,r;if(t=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:n,r=this.$element.children(i).width(),t.length&&r<=0)return this.preloadAutoWidthImages(t),!1}this.$element.addClass("owl-loading"),this.$stage=e("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},r.prototype.setup=function(){var t=this.viewport(),i=this.options.responsive,n=-1,r=null;i?(e.each(i,function(e){e<=t&&e>n&&(n=Number(e))}),r=e.extend({},this.options,i[n]),delete r.responsive,r.responsiveClass&&this.$element.attr("class",function(e,t){return t.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+n)):r=e.extend({},this.options),null!==this.settings&&this._breakpoint===n||(this.trigger("change",{property:{name:"settings",value:r}}),this._breakpoint=n,this.settings=r,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},r.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},r.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=e("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data},r.prototype.update=function(){for(var t=0,i=this._pipe.length,n=e.proxy(function(e){return this[e]},this._invalidated),r={};t<i;)(this._invalidated.all||e.grep(this._pipe[t].filter,n).length>0)&&this._pipe[t].run(r),t++;this._invalidated={}},r.prototype.width=function(e){switch(e=e||r.Width.Default){case r.Width.Inner:case r.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},r.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime();this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=t.orientation,this.watchVisibility(),this.trigger("refreshed")},r.prototype.eventsCall=function(){this.e._onDragStart=e.proxy(function(e){this.onDragStart(e)},this),this.e._onDragMove=e.proxy(function(e){this.onDragMove(e)},this),this.e._onDragEnd=e.proxy(function(e){this.onDragEnd(e)},this),this.e._onResize=e.proxy(function(e){this.onResize(e)},this),this.e._transitionEnd=e.proxy(function(e){this.transitionEnd(e)},this),this.e._preventClick=e.proxy(function(e){this.preventClick(e)},this)},r.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},r.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!this.trigger("resize").isDefaultPrevented()&&(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized"))))},r.prototype.eventsRouter=function(e){var t=e.type;"mousedown"===t||"touchstart"===t?this.onDragStart(e):"mousemove"===t||"touchmove"===t?this.onDragMove(e):"mouseup"===t||"touchend"===t?this.onDragEnd(e):"touchcancel"===t&&this.onDragEnd(e)},r.prototype.internalEvents=function(){var i=(d(),h());this.settings.mouseDrag?(this.$stage.on("mousedown",e.proxy(function(e){this.eventsRouter(e)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!i&&this.$stage.on("touchstart touchcancel",e.proxy(function(e){this.eventsRouter(e)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(t,"resize",e.proxy(this.onThrottledResize,this))},r.prototype.onDragStart=function(n){var r,s,a,l;if(r=n.originalEvent||n||t.event,3===r.which||this.state.isTouch)return!1;if("mousedown"===r.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,s=o(r).x,a=o(r).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)l=this.getTransformProperty(),this.drag.offsetX=l,this.animate(l),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=s-this.drag.offsetX,this.drag.startY=a-this.drag.offsetY,this.drag.start=s-this.drag.startX,this.drag.targetEl=r.target||r.srcElement,this.drag.updatedX=this.drag.start,"IMG"!==this.drag.targetEl.tagName&&"A"!==this.drag.targetEl.tagName||(this.drag.targetEl.draggable=!1),e(i).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",e.proxy(function(e){this.eventsRouter(e)},this))},r.prototype.onDragMove=function(e){var i,r,s,a,l,u;this.state.isTouch&&(this.state.isScrolling||(i=e.originalEvent||e||t.event,r=o(i).x,s=o(i).y,this.drag.currentX=r-this.drag.startX,this.drag.currentY=s-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(a=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),l=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),u=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,a+u),l+u)),(this.drag.distance>8||this.drag.distance<-8)&&(i.preventDefault!==n?i.preventDefault():i.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},r.prototype.onDragEnd=function(t){var n,r,o;if(this.state.isTouch){if("mouseup"===t.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),n=this.drag.endTime-this.drag.startTime,r=Math.abs(this.drag.distance),(r>3||n>300)&&this.removeClick(this.drag.targetEl),o=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(o),this.invalidate("position"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(o)||this.transitionEnd(),this.drag.distance=0,e(i).off(".owl.dragEvents")}},r.prototype.removeClick=function(i){this.drag.targetEl=i,e(i).on("click.preventClick",this.e._preventClick),t.setTimeout(function(){e(i).off("click.preventClick")},300)},r.prototype.preventClick=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),e(t.target).off("click.preventClick")},r.prototype.getTransformProperty=function(){var e,i;return e=t.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),e=e.replace(/matrix(3d)?\(|\)/g,"").split(","),i=16===e.length,i!==!0?e[4]:e[12]},r.prototype.closest=function(t){var i=-1,n=30,r=this.width(),o=this.coordinates();return this.settings.freeDrag||e.each(o,e.proxy(function(e,s){return t>s-n&&t<s+n?i=e:this.op(t,"<",s)&&this.op(t,">",o[e+1]||s-r)&&(i="left"===this.state.direction?e+1:e),i===-1},this)),this.settings.loop||(this.op(t,">",o[this.minimum()])?i=t=this.minimum():this.op(t,"<",o[this.maximum()])&&(i=t=this.maximum())),i},r.prototype.animate=function(t){this.trigger("translate"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:"translate3d("+t+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:t+"px"}):this.$stage.animate({left:t},this.speed()/1e3,this.settings.fallbackEasing,e.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},r.prototype.current=function(e){if(e===n)return this._current;if(0===this._items.length)return n;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==n&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},r.prototype.invalidate=function(e){this._invalidated[e]=!0},r.prototype.reset=function(e){e=this.normalize(e),e!==n&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},r.prototype.normalize=function(t,i){var r=i?this._items.length:this._items.length+this._clones.length;return!e.isNumeric(t)||r<1?n:t=this._clones.length?(t%r+r)%r:Math.max(this.minimum(i),Math.min(this.maximum(i),t))},r.prototype.relative=function(e){return e=this.normalize(e),e-=this._clones.length/2,this.normalize(e,!0)},r.prototype.maximum=function(e){var t,i,n,r=0,o=this.settings;if(e)return this._items.length-1;if(!o.loop&&o.center)t=this._items.length-1;else if(o.loop||o.center)if(o.loop||o.center)t=this._items.length+o.items;else{if(!o.autoWidth&&!o.merge)throw"Can not detect maximum absolute position.";for(revert=o.rtl?1:-1,i=this.$stage.width()-this.$element.width();(n=this.coordinates(r))&&!(n*revert>=i);)t=++r}else t=this._items.length-o.items;return t},r.prototype.minimum=function(e){return e?0:this._clones.length/2},r.prototype.items=function(e){return e===n?this._items.slice():(e=this.normalize(e,!0),this._items[e])},r.prototype.mergers=function(e){return e===n?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},r.prototype.clones=function(t){var i=this._clones.length/2,r=i+this._items.length,o=function(e){return e%2===0?r+e/2:i-(e+1)/2};return t===n?e.map(this._clones,function(e,t){return o(t)}):e.map(this._clones,function(e,i){return e===t?o(i):null})},r.prototype.speed=function(e){return e!==n&&(this._speed=e),this._speed},r.prototype.coordinates=function(t){
var i=null;return t===n?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[t-1]||0))/2*(this.settings.rtl?-1:1)):i=this._coordinates[t-1]||0,i)},r.prototype.duration=function(e,t,i){return Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},r.prototype.to=function(i,n){if(this.settings.loop){var r=i-this.relative(this.current()),o=this.current(),s=this.current(),a=this.current()+r,l=s-a<0,u=this._clones.length+this._items.length;a<this.settings.items&&l===!1?(o=s+this._items.length,this.reset(o)):a>=u-this.settings.items&&l===!0&&(o=s-this._items.length,this.reset(o)),t.clearTimeout(this.e._goToLoop),this.e._goToLoop=t.setTimeout(e.proxy(function(){this.speed(this.duration(this.current(),o+r,n)),this.current(o+r),this.update()},this),30)}else this.speed(this.duration(this.current(),i,n)),this.current(i),this.update()},r.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},r.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},r.prototype.transitionEnd=function(e){return(e===n||(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)===this.$stage.get(0)))&&(this.state.inMotion=!1,void this.trigger("translated"))},r.prototype.viewport=function(){var n;if(this.options.responsiveBaseElement!==t)n=e(this.options.responsiveBaseElement).width();else if(t.innerWidth)n=t.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)throw"Can not detect viewport width.";n=i.documentElement.clientWidth}return n},r.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(e.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},r.prototype.add=function(e,t){t=t===n?this._items.length:this.normalize(t,!0),this.trigger("add",{content:e,position:t}),0===this._items.length||t===this._items.length?(this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[t].before(e),this._items.splice(t,0,e),this._mergers.splice(t,0,1*e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this.invalidate("items"),this.trigger("added",{content:e,position:t})},r.prototype.remove=function(e){e=this.normalize(e,!0),e!==n&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},r.prototype.addTriggerableEvents=function(){var t=e.proxy(function(t,i){return e.proxy(function(e){e.relatedTarget!==this&&(this.suppress([i]),t.apply(this,[].slice.call(arguments,1)),this.release([i]))},this)},this);e.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},e.proxy(function(e,i){this.$element.on(e+".owl.carousel",t(i,e+".owl.carousel"))},this))},r.prototype.watchVisibility=function(){function i(e){return e.offsetWidth>0&&e.offsetHeight>0}function n(){i(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),t.clearInterval(this.e._checkVisibile))}i(this.$element.get(0))||(this.$element.addClass("owl-hidden"),t.clearInterval(this.e._checkVisibile),this.e._checkVisibile=t.setInterval(e.proxy(n,this),500))},r.prototype.preloadAutoWidthImages=function(t){var i,n,r,o;i=0,n=this,t.each(function(s,a){r=e(a),o=new Image,o.onload=function(){i++,r.attr("src",o.src),r.css("opacity",1),i>=t.length&&(n.state.imagesLoaded=!0,n.initialize())},o.src=r.attr("src")||r.attr("data-src")||r.attr("data-src-retina")})},r.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&e(t).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var n in this._plugins)this._plugins[n].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),e(i).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1})),this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},r.prototype.op=function(e,t,i){var n=this.settings.rtl;switch(t){case"<":return n?e>i:e<i;case">":return n?e<i:e>i;case">=":return n?e<=i:e>=i;case"<=":return n?e>=i:e<=i}},r.prototype.on=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i)},r.prototype.off=function(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i)},r.prototype.trigger=function(t,i,n){var r={item:{count:this._items.length,index:this.current()}},o=e.camelCase(e.grep(["on",t,n],function(e){return e}).join("-").toLowerCase()),s=e.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},r,i));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(s)}),this.$element.trigger(s),this.settings&&"function"==typeof this.settings[o]&&this.settings[o].apply(this,s)),s},r.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},r.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},r.prototype.browserSupport=function(){if(this.support3d=u(),this.support3d){this.transformVendor=l();var e=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=e[a()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=t.orientation},e.fn.owlCarousel=function(t){return this.each(function(){e(this).data("owlCarousel")||e(this).data("owlCarousel",new r(this,t))})},e.fn.owlCarousel.Constructor=r}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var r=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":e.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var i=this._core.settings,n=i.center&&Math.ceil(i.items/2)||i.items,r=i.center&&n*-1||0,o=(t.property&&t.property.value||this._core.current())+r,s=this._core.clones().length,a=e.proxy(function(e,t){this.load(t)},this);r++<n;)this.load(s/2+this._core.relative(o)),s&&e.each(this._core.clones(this._core.relative(o++)),a)},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={lazyLoad:!1},r.prototype.load=function(i){var n=this._core.$stage.children().eq(i),r=n&&n.find(".owl-lazy");!r||e.inArray(n.get(0),this._loaded)>-1||(r.each(e.proxy(function(i,n){var r,o=e(n),s=t.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:s},"lazy"),o.is("img")?o.one("load.owl.lazy",e.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:s},"lazy")},this)).attr("src",s):(r=new Image,r.onload=e.proxy(function(){o.css({"background-image":"url("+s+")",opacity:"1"}),this._core.trigger("loaded",{element:o,url:s},"lazy")},this),r.src=s)},this)),this._loaded.push(n.get(0)))},r.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=r}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var r=function(t){this._core=t,this._handlers={"initialized.owl.carousel":e.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(e){this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.owl.lazy":e.proxy(function(e){this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},r.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},r.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=r}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var r=function(t){this._core=t,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":e.proxy(function(e){this._core.settings.video&&!this.isInFullScreen()&&e.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":e.proxy(function(e){this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(t){var i=e(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,e(t.content)))},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(e){this.play(e)},this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1},r.prototype.fetch=function(e,t){var i=e.attr("data-vimeo-id")?"vimeo":"youtube",n=e.attr("data-vimeo-id")||e.attr("data-youtube-id"),r=e.attr("data-width")||this._core.settings.videoWidth,o=e.attr("data-height")||this._core.settings.videoHeight,s=e.attr("href");if(!s)throw new Error("Missing video URL.");if(n=s.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),n[3].indexOf("youtu")>-1)i="youtube";else{if(!(n[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");i="vimeo"}n=n[6],this._videos[s]={type:i,id:n,width:r,height:o},t.attr("data-video",s),this.thumbnail(e,this._videos[s])},r.prototype.thumbnail=function(t,i){var n,r,o,s=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=t.find("img"),l="src",u="",d=this._core.settings,h=function(e){r='<div class="owl-video-play-icon"></div>',n=d.lazyLoad?'<div class="owl-video-tn '+u+'" '+l+'="'+e+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(n),t.after(r)};return t.wrap('<div class="owl-video-wrapper"'+s+"></div>"),this._core.settings.lazyLoad&&(l="data-src",u="owl-lazy"),a.length?(h(a.attr(l)),a.remove(),!1):void("youtube"===i.type?(o="http://img.youtube.com/vi/"+i.id+"/hqdefault.jpg",h(o)):"vimeo"===i.type&&e.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e[0].thumbnail_large,h(o)}}))},r.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},r.prototype.play=function(t){this._core.trigger("play",null,"video"),this._playing&&this.stop();var i,n,r=e(t.target||t.srcElement),o=r.closest("."+this._core.settings.itemClass),s=this._videos[o.attr("data-video")],a=s.width||"100%",l=s.height||this._core.$stage.height();"youtube"===s.type?i='<iframe width="'+a+'" height="'+l+'" src="http://www.youtube.com/embed/'+s.id+"?autoplay=1&v="+s.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===s.type&&(i='<iframe src="http://player.vimeo.com/video/'+s.id+'?autoplay=1" width="'+a+'" height="'+l+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),o.addClass("owl-video-playing"),this._playing=o,n=e('<div style="height:'+l+"px; width:"+a+'px" class="owl-video-frame">'+i+"</div>"),r.after(n)},r.prototype.isInFullScreen=function(){var n=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return n&&e(n).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),!(n&&this._fullscreen&&this._playing)&&(this._fullscreen?(this._fullscreen=!1,!1):!this._playing||this._core.state.orientation===t.orientation||(this._core.state.orientation=t.orientation,!1))},r.prototype.destroy=function(){var e,t;this._core.$element.off("click.owl.video");for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var r=function(t){this.core=t,this.core.options=e.extend({},r.Defaults,this.core.options),this.swapping=!0,this.previous=n,this.next=n,this.handlers={"change.owl.carousel":e.proxy(function(e){"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){this.swapping="translated"==e.type},this),"translate.owl.carousel":e.proxy(function(e){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};r.Defaults={animateOut:!1,animateIn:!1},r.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var t,i=e.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),r=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,s=this.core.settings.animateOut;this.core.current()!==this.previous&&(s&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.css({left:t+"px"}).addClass("animated owl-animated-out").addClass(s).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i)),o&&r.addClass("animated owl-animated-in").addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i))}},r.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},r.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=r}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var r=function(t){this.core=t,this.core.options=e.extend({},r.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":e.proxy(function(){this.autoplay()},this),"play.owl.autoplay":e.proxy(function(e,t,i){this.play(t,i)},this),"stop.owl.autoplay":e.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},r.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(t.clearInterval(this.interval),this.interval=t.setInterval(e.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):t.clearInterval(this.interval)},r.prototype.play=function(e,n){if(i.hidden!==!0&&!(this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion))return this.core.settings.autoplay===!1?void t.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},r.prototype.stop=function(){t.clearInterval(this.interval)},r.prototype.pause=function(){t.clearInterval(this.interval)},r.prototype.destroy=function(){var e,i;t.clearInterval(this.interval);for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var r=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){this._core.settings.dotsData&&this._templates.push(e(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":e.proxy(function(t){this._core.settings.dotsData&&this._templates.splice(t.position,0,e(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":e.proxy(function(e){this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"change.owl.carousel":e.proxy(function(e){if("position"==e.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var t=this._core.current(),i=this._core.maximum(),n=this._core.minimum();e.data=e.property.value>i?t>=i?n:i:e.property.value<n?i:e.property.value}},this),"changed.owl.carousel":e.proxy(function(e){"position"==e.property.name&&this.draw()},this),"refreshed.owl.carousel":e.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers)};r.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},r.prototype.initialize=function(){var t,i,n=this._core.settings;n.dotsData||(this._templates=[e("<div>").addClass(n.dotClass).append(e("<span>")).prop("outerHTML")]),n.navContainer&&n.dotsContainer||(this._controls.$container=e("<div>").addClass(n.controlsClass).appendTo(this.$element)),this._controls.$indicators=n.dotsContainer?e(n.dotsContainer):e("<div>").hide().addClass(n.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",e.proxy(function(t){var i=e(t.target).parent().is(this._controls.$indicators)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(i,n.dotsSpeed)},this)),t=n.navContainer?e(n.navContainer):e("<div>").addClass(n.navContainerClass).prependTo(this._controls.$container),this._controls.$next=e("<"+n.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(n.navClass[0]).html(n.navText[0]).hide().prependTo(t).on("click",e.proxy(function(e){this.prev(n.navSpeed)},this)),this._controls.$next.addClass(n.navClass[1]).html(n.navText[1]).hide().appendTo(t).on("click",e.proxy(function(e){this.next(n.navSpeed)},this));for(i in this._overrides)this._core[i]=e.proxy(this[i],this)},r.prototype.destroy=function(){var e,t,i,n;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},r.prototype.update=function(){var e,t,i,n=this._core.settings,r=this._core.clones().length/2,o=r+this._core.items().length,s=n.center||n.autoWidth||n.dotData?1:n.dotsEach||n.items;if("page"!==n.slideBy&&(n.slideBy=Math.min(n.slideBy,n.items)),n.dots||"page"==n.slideBy)for(this._pages=[],e=r,t=0,i=0;e<o;e++)(t>=s||0===t)&&(this._pages.push({start:e-r,end:e-r+s-1}),t=0,++i),t+=this._core.mergers(this._core.relative(e))},r.prototype.draw=function(){var t,i,n="",r=this._core.settings,o=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!r.nav||r.loop||r.navRewind||(this._controls.$previous.toggleClass("disabled",o<=0),this._controls.$next.toggleClass("disabled",o>=this._core.maximum())),this._controls.$previous.toggle(r.nav),this._controls.$next.toggle(r.nav),r.dots){if(t=this._pages.length-this._controls.$indicators.children().length,r.dotData&&0!==t){for(i=0;i<this._controls.$indicators.children().length;i++)n+=this._templates[this._core.relative(i)];this._controls.$indicators.html(n)}else t>0?(n=new Array(t+1).join(this._templates[0]),this._controls.$indicators.append(n)):t<0&&this._controls.$indicators.children().slice(t).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(e.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(r.dots)},r.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotData?1:i.dotsEach||i.items)}},r.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,function(e){return e.start<=t&&e.end>=t}).pop()},r.prototype.getPosition=function(t){var i,n,r=this._core.settings;return"page"==r.slideBy?(i=e.inArray(this.current(),this._pages),n=this._pages.length,t?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,t?i+=r.slideBy:i-=r.slideBy),i},r.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},r.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},r.prototype.to=function(t,i,n){var r;n?e.proxy(this._overrides.to,this._core)(t,i):(r=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%r+r)%r].start,i))},e.fn.owlCarousel.Constructor.Plugins.Navigation=r}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var r=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(){"URLHash"==this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(t){var i=e(t.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[i]=t.content},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(){var e=t.location.hash.substring(1),i=this._core.$stage.children(),n=this._hashes[e]&&i.index(this._hashes[e])||0;return!!e&&void this._core.to(n,!1,!0)},this))};r.Defaults={URLhashListener:!1},r.prototype.destroy=function(){var i,n;e(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=r}(window.Zepto||window.jQuery,window,document),$(document).ready(function(){function e(e,t){return(e=Math.abs(e%100))>20&&(e%=10),t[(e>4||0===e)+(1!==e)]}$("body").append('<div class="readme"> :<div class="readme__message"></div><button class="readme__button"></button></div>'),$(".readme__message").load("readme.html"),$(".readme").show(),$(".readme__button").click(function(){$(".readme").hide()}),$(".owl-carousel").owlCarousel({loop:!0,margin:1,nav:!1,dots:!0,animateOut:"fadeOut",autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,responsive:{320:{items:1},748:{items:1},940:{items:1}}}),$(window).on("scroll resize",function(){var e=$(window).scrollTop()/($(document).height()-$(window).height());$(".progress__bar").css({width:(100*e|0)+"%"}),$(".progress").value=e,$(window).scrollTop()<460||$(window).width()<748?$(".back__top").hide(700):$(".back__top").show(700),($(window).scrollTop()<460||$(window).width()<748)&&($(".easy123__part:eq(0)").delay(500).animate({opacity:1},"slow"),$(".easy123__part:eq(1)").delay(1500).animate({opacity:1},"slow"),$(".easy123__part:eq(2)").delay(2500).animate({opacity:1},"slow"))}),$(".back__up").click(function(){return $("body,html").animate({scrollTop:0},"slow"),!1});for(var t=0;t<6;t++)$("#gallery").append('<img alt=" '+(t+1)+'">');jQuery.support.cors=!0;var i=function(e){$.ajax({url:"https://pixabay.com/api/?key=3641379-74c8a2cbe60ef2c004424aed7&q="+e+"&image_type=photo&orientation=horizontal",dataType:"json",success:function(e){for(var t=0;t<6;t++)$("#gallery img:eq("+t+")").attr({src:e.hits[t].webformatURL,"data-image":e.hits[t].webformatURL});$("#gallery").css("display","none"),$("#gallery").unitegallery({tile_width:260,tile_height:260,theme_gallery_padding:0,theme_carousel_align:"center",theme_carousel_offset:0,gallery_theme:"carousel",gallery_width:"100%",gallery_min_width:260,gallery_background_color:"",carousel_padding:8,carousel_space_between_tiles:15,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,theme_enable_navigation:!0,theme_navigation_position:"bottom",theme_navigation_enable_play:!0,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_navigation_margin:20,theme_space_between_arrows:5})},type:"get"})};i("elephant");var n=$("#note");ts=(new Date).getTime()+3456e5,$("#countdown").countdown({timestamp:ts,callback:function(t,i,r,o){var s="   : <span>";s+=t+e(t,[" , "," , "," , "]),s+=i+e(i,[" , "," , "," , "]),s+=r+e(r,[" ."," ."," ."])+"</span>",n.html(s)}}),$(".accordion__content").hide(),$(".active").next().show(),$(".accordion").click(function(){$(this).hasClass("active")||($(this).siblings(".accordion__content").hide("slow"),$(this).next(".accordion__content").show("slow"),$(this).toggleClass("active"),$(this).siblings(".accordion").removeClass("active"))})}),"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("carousel"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("carousel")});var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=l.call(arguments,1),u=0,d=0,h=0,c=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(d=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(d=-1*h,h=0),u=0===h?d:h,"deltaY"in s&&(h=-1*s.deltaY,u=h),"deltaX"in s&&(d=s.deltaX,0===h&&(u=-1*d)),0!==h||0!==d){if(1===s.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,h*=g,d*=g}else if(2===s.deltaMode){var _=e.data(this,"mousewheel-page-height");u*=_,h*=_,d*=_}return c=Math.max(Math.abs(h),Math.abs(d)),(!o||o>c)&&(o=c,n(s,c)&&(o/=40)),n(s,c)&&(u/=40,d/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),h=Math[h>=1?"floor":"ceil"](h/o),t.deltaX=d,t.deltaY=h,t.deltaFactor=o,t.deltaMode=0,a.unshift(t,u,d,h),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){o=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=s.length;u;)e.event.fixHooks[s[--u]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}e.easing.jswing=e.easing.swing;var i=Math.pow,n=Math.sqrt,r=Math.sin,o=Math.cos,s=Math.PI,a=1.70158,l=1.525*a,u=a+1,d=2*s/3,h=2*s/4.5;e.extend(e.easing,{def:"easeOutQuad",swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-o(e*s/2)},easeOutSine:function(e){return r(e*s/2)},easeInOutSine:function(e){return-(o(s*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*r((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*r((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-(i(2,20*e-10)*r((20*e-11.125)*h))/2:i(2,-20*e+10)*r((20*e-11.125)*h)/2+1},easeInBack:function(e){return u*e*e*e-a*e*e},easeOutBack:function(e){return 1+u*i(e-1,3)+a*i(e-1,2)},easeInOutBack:function(e){return e<.5?i(2*e,2)*(2*(l+1)*e-l)/2:(i(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-t(1-e)},easeOutBounce:t,easeInOutBounce:function(e){return e<.5?(1-t(1-2*e))/2:(1+t(2*e-1))/2}})}),!function(e,t){function i(e,t,i){var n=h[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=u(),n=i._rgba=[];return t=t.toLowerCase(),_(l,function(e,r){var o,s=r.re.exec(t),a=s&&r.parse(s),l=r.space||"rgba";return a?(o=i[l](a),i[d[l].cache]=o[d[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,o.transparent),i):o[t]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e;
}if("undefined"==typeof e.cssHooks)return!1;var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=u.support={},g=e("<p>")[0],_=e.each;g.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=g.style.backgroundColor.indexOf("rgba")>-1,_(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,s,a,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(s),s=t);var h=this,c=e.type(r),g=this._rgba=[];return s!==t&&(r=[r,s,a,l],c="array"),"string"===c?this.parse(n(r)||o._default):"array"===c?(_(d.rgba.props,function(e,t){g[t.idx]=i(r[t.idx],t)}),this):"object"===c?(r instanceof u?_(d,function(e,t){r[t.cache]&&(h[t.cache]=r[t.cache].slice())}):_(d,function(t,n){var o=n.cache;_(n.props,function(e,t){if(!h[o]&&n.to){if("alpha"===e||null==r[e])return;h[o]=n.to(h._rgba)}h[o][t.idx]=i(r[e],t,!0)}),h[o]&&e.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,n.from&&(h._rgba=n.from(h[o])))}),this):void 0},is:function(e){var t=u(e),i=!0,n=this;return _(d,function(e,r){var o,s=t[r.cache];return s&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],_(r.props,function(e,t){return null!=s[t.idx]?i=s[t.idx]===o[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return _(d,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=u(e),r=n._space(),o=d[r],s=0===this.alpha()?u("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return n=n[o.cache],_(o.props,function(e,r){var o=r.idx,s=a[o],u=n[o],d=h[r.type]||{};null!==u&&(null===s?l[o]=u:(d.mod&&(u-s>d.mod/2?s+=d.mod:s-u>d.mod/2&&(s-=d.mod)),l[o]=i((u-s)*t+s,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=u(t)._rgba;return u(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,s=e[3],a=Math.max(n,r,o),l=Math.min(n,r,o),u=a-l,d=a+l,h=.5*d;return t=l===a?0:n===a?60*(r-o)/u+360:r===a?60*(o-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5>=h?u/d:u/(2-d),[Math.round(t)%360,i,h,null==s?1:s]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*r(a,s,t+1/3)),Math.round(255*r(a,s,t)),Math.round(255*r(a,s,t-1/3)),o]},_(d,function(n,r){var o=r.props,s=r.cache,l=r.to,d=r.from;u.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===t)return this[s].slice();var r,a=e.type(n),h="array"===a||"object"===a?n:arguments,c=this[s].slice();return _(o,function(e,t){var n=h["object"===a?e:t.idx];null==n&&(n=c[t.idx]),c[t.idx]=i(n,t)}),d?(r=u(d(c)),r[s]=c,r):u(c)},_(o,function(t,i){u.fn[t]||(u.fn[t]=function(r){var o,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[l](),d=u[i.idx];return"undefined"===s?d:("function"===s&&(r=r.call(this,d),s=e.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r),o&&(r=d+parseFloat(o[2])*("+"===o[1]?1:-1))),u[i.idx]=r,this[l](u)))})})}),u.hook=function(t){var i=t.split(" ");_(i,function(t,i){e.cssHooks[i]={set:function(t,r){var o,s,a="";if("transparent"!==r&&("string"!==e.type(r)||(o=n(r)))){if(r=u(o||r),!c.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=u(t.elem,i),t.end=u(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return _(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),!function(e){function t(){try{var i=this===document?e(this):e(this).contents()}catch(e){return!1}i.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),i.find("iframe").on("load",t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var i=e(this).is("iframe")?e(this).contents().find("body"):e(this),n=i.offset();t=n.left<=e.mlp.x&&n.left+i.outerWidth()>e.mlp.x&&n.top<=e.mlp.y&&n.top+i.outerHeight()>e.mlp.y}),t}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t=jQuery(this),i="#"+t.attr("id");if(!e)var e={};var n=new UniteGalleryMain;n.run(i,e);var r=new UG_API(n);return r};