function UGTheme_carousel(){var i,n,s,a,t,r,o,l,u=new UniteGalleryMain,d=new UGLightbox,h=new UGCarousel,g=new UGFunctions,c=new UGTileDesign,_=new UG_API,p={theme_gallery_padding:0,theme_carousel_align:"center",theme_carousel_offset:0,theme_enable_navigation:!0,theme_navigation_position:"bottom",theme_navigation_enable_play:!0,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_navigation_margin:20,theme_space_between_arrows:5},m={gallery_width:"100%",tile_width:160,tile_height:160,tile_enable_border:!0,tile_enable_outline:!0,carousel_vertical_scroll_ondrag:!0};function f(){var e=u.getSize().width;return e-=2*p.theme_gallery_padding}function b(){e=h.getEstimatedHeight(),a&&(e+=a.height()+p.theme_navigation_margin);s.height(e);var e=f();!function(){a&&(h.setScrollLeftButton(r),h.setScrollRightButton(t),o&&h.setPlayPauseButton(o));i.on(u.events.SIZE_CHANGE,w),i.on(u.events.GALLERY_BEFORE_REQUEST_ITEMS,I),jQuery(c).on(c.events.TILE_CLICK,y),i.on(_.events.API_INIT_FUNCTIONS,E)}(),h.setMaxWidth(e),h.run(),d.run(),v()}function e(){var e;s.addClass("ug-theme-carousel"),h.setHtml(s),1==p.theme_enable_navigation&&(e="<div class='ug-tile-navigation-wrapper' style='position:absolute'>",e+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",1==p.theme_navigation_enable_play&&(e+="<div class='ug-button-tile-navigation ug-button-tile-play'></div>"),e+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",s.append(e+="</div>"),a=s.children(".ug-tile-navigation-wrapper"),t=a.children(".ug-button-tile-left"),r=a.children(".ug-button-tile-right"),t.css("margin-right",p.theme_space_between_arrows+"px"),1==p.theme_navigation_enable_play&&(o=a.children(".ug-button-tile-play")).css("margin-right",p.theme_space_between_arrows+"px")),d.putHtml(),s.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(l=s.children(".ug-tiles-preloader")).fadeTo(0,0),b()}function v(){var e,t=h.getElement(),i=g.getElementSize(t),n=0;a&&(n=(e=g.getElementSize(a)).height);var r=i.height;0<n&&(r+=p.theme_navigation_margin+n);var o,n=0;a&&(o=i.height+p.theme_navigation_margin,"top"==p.theme_navigation_position&&(n=e.height+p.theme_navigation_margin,o=0)),g.placeElement(t,p.theme_carousel_align,n,p.theme_carousel_offset,0);i=g.getElementSize(t);a&&(t=i.left+g.getElementRelativePos(a,p.theme_navigation_align,p.theme_navigation_offset_hor,t),g.placeElement(a,t,o)),s.height(r),g.placeElement(l,"center",50)}function y(e,t){t=jQuery(t);t=c.getItemByTile(t).index;d.open(t)}function w(){var e=f();h.setMaxWidth(e),h.run(),v()}function I(){h.stopAutoplay(),h.getElement().hide(),a&&a.hide(),l.fadeTo(0,1)}function E(e,t){t.carouselStartAutoplay=function(){h.startAutoplay()},t.carouselStopAutoplay=function(){h.stopAutoplay()},t.carouselPause=function(){h.pauseAutoplay()},t.carouselUnpause=function(){h.unpauseAutoplay()},t.scrollLeft=function(e){h.scrollLeft(e)},t.scrollRight=function(e){h.scrollRight(e)}}this.destroy=function(){a&&(g.destroyButton(r),g.destroyButton(t),o&&g.destroyButton(o)),i.off(u.events.SIZE_CHANGE),jQuery(c).off(c.events.TILE_CLICK),i.off(u.events.GALLERY_BEFORE_REQUEST_ITEMS),h.destroy(),d.destroy()},this.run=function(){e()},this.init=function(e,t){t=t,u=e=e,p=jQuery.extend(p,m),p=jQuery.extend(p,t),u.setOptions(p),u.setFreestyleMode(),n=e.getObjects(),i=jQuery(e),s=n.g_objWrapper,d.init(e,p),h.init(e,p),c=h.getObjTileDesign()}}function debugLine(e,t,i){var n=e=!1===(e=!0===e?"true":e)?"false":e;if("object"==typeof e)for(name in n="",e){var r=e[name];n+=" "+name+": "+r}1!=t||i||(n+=" "+Math.random()),1==i&&((i=jQuery("#debug_line")).width(200),500<=i.height()&&i.html(""),n=i.html()+"<br> -------------- <br>"+n),jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){var o=null,v=this,s={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,handle:null};function t(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==v.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(e){document.webkitCancelFullScreen?t("webkitfullscreenchange",document,e):document.msExitFullscreen?t("MSFullscreenChange",document,e):document.mozCancelFullScreen?t("mozfullscreenchange",document,e):t("fullscreenchange",document,e)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==o)return o;var e,t=["webkit","Moz","ms","O"],i=document.createElement("div");for(e in t){var n=t[e];if(n+"Transform"in i.style)return n=n.toLowerCase(),o=n}return o=""},this.getImageInsideParentDataByImage=function(e,t,i){var n=e.parent(),e=v.getImageOriginalSize(e);return v.getImageInsideParentData(n,e.width,e.height,t,i)},this.getImageInsideParentData=function(e,t,i,n,r,o,s){r=r||{};var a={};void 0===o&&(o=e.width()),void 0===s&&(s=e.height()),r.padding_left&&(o-=r.padding_left),r.padding_right&&(o-=r.padding_right),r.padding_top&&(s-=r.padding_top),r.padding_bottom&&(s-=r.padding_bottom);var l,u=null,d="100%",h=null,g=null,e="display:block;margin:0px auto;";return 0<t&&0<i&&("down"==n&&t<o&&i<s?(g=(o-(u=t))/2,h=(s-(d=i))/2):"fill"==n?(u=(d=s)*(l=t/i))<o?(d=(u=o)/l,g=0,h=Math.round((d-s)/2*-1)):(h=0,g=Math.round((u-o)/2*-1)):(h=0,g=(o-(u=(d=s)*(l=t/i)))/2,"fitvert"!=n&&o<u&&(g=0,h=(s-(d=(u=o)/l))/2)),u=Math.floor(u),d=Math.floor(d),h=Math.floor(h),g=Math.floor(g),e="position:absolute;"),r.padding_top&&(h+=r.padding_top),r.padding_left&&(g+=r.padding_left),a.imageWidth=u,a.imageHeight=d,a.imageTop=h,a.imageLeft=g,a.imageRight=g+u,a.imageBottom=0==h||"100%"==d?null:h+d,a.style=e,a},this.getElementCenterPosition=function(e,t){var i=e.parent(),n=v.getElementSize(e),r=v.getElementSize(i),e=r.width,i=r.height;t&&void 0!==t.padding_top&&(i-=t.padding_top),t&&void 0!==t.padding_bottom&&(i-=t.padding_bottom),t&&void 0!==t.padding_left&&(e-=t.padding_left),t&&void 0!==t.padding_right&&(e-=t.padding_right);r={};return r.left=Math.round((e-n.width)/2),r.top=Math.round((i-n.height)/2),t&&void 0!==t.padding_top&&(r.top+=t.padding_top),t&&void 0!==t.padding_left&&(r.left+=t.padding_left),r},this.getElementCenterPoint=function(e,t){t=t||!1;var i=v.getElementSize(e),e={};return e.x=i.width/2,e.y=i.height/2,1==t&&(e.x+=i.left,e.y+=i.top),e.x=Math.round(e.x),e.y=Math.round(e.y),e},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};return e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t&&(t=t.offset(),i.mouseX=i.pageX-t.left,i.mouseY=i.pageY-t.top),i},this.getMouseElementPoint=function(e,t){e={x:e.pageX,y:e.pageY};return v.getElementLocalPoint(e,t)},this.getElementLocalPoint=function(e,t){var i={},t=t.offset();return i.x=Math.round(e.x-t.left),i.y=Math.round(e.y-t.top),i},this.getImageOriginalSize=function(e,t,i){if(void 0!==t&&void 0!==i)return{width:t,height:i};var n=e[0];if(void 0===n)throw new Error("getImageOriginalSize error - Image not found");t={};if(void 0!==n.naturalWidth)return t.width=n.naturalWidth,t.height=n.naturalHeight,t;if("number"==typeof e.data("naturalWidth"))return(t={}).width=e.data("naturalWidth"),t.height=e.data("naturalHeight"),t;i=new Image;return i.src=n.src,i.complete?(t.width=i.width,t.height=i.height,e.data("naturalWidth",t.width),e.data("naturalHeight",t.height),t):{width:0,height:0}},this.getimageRatio=function(e){var t=v.getImageOriginalSize(e);return v.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),e=v.getElementSize(e),t=v.getElementSize(t);return e.width<=t.width&&e.height<=t.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),e=v.getElementSize(e),t=v.getElementSize(t);return e.width>t.width||e.height>t.height},this.isPointInsideElement=function(e,t){return 0!=(0<=e.x&&e.x<t.width)&&0!=(0<=e.y&&e.y<t.height)},this.getElementRelativePos=function(e,t,i,n){var r;n=n||e.parent(),r="number"==typeof e?{width:e,height:e}:v.getElementSize(e);var o=v.getElementSize(n);switch(t){case"top":case"left":t=0,i&&(t+=i);break;case"center":t=Math.round((o.width-r.width)/2),i&&(t+=i);break;case"right":t=o.width-r.width,i&&(t-=i);break;case"middle":t=Math.round((o.height-r.height)/2),i&&(t+=i);break;case"bottom":t=o.height-r.height,i&&(t-=i)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,i,n,r,o,s){r=r||"fit";var a,l,u=i=i||1.2,d=e.parent(),h=v.getElementSize(e),g=v.getImageOriginalSize(e),c=!1,_=0,p=0,m=0,i=0;if(n?(a=v.getMouseElementPoint(n,e),c=v.isPointInsideElement(a,h),m=a.x,i=a.y):c=!1,0==c&&(m=(a=v.getElementCenterPoint(e)).x,i=a.y),1==t)b=h.height*u,f=h.width*u,0!=m&&(_=-(m*u-m)),0!=i&&(p=-(i*u-i));else{var f,b=h.height/u;if((f=h.width/u)<v.getImageInsideParentData(d,g.width,g.height,r,s).imageWidth)return v.scaleImageFitParent(e,g.width,g.height,r,s),!0;1==c&&(0!=m&&(_=-(m/u-m)),0!=i&&(p=-(i/u-i)))}if(o){i=1;if(o<(i=0!=g.width?f/g.width:i))return!1}return v.setElementSize(e,f,b),p=0==t&&0==c?(l=(c=v.getElementCenterPosition(e)).left,c.top):(l=h.left+_,h.top+p),v.placeElement(e,l,p),!0},this.placeElement=function(e,t,i,n,r,o){var s,a;if(0!=jQuery.isNumeric(t)&&0!=jQuery.isNumeric(i)||(o=o||e.parent(),s=v.getElementSize(e),a=v.getElementSize(o)),0==jQuery.isNumeric(t))switch(t){case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((a.width-s.width)/2),n&&(t+=n);break;case"right":t=a.width-s.width,n&&(t-=n)}if(0==jQuery.isNumeric(i))switch(i){case"top":i=0,r&&(i+=r);break;case"middle":case"center":i=Math.round((a.height-s.height)/2),r&&(i+=r);break;case"bottom":i=a.height-s.height,r&&(i-=r)}o={position:"absolute",margin:"0px"};null!==t&&(o.left=t),null!==i&&(o.top=i),e.css(o)},this.placeElementInParentCenter=function(e){v.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,r){e.css({width:n+"px",height:r+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"})},this.setElementSize=function(e,t,i){t={width:t+"px"};null!=i&&(t.height=i+"px"),e.css(t)},this.cloneElementSizeAndPos=function(e,t,i,n,r){var o=e.position();if(null==o)throw new Error("Can't get size, empty element");!0===i?(o.height=e.outerHeight(),o.width=e.outerWidth()):(o.height=e.height(),o.width=e.width()),o.left=Math.round(o.left),o.top=Math.round(o.top),n&&(o.left+=n),r&&(o.top+=r),v.setElementSizeAndPosition(t,o.left,o.top,o.width,o.height)},this.placeImageInsideParent=function(e,t,i,n,r,o){r=v.getImageInsideParentData(t,i,n,r,o),o="<img";return null!==r.imageWidth&&(o+=" width = '"+r.imageWidth+"'",r.style+="width:"+r.imageWidth+";"),null!=r.imageHeight&&("100%"==r.imageHeight?(o+=" height = '"+r.imageHeight+"'",r.style+="height:"+r.imageHeight+";"):(o+=" height = '"+r.imageHeight+"'",r.style+="height:"+r.imageHeight+"px;")),null!==r.imageTop&&(r.style+="top:"+r.imageTop+"px;"),null!==r.imageLeft&&(r.style+="left:"+r.imageLeft+"px;"),e=v.escapeDoubleSlash(e),o+=" style='"+r.style+"'",o+=' src="'+e+'"',t.html(o+=">"),t.children("img")},this.scaleImageCoverParent=function(e,t,i){var n,r;r="number"==typeof t?(n=t,i):(n=t.outerWidth(),t.outerHeight());var o=v.getImageOriginalSize(e),s=o.width/o.height,a=r,i=a*s,t=0,o=0;i<n?(a=(i=n)/s,o=0,t=Math.round((a-r)/2*-1)):(t=0,o=Math.round((i-n)/2*-1)),i=Math.round(i),a=Math.round(a),e.css({width:i+"px",height:a+"px",left:o+"px",top:t+"px"})},this.scaleImageFitParent=function(e,t,i,n,r){var o=e.parent(),i=v.getImageInsideParentData(o,t,i,n,r),n=!1,r={};return null!==i.imageWidth&&(n=!0,e.removeAttr("width"),r.width=i.imageWidth+"px"),null!=i.imageHeight&&(n=!0,e.removeAttr("height"),r.height=i.imageHeight+"px"),null!==i.imageTop&&(n=!0,r.top=i.imageTop+"px"),null!==i.imageLeft&&(n=!0,r.left=i.imageLeft+"px"),1==n&&(r.position="absolute",r.margin="0px 0px",e.css(r)),i},this.scaleImageByHeight=function(e,t,i,n){n=v.getImageOriginalSize(e,i,n),n=n.width/n.height,n=Math.round(t*n);t=Math.round(t),v.setElementSize(e,n,t)},this.scaleImageByWidth=function(e,t,i,n){n=v.getImageOriginalSize(e,i,n),n=n.width/n.height,n=Math.round(t/n);t=Math.round(t),v.setElementSize(e,t,n)},this.scaleImageExactSizeInParent=function(e,t,i,n,r,o){var s=e.parent(),a=v.getElementSize(s);a.width<n&&(n=a.width),a.height<r&&(r=a.height);var l=v.getImageInsideParentData(null,t,i,o,null,n,r),u=n,d=r,h=l.imageLeft,s=l.imageLeft,t=l.imageTop,i=l.imageTop,o=Math.round((a.width-n)/2),a=Math.round((a.height-r)/2),n=n-(l.imageWidth+h+s);0!=n&&(s+=n),0!=(n=r-(l.imageHeight+t+i))&&(i+=n),e.removeAttr("width"),e.removeAttr("height");n={position:"absolute",margin:"0px 0px"};n.width=u+"px",n.height=d+"px",n.left=o+"px",n.top=a+"px",n["padding-left"]=h+"px",n["padding-top"]=t+"px",n["padding-right"]=s+"px",n["padding-bottom"]=i+"px",e.css(n);n={};return n.imageWidth=u,n.imageHeight=d,n},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){0==v.isButtonDisabled(e,t=t||"ug-button-disabled")&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,n,r){if(!n)return e;var o={};return jQuery.each(e,function(e,t){var i;0===e.indexOf(n+"_"+r+"_")?(i=e.replace(n+"_"+r+"_",r+"_"),o[i]=t):o[e]=t}),o},this.enableButton=function(e,t){1==v.isButtonDisabled(e,t=t||"ug-button-disabled")&&e.removeClass(t)},this.isButtonDisabled=function(e,t){return!!e.hasClass(t=t||"ug-button-disabled")},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,r,o){return r=e+(t-e)*((r-i)/(n-i)),r=1==(o=o||!1)&&t<(r=r<e?e:r)?t:r},this.getNormalizedValue=function(e,t,i,n,r){return r=e+(n-i)*((r-e)/(t-e))},this.getDistance=function(e,t,i,n){return Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))))},this.getMiddlePoint=function(e,t,i,n){var r={};return r.x=e+Math.round((i-e)/2),r.y=t+Math.round((n-t)/2),r},this.getNumItemsInSpace=function(e,t,i){return Math.floor((e+i)/(t+i))},this.getNumItemsInSpaceRound=function(e,t,i){return Math.round((e+i)/(t+i))},this.getSpaceByNumItems=function(e,t,i){return e*t+(e-1)*i},this.getItemSizeInSpace=function(e,t,i){return Math.floor((e-(t-1)*i)/t)},this.getColX=function(e,t,i){return e*(t+i)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t);return{col:Math.floor(e%t),row:i}},this.getIndexByRowCol=function(e,t,i){return e<0||t<0?-1:e*i+t},this.getPrevRowSameColIndex=function(e,t){e=v.getColRowByIndex(e,t);return v.getIndexByRowCol(e.row-1,e.col,t)},this.getNextRowSameColIndex=function(e,t){e=v.getColRowByIndex(e,t);return v.getIndexByRowCol(e.row+1,e.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==v.isTouchDevice())return null;var t=v.getStoredEventData(e);if(null===t.scrollDir&&(15<Math.abs(t.diffMouseX)?t.scrollDir="hor":15<Math.abs(t.diffMouseY)&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),s.dataCache[e].scrollStartY=t.lastMouseClientY,s.dataCache[e].scrollOrigin=t.scrollOrigin),s.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;jQuery(document).scrollTop();e=t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY);return 0<=e&&jQuery(document).scrollTop(e),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===v.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,i){var n=v.getMousePosition(e),e=jQuery.now(),n={startTime:e,lastTime:e,startMouseX:n.pageX,startMouseY:n.pageY,lastMouseX:n.pageX,lastMouseY:n.pageY,startMouseClientY:n.clientY,lastMouseClientY:n.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};i&&(n=jQuery.extend(n,i)),s.dataCache[t]=n},this.updateStoredEventData=function(e,t,i){if(!s.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var n=s.dataCache[t],e=v.getMousePosition(e);n.lastTime=jQuery.now(),void 0!==e.pageX&&(n.lastMouseX=e.pageX,n.lastMouseY=e.pageY,n.lastMouseClientY=e.clientY),i&&(n=jQuery.extend(n,i)),s.dataCache[t]=n},this.getStoredEventData=function(e,t){if(!s.dataCache[e])throw new Error("updateEventData error: must have stored cache object");e=s.dataCache[e];return e.diffMouseX=e.lastMouseX-e.startMouseX,e.diffMouseY=e.lastMouseY-e.startMouseY,e.diffMouseClientY=e.lastMouseClientY-e.startMouseClientY,e.diffTime=e.lastTime-e.startTime,!0===t?(e.startMousePos=e.lastMouseY,e.lastMousePos=e.lastMouseY,e.diffMousePos=e.diffMouseY):(e.startMousePos=e.lastMouseX,e.lastMousePos=e.lastMouseX,e.diffMousePos=e.diffMouseX),e},this.isApproveStoredEventClick=function(e,t){if(!s.dataCache[e])return!0;e=v.getStoredEventData(e,t),t=Math.abs(e.diffMousePos);return!(400<e.diffTime)&&!(30<t)},this.clearStoredEventData=function(e){s.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==s.isTouchDevice)return s.isTouchDevice;try{document.createEvent("TouchEvent"),s.isTouchDevice=!0}catch(e){s.isTouchDevice=!1}return s.isTouchDevice},this.isRgbaSupported=function(){if(-1!==s.isRgbaSupported)return s.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,s.isRgbaSupported=i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,r=t.length;n<r;n++){var o=parseInt(t[n]),s=parseInt(i[n]);if(void 0===i[n])return!0;if(o<s)return!1;if(s<o)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),e=t.getDate()+"/"+t.getMonth();return e+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return t=e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length?e.originalEvent.touches:t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){s.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-s.starTime},!0)},this.initProgressIndicator=function(e,t,i){switch(e="bar"!=e&&0==v.isCanvasExists()?"bar":e){case"bar":(n=new UGProgressBar).putHidden(i,t);break;default:case"pie":(n=new UGProgressPie).putHidden(i,t);break;case"pie2":var n;t.type_fill=!0,(n=new UGProgressPie).putHidden(i,t)}return n},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){s.arrThemes.push(e)},this.getArrThemes=function(){return s.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,s.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==s.arrThemes.length?"":s.arrThemes[0]},this.isTimePassed=function(e,t){t=t||100;var i=jQuery.now();lastTime=0==s.timeCache.hasOwnProperty(e)?0:s.timeCache[e];var n=i-lastTime;return s.timeCache[e]=i,!(n<=t)},this.whenContiniousEventOver=function(e,t,i){i=i||300,1==s.timeCache.hasOwnProperty(e)&&null!=s.timeCache[e]&&(clearTimeout(s.timeCache[e]),s.timeCache[e]=null),s.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-s.lastEventTime;return"click"==e&&"touchstart"==s.lastEventType&&i<1e3&&(t=!1),s.lastEventTime=jQuery.now(),s.lastEventType=e,t},this.addClassOnHover=function(e,t){t=t||"ug-button-hover",e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown")},this.setButtonOnClick=function(e,t){v.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==v.validateClickTouchstartEvent(e.type)||void t(objThis,e)})},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);t=document.createElement("script");t.src=e;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)},this.addEvent=function(e,t,i){void 0!==e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(n,i,r){var o=0,s=n.length;if(0==s&&i)return i(),!1;function a(e,t){o++,"function"==typeof r&&setTimeout(function(){r(e,t)}),o==s&&"function"==typeof i&&setTimeout(function(){i()})}setTimeout(function(){for(var e=0;e<s;e++){var t,i=n[e];void 0!==i.naturalWidth&&0!==i.naturalWidth?a(n[e],!1):((t=jQuery("<img/>")).data("index",e),t.on("load",function(){var e=jQuery(this).data("index");a(n[e],!1)}),t.on("error",function(){var e=jQuery(this).data("index");a(n[e],!0)}),t.attr("src",i.src))}})},this.waitForWidth=function(e,t){if(0!=e.width())return t(),!1;s.handle=setInterval(function(){0!=e.width()&&(clearInterval(s.handle),t())},300)},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t,i=0;for(t in e)i++;return i},this.normalizePercent=function(e){return e=1<(e=e<0?0:e)?1:e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}!function(u){function d(e,t){var i,n=e.find(".digit");n.is(":animated")||e.data("digit")!=t&&(e.data("digit",t),i=u("<span>",{class:"digit",css:{top:"-2.1em",opacity:0},html:t}),n.before(i).removeClass("static").animate({top:"2.5em",opacity:0},"fast",function(){n.remove()}),i.delay(100).animate({top:0,opacity:1},"fast",function(){i.addClass("static")}))}u.fn.countdown=function(e){var t,i,n,r,o,s,a=u.extend({callback:function(){},timestamp:0},e);function l(e,t,i){d(o.eq(e),Math.floor(i/10)%10),d(o.eq(t),i%10)}return(s=this).addClass("countdownHolder"),u.each(["Days","Hours","Minutes","Seconds"],function(e){u('<span class="count'+this+'">').html('<span class="position">\t\t\t\t\t<span class="digit static">0</span>\t\t\t\t</span>\t\t\t\t<span class="position">\t\t\t\t\t<span class="digit static">0</span>\t\t\t\t</span>').appendTo(s),"Seconds"!=this&&s.append('<span class="countDiv countDiv'+e+'"></span>')}),o=this.find(".position"),function e(){(r=Math.floor((a.timestamp-new Date)/1e3))<0&&(r=0),l(0,1,t=Math.floor(r/86400)),r-=86400*t,l(2,3,i=Math.floor(r/3600)),r-=3600*i,l(4,5,n=Math.floor(r/60)),l(6,7,r=r-=60*n),a.callback(t,i,n,r),setTimeout(e,1e3)}(),this}}(jQuery),function(l,u,o,s){var i,n,r;function a(e,t){this.settings=null,this.options=l.extend({},a.Defaults,t),this.$element=l(e),this.drag=l.extend({},i),this.state=l.extend({},n),this.e=l.extend({},r),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],l.each(a.Plugins,l.proxy(function(e,t){this._plugins[e[0].toLowerCase()+e.slice(1)]=new t(this)},this)),l.each(a.Pipe,l.proxy(function(e,t){this._pipe.push({filter:t.filter,run:l.proxy(t.run,this)})},this)),this.setup(),this.initialize()}function d(e){return e.touches!==s?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.touches===s?e.pageX!==s?{x:e.pageX,y:e.pageY}:e.pageX===s?{x:e.clientX,y:e.clientY}:void 0:void 0}function e(e){var t,i,n=o.createElement("div"),r=e;for(t in r)if(i=r[t],void 0!==n.style[i])return n=null,[i,t];return[!1]}n={isTouch:!(i={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null}),isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},r={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},a.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:u,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},a.Width={Default:"default",Inner:"inner",Outer:"outer"},a.Plugins={},a.Pipe=[{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var e=this._clones;(this.$stage.children(".cloned").length!==e.length||!this.settings.loop&&0<e.length)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){for(var e=this._clones,t=this._items,i=this.settings.loop?e.length-Math.max(2*this.settings.items,4):0,n=0,r=Math.abs(i/2);n<r;n++)0<i?(this.$stage.children().eq(t.length+e.length-1).remove(),e.pop(),this.$stage.children().eq(0).remove(),e.pop()):(e.push(e.length/2),this.$stage.append(t[e[e.length-1]].clone().addClass("cloned")),e.push(t.length-1-(e.length-1)/2),this.$stage.prepend(t[e[e.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var e,t,i,n=this.settings.rtl?1:-1,r=(this.width()/this.settings.items).toFixed(3),o=0;for(this._coordinates=[],t=0,i=this._clones.length+this._items.length;t<i;t++)e=this._mergers[this.relative(t)],e=this.settings.mergeFit&&Math.min(e,this.settings.items)||e,o+=(this.settings.autoWidth?this._items[this.relative(t)].width()+this.settings.margin:r*e)*n,this._coordinates.push(o)}},{filter:["width","items","settings"],run:function(){var e,t,i=(this.width()/this.settings.items).toFixed(3),n={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(n),(n={width:this.settings.autoWidth?"auto":i-this.settings.margin})[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&0<l.grep(this._mergers,function(e){return 1<e}).length)for(e=0,t=this._coordinates.length;e<t;e++)n.width=Math.abs(this._coordinates[e])-Math.abs(this._coordinates[e-1]||0)-this.settings.margin,this.$stage.children().eq(e).css(n);else this.$stage.children().css(n)}},{filter:["width","items","settings"],run:function(e){e.current&&this.reset(this.$stage.children().index(e.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var e,t,i=this.settings.rtl?1:-1,n=2*this.settings.stagePadding,r=this.coordinates(this.current())+n,o=r+this.width()*i,s=[],a=0,l=this._coordinates.length;a<l;a++)e=this._coordinates[a-1]||0,t=Math.abs(this._coordinates[a])+n*i,(this.op(e,"<=",r)&&this.op(e,">",o)||this.op(t,"<",r)&&this.op(t,">",o))&&s.push(a);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+s.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],a.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&!0!==this.state.imagesLoaded){var e=this.$element.find("img"),t=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:s,t=this.$element.children(t).width();if(e.length&&t<=0)return this.preloadAutoWidthImages(e),!1}this.$element.addClass("owl-loading"),this.$stage=l("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},a.prototype.setup=function(){var t=this.viewport(),e=this.options.responsive,i=-1,n=null;e?(l.each(e,function(e){e<=t&&i<e&&(i=Number(e))}),delete(n=l.extend({},this.options,e[i])).responsive,n.responsiveClass&&this.$element.attr("class",function(e,t){return t.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+i)):n=l.extend({},this.options),null!==this.settings&&this._breakpoint===i||(this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=i,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},a.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},a.prototype.prepare=function(e){var t=this.trigger("prepare",{content:e});return t.data||(t.data=l("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(e)),this.trigger("prepared",{content:t.data}),t.data},a.prototype.update=function(){for(var e=0,t=this._pipe.length,i=l.proxy(function(e){return this[e]},this._invalidated),n={};e<t;)(this._invalidated.all||0<l.grep(this._pipe[e].filter,i).length)&&this._pipe[e].run(n),e++;this._invalidated={}},a.prototype.width=function(e){switch(e=e||a.Width.Default){case a.Width.Inner:case a.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},a.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime();this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=u.orientation,this.watchVisibility(),this.trigger("refreshed")},a.prototype.eventsCall=function(){this.e._onDragStart=l.proxy(function(e){this.onDragStart(e)},this),this.e._onDragMove=l.proxy(function(e){this.onDragMove(e)},this),this.e._onDragEnd=l.proxy(function(e){this.onDragEnd(e)},this),this.e._onResize=l.proxy(function(e){this.onResize(e)},this),this.e._transitionEnd=l.proxy(function(e){this.transitionEnd(e)},this),this.e._preventClick=l.proxy(function(e){this.preventClick(e)},this)},a.prototype.onThrottledResize=function(){u.clearTimeout(this.resizeTimer),this.resizeTimer=u.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},a.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!this.trigger("resize").isDefaultPrevented()&&(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized"))))},a.prototype.eventsRouter=function(e){var t=e.type;"mousedown"===t||"touchstart"===t?this.onDragStart(e):"mousemove"===t||"touchmove"===t?this.onDragMove(e):"mouseup"!==t&&"touchend"!==t&&"touchcancel"!==t||this.onDragEnd(e)},a.prototype.internalEvents=function(){"ontouchstart"in u||navigator.msMaxTouchPoints;var e=u.navigator.msPointerEnabled;this.settings.mouseDrag?(this.$stage.on("mousedown",l.proxy(function(e){this.eventsRouter(e)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!e&&this.$stage.on("touchstart touchcancel",l.proxy(function(e){this.eventsRouter(e)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),!1!==this.settings.responsive&&this.on(u,"resize",l.proxy(this.onThrottledResize,this))},a.prototype.onDragStart=function(e){var t,i,n=e.originalEvent||e||u.event;if(3===n.which||this.state.isTouch)return!1;if("mousedown"===n.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,t=d(n).x,i=d(n).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)e=this.getTransformProperty(),this.drag.offsetX=e,this.animate(e),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1;this.drag.startX=t-this.drag.offsetX,this.drag.startY=i-this.drag.offsetY,this.drag.start=t-this.drag.startX,this.drag.targetEl=n.target||n.srcElement,this.drag.updatedX=this.drag.start,"IMG"!==this.drag.targetEl.tagName&&"A"!==this.drag.targetEl.tagName||(this.drag.targetEl.draggable=!1),l(o).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",l.proxy(function(e){this.eventsRouter(e)},this))},a.prototype.onDragMove=function(e){var t,i,n;this.state.isTouch&&(this.state.isScrolling||(i=d(t=e.originalEvent||e||u.event).x,n=d(t).y,this.drag.currentX=i-this.drag.startX,this.drag.currentY=n-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":0<this.drag.distance&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,e+n),i+n)),(8<this.drag.distance||this.drag.distance<-8)&&(t.preventDefault!==s?t.preventDefault():t.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(16<this.drag.currentY||this.drag.currentY<-16)&&!1===this.state.isSwiping&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},a.prototype.onDragEnd=function(e){if(this.state.isTouch){if("mouseup"===e.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&!0!==this.state.inMotion)return this.state.inMotion=!1;this.drag.endTime=(new Date).getTime(),e=this.drag.endTime-this.drag.startTime,(3<Math.abs(this.drag.distance)||300<e)&&this.removeClick(this.drag.targetEl),e=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(e),this.invalidate("position"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(e)||this.transitionEnd(),this.drag.distance=0,l(o).off(".owl.dragEvents")}},a.prototype.removeClick=function(e){this.drag.targetEl=e,l(e).on("click.preventClick",this.e._preventClick),u.setTimeout(function(){l(e).off("click.preventClick")},300)},a.prototype.preventClick=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),l(e.target).off("click.preventClick")},a.prototype.getTransformProperty=function(){var e=u.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform");return!0!=(16===(e=e.replace(/matrix(3d)?\(|\)/g,"").split(",")).length)?e[4]:e[12]},a.prototype.closest=function(i){var n=-1,r=this.width(),o=this.coordinates();return this.settings.freeDrag||l.each(o,l.proxy(function(e,t){return t-30<i&&i<t+30?n=e:this.op(i,"<",t)&&this.op(i,">",o[e+1]||t-r)&&(n="left"===this.state.direction?e+1:e),-1===n},this)),this.settings.loop||(this.op(i,">",o[this.minimum()])?n=i=this.minimum():this.op(i,"<",o[this.maximum()])&&(n=i=this.maximum())),n},a.prototype.animate=function(e){this.trigger("translate"),this.state.inMotion=0<this.speed(),this.support3d?this.$stage.css({transform:"translate3d("+e+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:e+"px"}):this.$stage.animate({left:e},this.speed()/1e3,this.settings.fallbackEasing,l.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},a.prototype.current=function(e){return e===s?this._current:0===this._items.length?s:(e=this.normalize(e),this._current!==e&&((t=this.trigger("change",{property:{name:"position",value:e}})).data!==s&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})),this._current);var t},a.prototype.invalidate=function(e){this._invalidated[e]=!0},a.prototype.reset=function(e){(e=this.normalize(e))!==s&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},a.prototype.normalize=function(e,t){var i=t?this._items.length:this._items.length+this._clones.length;return!l.isNumeric(e)||i<1?s:e=this._clones.length?(e%i+i)%i:Math.max(this.minimum(t),Math.min(this.maximum(t),e))},a.prototype.relative=function(e){return e=this.normalize(e),e-=this._clones.length/2,this.normalize(e,!0)},a.prototype.maximum=function(e){var t,i,n,r=0,o=this.settings;if(e)return this._items.length-1;if(!o.loop&&o.center)t=this._items.length-1;else if(o.loop||o.center)if(o.loop||o.center)t=this._items.length+o.items;else{if(!o.autoWidth&&!o.merge)throw"Can not detect maximum absolute position.";for(revert=o.rtl?1:-1,i=this.$stage.width()-this.$element.width();(n=this.coordinates(r))&&!(n*revert>=i);)t=++r}else t=this._items.length-o.items;return t},a.prototype.minimum=function(e){return e?0:this._clones.length/2},a.prototype.items=function(e){return e===s?this._items.slice():(e=this.normalize(e,!0),this._items[e])},a.prototype.mergers=function(e){return e===s?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},a.prototype.clones=function(i){function n(e){return e%2==0?r+e/2:t-(e+1)/2}var t=this._clones.length/2,r=t+this._items.length;return i===s?l.map(this._clones,function(e,t){return n(t)}):l.map(this._clones,function(e,t){return e===i?n(t):null})},a.prototype.speed=function(e){return e!==s&&(this._speed=e),this._speed},a.prototype.coordinates=function(e){var t=null;return e===s?l.map(this._coordinates,l.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(t=this._coordinates[e],t+=(this.width()-t+(this._coordinates[e-1]||0))/2*(this.settings.rtl?-1:1)):t=this._coordinates[e-1]||0,t)},a.prototype.duration=function(e,t,i){return Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},a.prototype.to=function(e,t){var i,n,r,o,s,a;this.settings.loop?(i=e-this.relative(this.current()),n=this.current(),s=(r=this.current())-(o=this.current()+i)<0,a=this._clones.length+this._items.length,o<this.settings.items&&!1==s?(n=r+this._items.length,this.reset(n)):o>=a-this.settings.items&&!0==s&&(n=r-this._items.length,this.reset(n)),u.clearTimeout(this.e._goToLoop),this.e._goToLoop=u.setTimeout(l.proxy(function(){this.speed(this.duration(this.current(),n+i,t)),this.current(n+i),this.update()},this),30)):(this.speed(this.duration(this.current(),e,t)),this.current(e),this.update())},a.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},a.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},a.prototype.transitionEnd=function(e){if(e!==s&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0)))return!1;this.state.inMotion=!1,this.trigger("translated")},a.prototype.viewport=function(){var e;if(this.options.responsiveBaseElement!==u)e=l(this.options.responsiveBaseElement).width();else if(u.innerWidth)e=u.innerWidth;else{if(!o.documentElement||!o.documentElement.clientWidth)throw"Can not detect viewport width.";e=o.documentElement.clientWidth}return e},a.prototype.replace=function(e){this.$stage.empty(),this._items=[],e=e&&(e instanceof jQuery?e:l(e)),(e=this.settings.nestedItemSelector?e.find("."+this.settings.nestedItemSelector):e).filter(function(){return 1===this.nodeType}).each(l.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(+t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(l.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},a.prototype.add=function(e,t){t=t===s?this._items.length:this.normalize(t,!0),this.trigger("add",{content:e,position:t}),0===this._items.length||t===this._items.length?(this.$stage.append(e),this._items.push(e),this._mergers.push(+e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[t].before(e),this._items.splice(t,0,e),this._mergers.splice(t,0,+e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this.invalidate("items"),this.trigger("added",{content:e,position:t})},a.prototype.remove=function(e){(e=this.normalize(e,!0))!==s&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},a.prototype.addTriggerableEvents=function(){var i=l.proxy(function(t,i){return l.proxy(function(e){e.relatedTarget!==this&&(this.suppress([i]),t.apply(this,[].slice.call(arguments,1)),this.release([i]))},this)},this);l.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},l.proxy(function(e,t){this.$element.on(e+".owl.carousel",i(t,e+".owl.carousel"))},this))},a.prototype.watchVisibility=function(){function e(e){return 0<e.offsetWidth&&0<e.offsetHeight}e(this.$element.get(0))||(this.$element.addClass("owl-hidden"),u.clearInterval(this.e._checkVisibile),this.e._checkVisibile=u.setInterval(l.proxy(function(){e(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),u.clearInterval(this.e._checkVisibile))},this),500))},a.prototype.preloadAutoWidthImages=function(i){var n,r,o=0,s=this;i.each(function(e,t){n=l(t),(r=new Image).onload=function(){o++,n.attr("src",r.src),n.css("opacity",1),o>=i.length&&(s.state.imagesLoaded=!0,s.initialize())},r.src=n.attr("src")||n.attr("data-src")||n.attr("data-src-retina")})},a.prototype.destroy=function(){for(var e in this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),!1!==this.settings.responsive&&l(u).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd),this._plugins)this._plugins[e].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),l(o).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1})),this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},a.prototype.op=function(e,t,i){var n=this.settings.rtl;switch(t){case"<":return n?i<e:e<i;case">":return n?e<i:i<e;case">=":return n?e<=i:i<=e;case"<=":return n?i<=e:e<=i}},a.prototype.on=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i)},a.prototype.off=function(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i)},a.prototype.trigger=function(e,t,i){var n={item:{count:this._items.length,index:this.current()}},r=l.camelCase(l.grep(["on",e,i],function(e){return e}).join("-").toLowerCase()),o=l.Event([e,"owl",i||"carousel"].join(".").toLowerCase(),l.extend({relatedTarget:this},n,t));return this._supress[e]||(l.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(o)}),this.$element.trigger(o),this.settings&&"function"==typeof this.settings[r]&&this.settings[r].apply(this,o)),o},a.prototype.suppress=function(e){l.each(e,l.proxy(function(e,t){this._supress[t]=!0},this))},a.prototype.release=function(e){l.each(e,l.proxy(function(e,t){delete this._supress[t]},this))},a.prototype.browserSupport=function(){this.support3d=e(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0],this.support3d&&(this.transformVendor=e(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0],this.transitionEndVendor=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"][e(["transition","WebkitTransition","MozTransition","OTransition"])[1]],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""),this.state.orientation=u.orientation},l.fn.owlCarousel=function(e){return this.each(function(){l(this).data("owlCarousel")||l(this).data("owlCarousel",new a(this,e))})},l.fn.owlCarousel.Constructor=a}(window.Zepto||window.jQuery,window,document),function(a,r){function t(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":a.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var t=this._core.settings,i=t.center&&Math.ceil(t.items/2)||t.items,n=t.center&&-1*i||0,r=(e.property&&e.property.value||this._core.current())+n,o=this._core.clones().length,s=a.proxy(function(e,t){this.load(t)},this);n++<i;)this.load(o/2+this._core.relative(r)),o&&a.each(this._core.clones(this._core.relative(r++)),s)},this)},this._core.options=a.extend({},t.Defaults,this._core.options),this._core.$element.on(this._handlers)}t.Defaults={lazyLoad:!1},t.prototype.load=function(e){var t=this._core.$stage.children().eq(e),e=t&&t.find(".owl-lazy");!e||-1<a.inArray(t.get(0),this._loaded)||(e.each(a.proxy(function(e,t){var i=a(t),n=1<r.devicePixelRatio&&i.attr("data-src-retina")||i.attr("data-src");this._core.trigger("load",{element:i,url:n},"lazy"),i.is("img")?i.one("load.owl.lazy",a.proxy(function(){i.css("opacity",1),this._core.trigger("loaded",{element:i,url:n},"lazy")},this)).attr("src",n):((t=new Image).onload=a.proxy(function(){i.css({"background-image":"url("+n+")",opacity:"1"}),this._core.trigger("loaded",{element:i,url:n},"lazy")},this),t.src=n)},this)),this._loaded.push(t.get(0)))},t.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=t}(window.Zepto||window.jQuery,window,document),function(t){function i(e){this._core=e,this._handlers={"initialized.owl.carousel":t.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(e){this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(e){this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)}i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,(window,document)),function(d,t,i){function n(e){this._core=e,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":d.proxy(function(e){this._core.settings.video&&!this.isInFullScreen()&&e.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":d.proxy(function(e){this._playing&&this.stop()},this),"prepared.owl.carousel":d.proxy(function(e){var t=d(e.content).find(".owl-video");t.length&&(t.css("display","none"),this.fetch(t,d(e.content)))},this)},this._core.options=d.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",d.proxy(function(e){this.play(e)},this))}n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(e,t){var i=e.attr("data-vimeo-id")?"vimeo":"youtube",n=e.attr("data-vimeo-id")||e.attr("data-youtube-id"),r=e.attr("data-width")||this._core.settings.videoWidth,o=e.attr("data-height")||this._core.settings.videoHeight,s=e.attr("href");if(!s)throw new Error("Missing video URL.");if(-1<(n=s.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))i="youtube";else{if(!(-1<n[3].indexOf("vimeo")))throw new Error("Video URL not supported.");i="vimeo"}n=n[6],this._videos[s]={type:i,id:n,width:r,height:o},t.attr("data-video",s),this.thumbnail(e,this._videos[s])},n.prototype.thumbnail=function(t,e){function i(e){n=u.lazyLoad?'<div class="owl-video-tn '+l+'" '+a+'="'+e+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(n),t.after('<div class="owl-video-play-icon"></div>')}var n,r,o=e.width&&e.height?'style="width:'+e.width+"px;height:"+e.height+'px;"':"",s=t.find("img"),a="src",l="",u=this._core.settings;if(t.wrap('<div class="owl-video-wrapper"'+o+"></div>"),this._core.settings.lazyLoad&&(a="data-src",l="owl-lazy"),s.length)return i(s.attr(a)),s.remove(),!1;"youtube"===e.type?(r="http://img.youtube.com/vi/"+e.id+"/hqdefault.jpg",i(r)):"vimeo"===e.type&&d.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+e.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){r=e[0].thumbnail_large,i(r)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},n.prototype.play=function(e){this._core.trigger("play",null,"video"),this._playing&&this.stop();var t,i=d(e.target||e.srcElement),n=i.closest("."+this._core.settings.itemClass),r=this._videos[n.attr("data-video")],o=r.width||"100%",e=r.height||this._core.$stage.height();"youtube"===r.type?t='<iframe width="'+o+'" height="'+e+'" src="http://www.youtube.com/embed/'+r.id+"?autoplay=1&v="+r.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===r.type&&(t='<iframe src="http://player.vimeo.com/video/'+r.id+'?autoplay=1" width="'+o+'" height="'+e+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),n.addClass("owl-video-playing"),this._playing=n,t=d('<div style="height:'+e+"px; width:"+o+'px" class="owl-video-frame">'+t+"</div>"),i.after(t)},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&d(e).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),!(e&&this._fullscreen&&this._playing)&&(this._fullscreen?this._fullscreen=!1:!this._playing||this._core.state.orientation===t.orientation||(this._core.state.orientation=t.orientation,!1))},n.prototype.destroy=function(){var e,t;for(e in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},d.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(s){function t(e){this.core=e,this.core.options=s.extend({},t.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":s.proxy(function(e){"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":s.proxy(function(e){this.swapping="translated"==e.type},this),"translate.owl.carousel":s.proxy(function(e){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)}t.Defaults={animateOut:!1,animateIn:!1},t.prototype.swap=function(){var e,t,i,n,r,o;1===this.core.settings.items&&this.core.support3d&&(this.core.speed(0),t=s.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,o=this.core.settings.animateOut,this.core.current()!==this.previous&&(o&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.css({left:e+"px"}).addClass("animated owl-animated-out").addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t)),r&&n.addClass("animated owl-animated-in").addClass(r).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t)))},t.prototype.clear=function(e){s(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},t.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},s.fn.owlCarousel.Constructor.Plugins.Animate=t}(window.Zepto||window.jQuery,(window,document)),function(t,i,n){function r(e){this.core=e,this.core.options=t.extend({},r.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":t.proxy(function(){this.autoplay()},this),"play.owl.autoplay":t.proxy(function(e,t,i){this.play(t,i)},this),"stop.owl.autoplay":t.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)}r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},r.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(i.clearInterval(this.interval),this.interval=i.setInterval(t.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):i.clearInterval(this.interval)},r.prototype.play=function(e,t){!0!==n.hidden&&(this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion||(!1!==this.core.settings.autoplay?this.core.next(this.core.settings.autoplaySpeed):i.clearInterval(this.interval)))},r.prototype.stop=function(){i.clearInterval(this.interval)},r.prototype.pause=function(){i.clearInterval(this.interval)},r.prototype.destroy=function(){var e,t;for(e in i.clearInterval(this.interval),this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(r){"use strict";function t(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":r.proxy(function(e){this._core.settings.dotsData&&this._templates.push(r(e.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":r.proxy(function(e){this._core.settings.dotsData&&this._templates.splice(e.position,0,r(e.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":r.proxy(function(e){this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"change.owl.carousel":r.proxy(function(e){var t,i,n;"position"==e.property.name&&(this._core.state.revert||this._core.settings.loop||!this._core.settings.navRewind||(t=this._core.current(),i=this._core.maximum(),n=this._core.minimum(),e.data=e.property.value>i?i<=t?n:i:e.property.value<n?i:e.property.value))},this),"changed.owl.carousel":r.proxy(function(e){"position"==e.property.name&&this.draw()},this),"refreshed.owl.carousel":r.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=r.extend({},t.Defaults,this._core.options),this.$element.on(this._handlers)}t.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},t.prototype.initialize=function(){var e,t,i=this._core.settings;for(t in i.dotsData||(this._templates=[r("<div>").addClass(i.dotClass).append(r("<span>")).prop("outerHTML")]),i.navContainer&&i.dotsContainer||(this._controls.$container=r("<div>").addClass(i.controlsClass).appendTo(this.$element)),this._controls.$indicators=i.dotsContainer?r(i.dotsContainer):r("<div>").hide().addClass(i.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",r.proxy(function(e){var t=(r(e.target).parent().is(this._controls.$indicators)?r(e.target):r(e.target).parent()).index();e.preventDefault(),this.to(t,i.dotsSpeed)},this)),e=i.navContainer?r(i.navContainer):r("<div>").addClass(i.navContainerClass).prependTo(this._controls.$container),this._controls.$next=r("<"+i.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(i.navClass[0]).html(i.navText[0]).hide().prependTo(e).on("click",r.proxy(function(e){this.prev(i.navSpeed)},this)),this._controls.$next.addClass(i.navClass[1]).html(i.navText[1]).hide().appendTo(e).on("click",r.proxy(function(e){this.next(i.navSpeed)},this)),this._overrides)this._core[t]=r.proxy(this[t],this)},t.prototype.destroy=function(){var e,t,i,n;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.prototype.update=function(){var e,t,i=this._core.settings,n=this._core.clones().length/2,r=n+this._core.items().length,o=i.center||i.autoWidth||i.dotData?1:i.dotsEach||i.items;if("page"!==i.slideBy&&(i.slideBy=Math.min(i.slideBy,i.items)),i.dots||"page"==i.slideBy)for(this._pages=[],e=n,t=0;e<r;e++)(o<=t||0===t)&&(this._pages.push({start:e-n,end:e-n+o-1}),t=0,0),t+=this._core.mergers(this._core.relative(e))},t.prototype.draw=function(){var e,t="",i=this._core.settings,n=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!i.nav||i.loop||i.navRewind||(this._controls.$previous.toggleClass("disabled",n<=0),this._controls.$next.toggleClass("disabled",n>=this._core.maximum())),this._controls.$previous.toggle(i.nav),this._controls.$next.toggle(i.nav),i.dots){if(n=this._pages.length-this._controls.$indicators.children().length,i.dotData&&0!=n){for(e=0;e<this._controls.$indicators.children().length;e++)t+=this._templates[this._core.relative(e)];this._controls.$indicators.html(t)}else 0<n?(t=new Array(1+n).join(this._templates[0]),this._controls.$indicators.append(t)):n<0&&this._controls.$indicators.children().slice(n).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(r.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(i.dots)},t.prototype.onTrigger=function(e){var t=this._core.settings;e.page={index:r.inArray(this.current(),this._pages),count:this._pages.length,size:t&&(t.center||t.autoWidth||t.dotData?1:t.dotsEach||t.items)}},t.prototype.current=function(){var t=this._core.relative(this._core.current());return r.grep(this._pages,function(e){return e.start<=t&&e.end>=t}).pop()},t.prototype.getPosition=function(e){var t,i,n=this._core.settings;return"page"==n.slideBy?(t=r.inArray(this.current(),this._pages),i=this._pages.length,e?++t:--t,t=this._pages[(t%i+i)%i].start):(t=this._core.relative(this._core.current()),i=this._core.items().length,e?t+=n.slideBy:t-=n.slideBy),t},t.prototype.next=function(e){r.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},t.prototype.prev=function(e){r.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},t.prototype.to=function(e,t,i){i?r.proxy(this._overrides.to,this._core)(e,t):(i=this._pages.length,r.proxy(this._overrides.to,this._core)(this._pages[(e%i+i)%i].start,t))},r.fn.owlCarousel.Constructor.Plugins.Navigation=t}(window.Zepto||window.jQuery,(window,document)),function(i,n){"use strict";function t(e){this._core=e,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":i.proxy(function(){"URLHash"==this._core.settings.startPosition&&i(n).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":i.proxy(function(e){var t=i(e.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[t]=e.content},this)},this._core.options=i.extend({},t.Defaults,this._core.options),this.$element.on(this._handlers),i(n).on("hashchange.owl.navigation",i.proxy(function(){var e=n.location.hash.substring(1),t=this._core.$stage.children(),t=this._hashes[e]&&t.index(this._hashes[e])||0;if(!e)return!1;this._core.to(t,!1,!0)},this))}t.Defaults={URLhashListener:!1},t.prototype.destroy=function(){var e,t;for(e in i(n).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},i.fn.owlCarousel.Constructor.Plugins.Hash=t}(window.Zepto||window.jQuery,window,document),$(document).ready(function(){$(".owl-carousel").owlCarousel({loop:!0,margin:1,nav:!1,dots:!0,animateOut:"fadeOut",autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,responsive:{320:{items:1},748:{items:1},940:{items:1}}}),$(window).on("scroll resize",function(){var e=$(window).scrollTop()/($(document).height()-$(window).height());$(".progress__bar").css({width:(100*e|0)+"%"}),$(window).scrollTop()<460||$(window).width()<748?$(".back__top").hide(700):$(".back__top").show(700),($(window).scrollTop()<460||$(window).width()<748)&&($(".easy123__part:eq(0)").delay(500).animate({opacity:1},"slow"),$(".easy123__part:eq(1)").delay(1500).animate({opacity:1},"slow"),$(".easy123__part:eq(2)").delay(2500).animate({opacity:1},"slow"))}),$(".back__up").click(function(){return $("body,html").animate({scrollTop:0},"slow"),!1});for(let e=0;e<6;e++)$("#gallery").append('<img alt="Слон '+(e+1)+'">');jQuery.support.cors=!0;var e,t;e="elephant",$.ajax({url:"https://pixabay.com/api/?key=3641379-74c8a2cbe60ef2c004424aed7&q="+e+"&image_type=photo&orientation=horizontal",dataType:"json",success:function(t){for(let e=0;e<6;e++)$("#gallery img:eq("+e+")").attr({src:t.hits[e].webformatURL,"data-image":t.hits[e].webformatURL});$("#gallery").css("display","none"),$("#gallery").unitegallery({tile_width:260,tile_height:260,theme_gallery_padding:0,theme_carousel_align:"center",theme_carousel_offset:0,gallery_theme:"carousel",gallery_width:"100%",gallery_min_width:260,gallery_background_color:"",carousel_padding:8,carousel_space_between_tiles:15,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,theme_enable_navigation:!0,theme_navigation_position:"bottom",theme_navigation_enable_play:!0,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_navigation_margin:20,theme_space_between_arrows:5})},type:"get"});let o=$("#note"),i;function s(e,t){return 20<(e=Math.abs(e%100))&&(e%=10),t[(4<e||0===e)+(1!==e)]}t=(new Date).getTime(),localStorage.getItem("actionStartTime")?(i=localStorage.getItem("actionStartTime"),3456e5<+t-+i&&(i=(new Date).getTime(),localStorage.setItem("actionStartTime",i))):(i=(new Date).getTime(),localStorage.setItem("actionStartTime",i)),t=+i+3456e5,$("#countdown").countdown({timestamp:t,callback:function(e,t,i,n){var r="До конца акции осталось: <span>";r+=e+s(e,[" день, "," дня, "," дней, "]),r+=t+s(t,[" час, "," часа, "," часов, "]),r+=i+s(i,[" минута."," минуты."," минут."])+"</span>",o.html(r)}}),$(".accordion__content").hide(),$(".active").next().show(),$(".accordion").click(function(){$(this).hasClass("active")||($(this).siblings(".accordion__content").hide("slow"),$(this).next(".accordion__content").show("slow"),$(this).toggleClass("active"),$(this).siblings(".accordion").removeClass("active"))})}),void 0!==g_ugFunctions?g_ugFunctions.registerTheme("carousel"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("carousel")});var g_ugFunctions=new UGFunctions;function UGThumbsGeneral(){var i,n,d,h,r=this,o=jQuery(r),g=new UniteGalleryMain,s=new UGFunctions,c={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!(this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"}),thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},_={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0},t="thumb_size_change";function a(e,t,i,n){var r={width:e+"px",height:t+"px"},e={width:e-_.thumbInnerReduce+"px",height:t-_.thumbInnerReduce+"px"},t=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(!0!==n&&i.css(r),i.children(t).css(e)):(h.children(".ug-thumb-wrapper").css(r),h.find(t).css(e))}function l(e,t,i,n){n=n||!1,g.isFakeFullscreen()&&(n=!0);var r=e.children(".ug-thumb-border-overlay"),e={};e["border-width"]=t+"px",0!=t&&(e["border-color"]=i),n&&!0===n?(r.css(e),0==t?r.hide():r.show()):(0==t?r.stop().fadeOut(c.thumb_transition_duration):r.show().stop().fadeIn(c.thumb_transition_duration),e=e,r.stop(!0).animate(e,{duration:c.thumb_transition_duration,easing:c.thumb_transition_easing,queue:!1}))}function u(e,t,i){var n=e.children(".ug-thumb-overlay"),e=c.thumb_transition_duration;i&&!0===i&&(e=0),t?n.stop(!0).fadeTo(e,_.colorOverlayOpacity):n.stop(!0).fadeTo(e,0)}function p(e,t,i){var n=e.children("img.ug-thumb-image"),r=e.children("img.ug-thumb-image-overlay"),e=c.thumb_transition_duration;i&&!0===i&&(e=0),t?r.stop(!0).fadeTo(e,1):(n.fadeTo(0,1),r.stop(!0).fadeTo(e,0))}function m(e,t){_.isEffectBorder&&l(e,c.thumb_selected_border_width,c.thumb_selected_border_color,t),_.isEffectOverlay&&u(e,1==c.thumb_overlay_reverse,t),_.isEffectImage&&p(e,!1,t),o.trigger(r.events.SETSELECTEDSTYLE,e)}function f(e){1==v(e)?m(e,!0):r.setThumbNormalStyle(e,!0,"redraw")}function b(e,t){var i;1==c.thumb_fixed_size?s.scaleImageCoverParent(t,e):("height"==c.thumb_resize_by?s.scaleImageByHeight(t,c.thumb_height):s.scaleImageByWidth(t,c.thumb_width),i=s.getElementSize(t),s.placeElement(t,0,0),a(i.width,i.height,e)),e.children(".ug-thumb-loader").hide(),t.show(),0==c.thumb_image_overlay_effect?t.fadeTo(0,1):(1==c.thumb_image_overlay_effect&&function(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return;e=s.getElementSize(e),e={width:e.width+"px",height:e.height+"px",left:e.left+"px",top:e.top+"px"};t.css(e),0==_.customThumbs&&t.fadeTo(0,1)}(t),t.fadeTo(0,0),f(e)),o.trigger(r.events.AFTERPLACEIMAGE,e)}function v(e){return!!e.hasClass("ug-thumb-selected")}function y(e,t){t=jQuery(t);r.getItemByThumb(t);var i=s.getElementSize(t);a(i.width,i.height,t,!0),f(t)}function w(e,t,i){objItem=r.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;i=s.getImageOriginalSize(i);objItem.thumbWidth=i.width,objItem.thumbHeight=i.height,objItem.thumbRatioByWidth=i.width/i.height,objItem.thumbRatioByHeight=i.height/i.width}this.init=function(e,t){i=e.getObjects(),g=e,jQuery(e),n=i.g_objWrapper,d=i.g_arrItems,c=jQuery.extend(c,t),_.isEffectBorder=c.thumb_border_effect,_.isEffectOverlay=c.thumb_color_overlay_effect,_.isEffectImage=c.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e){h=e;var t,i=g.getNumItems();1==_.isEffectImage&&(t=function(){var e,t="",i=c.thumb_image_overlay_type.split(",");for(e in i)switch(i[e]){case"bw":t+=" ug-bw-effect";break;case"blur":t+=" ug-blur-effect";break;case"sepia":t+=" ug-sepia-effect"}return t}());for(var n=0;n<i;n++){var r,o,s=d[n],a="",l="<div class='ug-thumb-wrapper"+(a=0==_.customThumbs?" ug-thumb-generated":a)+"' "+("style='z-index:"+(s.index+1)+";'")+"></div>";1==c.thumb_wrapper_as_link&&(r=s.link,l="<a href='"+(r=(o="")==s.link?"javascript:void(0)":r)+"'"+(o=1==c.thumb_link_newpage&&s.link?" target='_blank'":o)+" class='ug-thumb-wrapper"+a+"'></a>");var u,a=jQuery(l),l=s.objThumbImage;0==_.customThumbs&&(1==c.thumb_show_loader&&l&&(u="ug-thumb-loader-dark","bright"==c.thumb_loader_type&&(u="ug-thumb-loader-bright"),a.append("<div class='ug-thumb-loader "+u+"'></div>"),a.append("<div class='ug-thumb-error' style='display:none'></div>")),l&&(l.addClass("ug-thumb-image"),1==c.thumb_image_overlay_effect&&((u=l.clone().appendTo(a)).addClass("ug-thumb-image-overlay "+t).removeClass("ug-thumb-image"),u.fadeTo(0,0),s.objImageOverlay=u),a.append(l))),_.isEffectBorder&&a.append("<div class='ug-thumb-border-overlay'></div>"),_.isEffectOverlay&&a.append("<div class='ug-thumb-overlay'></div>"),h.append(a),_.customThumbs&&_.funcSetCustomThumbHtml(a,s),d[n].objThumbWrapper=a}},this.setThumbNormalStyle=function(e,t,i){1==_.customThumbs&&e.removeClass("ug-thumb-over"),_.isEffectBorder&&l(e,c.thumb_border_width,c.thumb_border_color,t),_.isEffectOverlay&&u(e,1!=c.thumb_overlay_reverse,t),_.isEffectImage&&p(e,!0,t),o.trigger(r.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){1==_.customThumbs&&e.addClass("ug-thumb-over"),_.isEffectBorder&&l(e,c.thumb_over_border_width,c.thumb_over_border_color),_.isEffectOverlay&&u(e,1==c.thumb_overlay_reverse),1==_.isEffectImage&&p(e,!1),o.trigger(r.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(){var e,t;0==_.customThumbs&&(1==c.thumb_fixed_size&&a(c.thumb_width,c.thumb_height),c.thumb_round_corners_radius<=0||(t={"border-radius":c.thumb_round_corners_radius+"px"},h.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(t))),h.children(".ug-thumb-wrapper").each(function(){f(jQuery(this))}),_.isEffectOverlay&&c.thumb_overlay_color&&(e={},s.isRgbaSupported()?(t=s.convertHexToRGB(c.thumb_overlay_color,c.thumb_overlay_opacity),e["background-color"]=t):(e["background-color"]=c.thumb_overlay_color,_.colorOverlayOpacity=c.thumb_overlay_opacity),h.find(".ug-thumb-wrapper .ug-thumb-overlay").css(e))},this.setThumbSelected=function(e){if(1==_.customThumbs&&e.removeClass("ug-thumb-over"),1==v(e))return!0;e.addClass("ug-thumb-selected"),m(e)},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),r.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){c=jQuery.extend(c,e)},this.setThumbInnerReduce=function(e){_.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(_.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");_.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(_.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(_.isEffectBorder=!1),_.isEffectImage=!1,i&&!1===i.allow_onresize&&(_.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return c},this.getNumThumbs=function(){return d.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=r.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(){return h.children(".ug-thumb-wrapper")},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),d[t]},this.isThumbLoaded=function(e){return r.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:c.thumb_width,height:c.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=h.find(".ug-thumb-wrapper");e.on("touchstart",function(){_.touchEnabled=!0,e.off("mouseenter").off("mouseleave")}),1==_.allowOnResize&&n.on(t,y),e.hover(function(e){!function(e){if(1==_.touchEnabled)return objThumbs.off("mouseenter").off("mouseleave");0==v(e)&&r.setThumbOverStyle(e)}(jQuery(this))},function(e){!function(e){if(1==_.touchEnabled)return;0==v(e)&&r.setThumbNormalStyle(e,!1)}(jQuery(this))}),o.on(r.events.THUMB_IMAGE_LOADED,w)},this.destroy=function(){var e=h.find(".ug-thumb-wrapper");e.off("touchstart"),n.off(t),e.off("mouseenter"),e.off("mouseleave"),o.off(r.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=h.find(".ug-thumb-image");s.checkImagesLoaded(e,null,function(e,t){0==t?function(e,t){t=t||!1;var i=jQuery(e);0!=(e=i.parents(".ug-thumb-wrapper")).parent().length&&(objItem=r.getItemByThumb(e),1==objItem.isLoaded&&!1===t||(r.triggerImageLoadedEvent(e,i),1==_.customThumbs?o.trigger(r.events.PLACEIMAGE,[e,i]):b(e,i,objItem)))}(e,!0):function(e){var t=r.getItemByThumb(e);if(t.isLoaded=!0,t.isThumbImageLoaded=!1,1==_.customThumbs)return o.trigger(r.events.IMAGELOADERROR,e);e.children(".ug-thumb-loader").hide(),e.children(".ug-thumb-error").show()}(jQuery(e).parent())})},this.triggerImageLoadedEvent=function(e,t){o.trigger(r.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){h.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){var n,r,o,s,a,l,u,d,h=this,g=new UniteGalleryMain,c=new UGFunctions,_=!1,p=new UGThumbsGeneral,c=new UGFunctions,m={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},f={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},b={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var v={strip_thumbs_align:"top",thumb_resize_by:"width"};function y(){var e=p.getOptions();f.isNotFixedThumbs=!1===e.thumb_fixed_size,_=m.strip_vertical_type}function e(){var e,t,i;p.setHtmlProperties(),e=l.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),e=t.outerHeight(),t=p.getOptions(),0==_?(b.thumbSize=i,1==t.thumb_fixed_size?b.thumbSecondSize=e:b.thumbSecondSize=t.thumb_height,w(a.width()),b.stripInnerSize=l.width()):(b.thumbSize=e,1==t.thumb_fixed_size?b.thumbSecondSize=i:b.thumbSecondSize=t.thumb_width,w(a.height()),b.stripInnerSize=l.height()),function(){{var e,t,i;0==_?(e=b.thumbSecondSize,(t={}).height=e+"px",(i={}).height=e+"px"):(e=b.thumbSecondSize,(t={}).width=e+"px",(i={}).width=e+"px")}a.css(t),l.css(i)}(),I(),0==f.isRunOnce&&(1==m.strip_control_touch&&(d=new UGTouchThumbsControl).init(h),1==m.strip_control_avia&&(u=new UGAviaControl).init(h),x(),p.loadThumbsImages(),p.initEvents(),a.find(".ug-thumb-wrapper").on("click touchend",function(e){!function(e){if(h.isTouchMotionActive())if(1==d.isSignificantPassed())return;e=p.getItemByThumb(e);g.selectItem(e)}(jQuery(this))}),n.on(g.events.ITEM_CHANGE,j),f.isNotFixedThumbs&&jQuery(p).on(p.events.AFTERPLACEIMAGE,P)),f.isRunOnce=!0}function w(e){b.stripSize=e,b.stripActiveSize=0==_?b.stripSize-m.strip_padding_left-m.strip_padding_right:b.stripSize-m.strip_padding_top-m.strip_padding_bottom,b.stripActiveSize<0&&(b.stripActiveSize=0)}function I(){var e,t=l.children(".ug-thumb-wrapper"),n=0,r=0;for(0==_&&(r=m.strip_padding_top),i=0;i<t.length;i++){var o=jQuery(t[i]);if(1==f.isNotFixedThumbs){if(objItem=p.getItemByThumb(o),0==objItem.isLoaded)continue;o.show()}c.placeElement(o,n,r),0==_?n+=o.outerWidth()+m.strip_space_between_thumbs:r+=o.outerHeight()+m.strip_space_between_thumbs}e=0==_?n-m.strip_space_between_thumbs:r-m.strip_space_between_thumbs,e=e,0==_?l.width(e):l.height(e),b.stripInnerSize=e,x(),jQuery(h).trigger(h.events.INNER_SIZE_CHANGE)}function t(e){var t=h.getInnerStripPos(),e=h.fixInnerStripLimits(e=t+e);h.positionInnerStrip(e,!0)}function E(e){e=-1*A(e).min,e=h.fixInnerStripLimits(e);h.positionInnerStrip(e,!0)}function T(e){e=-1*A(e).max+b.stripSize,e=h.fixInnerStripLimits(e);h.positionInnerStrip(e,!0)}function S(e){var t,i,n;0!=C()&&(i={},t=h.getInnerStripPos(),i.minPosThumbs=-1*t+1,i.maxPosThumbs=-1*t+b.stripSize-1,n=i,(t=A(e)).min<n.minPosThumbs?(i=e.prev()).length?E(i):E(e):t.max>n.maxPosThumbs&&((n=e.next()).length?T(n):T(e)))}function x(){1==C()?(u&&u.enable(),d&&d.enable()):(u&&u.disable(),d&&d.disable())}function P(){clearTimeout(f.handle),f.handle=setTimeout(function(){I()},50)}function j(){var e=g.getSelectedItem();p.setThumbSelected(e.objThumbWrapper),S(e.objThumbWrapper)}function C(){return b.stripInnerSize>b.stripActiveSize}function A(e){var t={},e=e.position();return 0==_?(t.min=e.left,t.max=e.left+b.thumbSize):(t.min=e.top,t.max=e.top+b.thumbSize),t}this.setHtml=function(e){e||(e=o,null!=m.parent_container&&(e=m.parent_container)),e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),a=e.children(".ug-thumbs-strip"),l=a.children(".ug-thumbs-strip-inner"),p.setHtmlThumbs(l),1==f.isNotFixedThumbs&&p.hideThumbs()},this.destroy=function(){var e=a.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),n.off(g.events.ITEM_CHANGE),jQuery(p).off(p.events.AFTERPLACEIMAGE),d&&d.destroy(),u&&u.destroy(),p.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(e,t){t=t,r=(e=e).getObjects(),(g=e).attachThumbsPanel("strip",h),n=jQuery(e),o=r.g_objWrapper,s=r.g_arrItems,m=jQuery.extend(m,t),1==(_=m.strip_vertical_type)&&(m=jQuery.extend(m,v),m=jQuery.extend(m,t),t.thumb_resize_by="width"),p.init(e,t),y()},this.run=function(){e()},this.positionInnerStrip=function(e,t){e=0==_?{left:e+"px"}:{top:e+"px"},0==(t=void 0===t?!1:t)?(l.css(e),h.triggerStripMoveEvent()):(h.triggerStripMoveEvent(),l.stop(!0).animate(e,{duration:m.strip_scroll_to_thumb_duration,easing:m.strip_scroll_to_thumb_easing,queue:!1,progress:function(){h.triggerStripMoveEvent()},always:function(){h.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(h).trigger(h.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!d&&d.isTouchActive()},this.isItemThumbVisible=function(e){var t,i,n=e.objThumbWrapper,r=n.position(),e=-1*h.getInnerStripPos();return e<=(0==_?(t=e+b.stripSize,i=r.left,r.left+n.width()):(t=e+b.stripSize,i=r.top,r.top+n.height()))&&i<=t?!0:!1},this.getInnerStripPos=function(){return 0==_?l.position().left:l.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==_?m.strip_padding_left:m.strip_padding_top,e.minPos=-(b.stripInnerSize-b.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=h.getInnerStripLimits();return e=(e=e>t.maxPos?t.maxPos:e)<t.minPos?t.minPos:e},this.scrollForeward=function(){t(-b.stripSize)},this.scrollBack=function(){t(b.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){m=jQuery.extend(m,e),p.setOptions(e),y()},this.setSizeVertical=function(e){if(0==_)throw new Error("setSizeVertical error, the strip size is not vertical");var t=b.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",a.css(i),w(e);e={};e.width=t+"px",e.left="0px",e.top="0px",l.css(e),f.is_placed=!0,x()},this.setSizeHorizontal=function(e){if(1==_)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=b.thumbSecondSize+m.strip_padding_top+m.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",a.css(i),w(e);i=m.strip_padding_left,e={};e.height=t+"px",e.left=i+"px",e.top="0px",l.css(e),f.is_placed=!0,x()},this.setPosition=function(e,t,i,n){c.placeElement(a,e,t,i,n)},this.resize=function(e){0==_?(a.width(e),b.stripActiveSize=e-m.strip_padding_left-m.strip_padding_right):(a.height(e),b.stripActiveSize=e-m.strip_padding_top-m.strip_padding_bottom),w(e),x(),0==C()||(e=h.getInnerStripPos())!=(e=h.fixInnerStripLimits(e))&&h.positionInnerStrip(e,!0),C()||(0==_?c.placeElement(l,m.strip_thumbs_align,0):c.placeElement(l,0,m.strip_thumbs_align)),function(){var e=g.getSelectedItem();if(null==e)return;(e=e.objThumbWrapper)&&S(e)}()},this.setThumbUnselected=function(e){p.setThumbUnselected(e)},this.setCustomThumbs=function(e){p.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=p.getOptions(),e=jQuery.extend(m,e);return{g_gallery:g,g_objGallery:n,g_objWrapper:o,g_arrItems:s,g_objStrip:a,g_objStripInner:l,g_aviaControl:u,g_touchThumbsControl:d,isVertical:_,g_options:e,g_thumbs:p}},this.getObjThumbs=function(){return p},this.getSelectedThumb=function(){var e=g.getSelectedItemIndex();return-1==e?null:p.getThumbByIndex(e)},this.getSizeAndPosition=function(){return c.getElementSize(a)},this.getHeight=function(){return a.outerHeight()},this.getWidth=function(){return a.outerWidth()},this.getSizes=function(){return b},this.isVertical=function(){return _},this.isPlaced=function(){return f.is_placed},this.isMoveEnabled=function(){return C()}}function UGTouchThumbsControl(){var h,t,i,g,n,c,r=new UGFunctions,_={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},p={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};function o(){var e=jQuery.now(),t={};return t.passedTime=p.lastTime-p.startTime,t.lastActiveTime=e-p.buttonReleaseTime,t.passedDistance=p.lastPos-p.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function s(e){return 0==c?r.getMousePosition(e).pageX:r.getMousePosition(e).pageY}function a(){var e=jQuery.now();e-p.lastTime>=_.touch_portion_time&&(p.lastDeltaTime=e-p.lastTime,p.lastDeltaTime>_.touch_portion_time&&(p.lastDeltaTime=_.touch_portion_time),p.lastDeltaPos=p.lastPos-p.lastPortionPos,p.lastPortionPos=p.lastPos,p.lastTime=e)}function m(){p.lastPos=h.getInnerStripPos(),h.triggerStripMoveEvent()}function l(e){if(0==p.loop_active)return 1;e&&(s(e),function(){var e=_.thumb_touch_slowFactor,t=_.minDeltaTime,i=_.minPath,n=h.getInnerStripPos(),r=jQuery.now()-p.lastTime,o=n-p.lastPortionPos;r<t&&0<p.lastDeltaTime&&(r=p.lastDeltaTime,o=p.lastDeltaPos+o);var s=0,a=(s=0<(r=r<t?t:r)?o/r:s)*s/(2*e)*(0<o?1:-1);Math.abs(a)<=i&&(a=0);var l=h.getInnerStripPos(),u=l+a,n=h.fixInnerStripLimits(u),t=h.getInnerStripLimits(),r=_.limitsBreakAddition,o=!1,i=n;u>t.maxPos&&(o=!0,u<(n=r)&&(n=u)),u<t.minPos&&(o=!0,n=(d=t.minPos-r)<u?u:d);var d=n-l,e=Math.abs(Math.round(s/e));0!=a&&(e=e*d/a),l!=n&&(n=1==c?{top:n+"px"}:{left:n+"px"},g.animate(n,{duration:e,easing:_.animationEasing,queue:!0,progress:m})),1==o&&(o=_.returnAnimateSpeed,i=1==c?{top:i+"px"}:{left:i+"px"},g.animate(i,{duration:o,easing:_.returnAnimationEasing,queue:!0,progress:m}))}()),p.loop_active=!1,p.handle=clearInterval(p.handle)}function u(e){return 0==p.isControlEnabled||(p.buttonReleaseTime=jQuery.now(),0==p.touch_active?(l(e),!0):(e.preventDefault(),p.touch_active=!1,l(e),void i.removeClass("ug-dragging")))}function d(e){if(0==p.isControlEnabled)return!0;e.preventDefault(),p.touch_active=!0;var t=s(e);g.stop(!0),e=t,t=h.getInnerStripPos(),p.mousePos=e,p.innerPos=t,p.lastPortionPos=t,p.lastDeltaTime=0,p.lastDeltaPos=0,p.startTime=jQuery.now(),p.startPos=p.innerPos,p.lastTime=p.startTime,p.lastPos=p.startPos,p.speed=0,function(){if(1==p.loop_active)return;p.loop_active=!0,p.handle=setInterval(a,10)}(),i.addClass("ug-dragging")}function f(e){if(0==p.isControlEnabled)return!0;if(0==p.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return p.touch_active=!1,l(e),!0;var t,i=s(e);p.lastPos=h.getInnerStripPos(),e=i,i=p.mousePos-e,e=p.innerPos-i,i=h.getInnerStripLimits(),e>i.maxPos&&(t=e-i.maxPos,e=i.maxPos+t/3),e<i.minPos&&(t=i.minPos-e,e=i.minPos-t/3),h.positionInnerStrip(e),a()}this.enable=function(){p.isControlEnabled=!0},this.disable=function(){p.isControlEnabled=!1},this.init=function(e){t=(h=e).getObjects(),t.g_gallery,t.g_objGallery,i=t.g_objStrip,g=t.g_objStripInner,n=t.g_options,c=t.isVertical,_.thumb_touch_slowFactor=r.normalizeSetting(5e-5,.01,1,100,n.strip_thumb_touch_sensetivity,!0),i.bind("mousedown touchstart",d),jQuery(window).add("body").bind("mouseup touchend",u),jQuery("body").bind("mousemove touchmove",f)},this.isSignificantPassed=function(){var e=o();return 300<e.passedTime||30<e.passedDistanceAbs},this.isTouchActive=function(){return 1==p.touch_active||(1==g.is(":animated")||o().lastActiveTime<50)},this.destroy=function(){i.unbind("mousedown"),i.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){var o,s,n,a,l,t,u,d=new UniteGalleryMain,i=this,r=new UGFunctions;function h(e,t){switch(o.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":i={top:e+"px"}}n.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function g(e){switch(o.orientation){case"right":case"left":r.placeElement(n,e,null);break;case"top":case"bottom":r.placeElement(n,null,e)}}function c(){l.trigger(s.events.FINISH_MOVE)}this.init=function(e,t,i,n,r){o=t,s=i,d=e,a=n,l=r,u=jQuery(d)},this.setHtml=function(e){n=e,1==("strip"==o.panelType?a.strippanel_enable_handle:a.gridpanel_enable_handle)&&((t=new UGPanelHandle).init(s,n,a,o.panelType,d),t.setHtml()),!0===o.isDisabledAtStart&&(n.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){n.children(".ug-overlay-disabled").hide()},o.disabledAtStartTimeout))},this.placeElements=function(){t&&t.placeHandle()},this.initEvents=function(){t&&(t.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){t.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){t.showHandle()}))},this.destroy=function(){t&&(t.destroy(),u.off(d.events.SLIDER_ACTION_START),u.off(d.events.SLIDER_ACTION_END))},this.openPanel=function(e){return e=e||!1,!n.is(":animated")&&(0!=o.isClosed&&(o.isClosed=!1,l.trigger(s.events.OPEN_PANEL),void(!1===e?h(o.originalPos,c):(g(o.originalPos),c()))))},this.closePanel=function(e){if(e=e||!1,n.is(":animated"))return!1;if(1==o.isClosed)return!1;var t=i.getClosedPanelDest();o.isClosed=!0,l.trigger(s.events.CLOSE_PANEL),!1===e?h(t,c):(g(t),c())},this.setClosedState=function(e){o.originalPos=e,l.trigger(s.events.CLOSE_PANEL),o.isClosed=!0},this.setOpenedState=function(e){l.trigger(s.events.OPEN_PANEL),o.isClosed=!1},this.getClosedPanelDest=function(){var e=r.getElementSize(n);switch(o.orientation){case"left":o.originalPos=e.left,t=-o.panelWidth;break;case"right":o.originalPos=e.left;var t=d.getSize().width;break;case"top":o.originalPos=e.top,t=-o.panelHeight;break;case"bottom":o.originalPos=e.top,t=d.getSize().height}return t},this.isPanelClosed=function(){return o.isClosed},this.setDisabledAtStart=function(e){if(e<=0)return!1;o.isDisabledAtStart=!0,o.disabledAtStartTimeout=e}}function UGPanelHandle(){var o,s,i,n=new UGFunctions,a={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};function e(){i.removeClass("ug-button-hover")}function t(e){if(e.stopPropagation(),e.stopImmediatePropagation(),0==n.validateClickTouchstartEvent(e.type))return!0;s.isPanelClosed()?s.openPanel():s.closePanel()}this.init=function(e,t,i,n,r){switch(s=e,o=t,n){case"grid":a.panel_handle_align=i.gridpanel_handle_align,a.panel_handle_offset=i.gridpanel_handle_offset,a.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":a.panel_handle_align=i.strippanel_handle_align,a.panel_handle_offset=i.strippanel_handle_offset,a.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}r=r.getOptions().gallery_skin;""==a.panel_handle_skin&&(a.panel_handle_skin=r)},this.setHtml=function(){var e="ug-panel-handle-tip";switch(s.getOrientation()){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}o.append("<div class='"+e+" ug-skin-"+a.panel_handle_skin+"'></div>"),i=o.children(".ug-panel-handle-tip")},this.initEvents=function(){n.addClassOnHover(i),i.bind("click touchstart",t),jQuery(s).on(s.events.OPEN_PANEL,function(){e(),i.removeClass("ug-button-closed")}),jQuery(s).on(s.events.CLOSE_PANEL,function(){e(),i.addClass("ug-button-closed")})},this.destroy=function(){n.destroyButton(i),jQuery(s).off(s.events.OPEN_PANEL),jQuery(s).off(s.events.CLOSE_PANEL)},this.placeHandle=function(){var e=n.getElementSize(i);!function(){switch(s.getOrientation()){case"right":case"left":"top"!=a.panel_handle_align&&"bottom"!=a.panel_handle_align&&(a.panel_handle_align="top");break;case"bottom":"left"!=a.panel_handle_align&&"right"!=a.panel_handle_align&&(a.panel_handle_align="left");break;case"top":"left"!=a.panel_handle_align&&"right"!=a.panel_handle_align&&(a.panel_handle_align="right")}}();var t=s.getOrientation();switch(t){case"left":n.placeElement(i,"right",a.panel_handle_align,-e.width);break;case"right":n.placeElement(i,-e.width,a.panel_handle_align,0,a.panel_handle_offset);break;case"top":n.placeElement(i,a.panel_handle_align,"bottom",a.panel_handle_offset,-e.height);break;case"bottom":n.placeElement(i,a.panel_handle_align,"top",a.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==i.is(":visible")&&i.hide()},this.showHandle=function(){0==i.is(":visible")&&i.show()}}function UGStripPanel(){var i,n,r,o,s,a=this,l=jQuery(this),u=new UniteGalleryMain,d=new UGFunctions,h=new UGThumbsStrip,g=new UGPanelsBase,c={strippanel_vertical_type:!(this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"}),strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},_={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},p={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},m={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};function e(){1==m.isFirstRun&&0==function(){if(0==c.strippanel_vertical_type){if(0==m.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==m.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==m.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}()||(h.run(),f(),b(),function(){if(1==m.isEventsInited)return;m.isEventsInited=!0,o&&(d.addClassOnHover(o,"ug-button-hover"),d.addClassOnHover(s,"ug-button-hover"),d.setButtonOnClick(s,y),d.setButtonOnClick(o,v),"advance_item"!=c.strippanel_buttons_role?(jQuery(h).on(h.events.STRIP_MOVE,I),jQuery(h).on(h.events.INNER_SIZE_CHANGE,w),i.on(u.events.SIZE_CHANGE,w)):0==u.getOptions().gallery_carousel&&jQuery(u).on(u.events.ITEM_CHANGE,E));g.initEvents()}(),m.isFirstRun=!1,w())}function t(e){var t,i;(e=e||n).append("<div class='ug-strip-panel'></div>"),r=e.children(".ug-strip-panel"),1==c.strippanel_enable_buttons&&(t="ug-strip-arrow-left",i="ug-strip-arrow-right",1==c.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),r.append("<div class='ug-strip-arrow "+t+" ug-skin-"+c.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),r.append("<div class='ug-strip-arrow "+i+" ug-skin-"+c.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")),g.setHtml(r),h.setHtml(r),1==c.strippanel_enable_buttons&&(s=r.children("."+t),o=r.children("."+i)),""!=c.strippanel_background_color&&r.css("background-color",c.strippanel_background_color)}function f(){var e,t,i;0==c.strippanel_vertical_type?(t=h.getHeight(),i=m.panelWidth,o&&(s.height(t),o.height(t),e=s.children(".ug-strip-arrow-tip"),d.placeElement(e,"center","middle"),e=o.children(".ug-strip-arrow-tip"),d.placeElement(e,"center","middle")),t=t+c.strippanel_padding_top+c.strippanel_padding_bottom,r.width(i),r.height(t),m.panelHeight=t,i=i-c.strippanel_padding_left-c.strippanel_padding_right,o&&(i=i-2*o.outerWidth()-2*c.strippanel_padding_buttons),h.resize(i)):(e=h.getWidth(),t=m.panelHeight,o&&(s.width(e),o.width(e),i=s.children(".ug-strip-arrow-tip"),d.placeElement(i,"center","middle"),i=o.children(".ug-strip-arrow-tip"),d.placeElement(i,"center","middle")),e=e+c.strippanel_padding_left+c.strippanel_padding_right,r.width(e),r.height(t),m.panelWidth=e,t=t-c.strippanel_padding_top-c.strippanel_padding_bottom,o&&(t=t-2*o.outerHeight()-2*c.strippanel_padding_buttons),h.resize(t))}function b(){(0==c.strippanel_vertical_type?function(){o&&(d.placeElement(s,"left","top",c.strippanel_padding_left,c.strippanel_padding_top),d.placeElement(o,"right","top",c.strippanel_padding_right,c.strippanel_padding_top));var e=c.strippanel_padding_left;o&&(e+=o.outerWidth()+c.strippanel_padding_buttons),h.setPosition(e,c.strippanel_padding_top)}:function(){o&&(d.placeElement(s,"left","top",c.strippanel_padding_left,c.strippanel_padding_top),d.placeElement(o,"left","bottom",c.strippanel_padding_left,c.strippanel_padding_bottom));var e=c.strippanel_padding_top;o&&(e+=o.outerHeight()+c.strippanel_padding_buttons),h.setPosition(c.strippanel_padding_left,e)})(),g.placeElements()}function v(e){if(d.isButtonDisabled(e))return!0;"advance_item"==c.strippanel_buttons_role?u.nextItem():h.scrollForeward()}function y(e){if(d.isButtonDisabled(e))return!0;"advance_item"==c.strippanel_buttons_role?u.prevItem():h.scrollBack()}function w(){if(!o)return!0;if(0==h.isMoveEnabled())return d.disableButton(s),d.disableButton(o),!0;var e=h.getInnerStripLimits(),t=h.getInnerStripPos();t>=e.maxPos?d.disableButton(s):d.enableButton(s),t<=e.minPos?d.disableButton(o):d.enableButton(o)}function I(){w()}function E(){u.isLastItem()?d.disableButton(o):d.enableButton(o),u.isFirstItem()?d.disableButton(s):d.enableButton(s)}this.destroy=function(){o&&(d.destroyButton(o),d.destroyButton(s),jQuery(h).off(h.events.STRIP_MOVE),jQuery(u).off(u.events.ITEM_CHANGE),jQuery(u).off(u.events.SIZE_CHANGE)),g.destroy(),h.destroy()},this.getOrientation=function(){return m.orientation},this.setOrientation=function(e){m.orientation=e},this.init=function(e,t){t=t,u=e=e,i=jQuery(u),e=!1,1==(c=jQuery.extend(c,t)).strippanel_vertical_type&&(c=jQuery.extend(c,_),e=!0),0==c.strippanel_enable_buttons&&(c=jQuery.extend(c,p),e=!0),1==e&&(c=jQuery.extend(c,t)),t=u.getOptions().gallery_skin,""==c.strippanel_buttons_skin&&(c.strippanel_buttons_skin=t),n=u.getElement(),g.init(u,m,a,c,l),(h=new UGThumbsStrip).init(u,c)},this.run=function(){e()},this.setHtml=function(e){t(e)},this.getElement=function(){return r},this.getSize=function(){return d.getElementSize(r)},this.setWidth=function(e){m.panelWidth=e},this.setHeight=function(e){m.panelHeight=e},this.resize=function(e){a.setWidth(e),f(),b()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return g.isPanelClosed()},this.getClosedPanelDest=function(){return g.getClosedPanelDest()},this.openPanel=function(e){g.openPanel(e)},this.closePanel=function(e){g.closePanel(e)},this.setOpenedState=function(e){g.setOpenedState(e)},this.setClosedState=function(e){g.setClosedState(e)},this.setCustomThumbs=function(e){h.setCustomThumbs(e)},this.setDisabledAtStart=function(e){g.setDisabledAtStart(e)}}function UGGridPanel(){var i,t,u,d,n=this,r=jQuery(this),o=new UniteGalleryMain,h=new UGFunctions,g=new UGThumbsGrid,s=new UGPanelsBase,c={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!(this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"}),gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},a={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},l={gridpanel_grid_align:"center"},_={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};function p(){if(null==_.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function e(){p(),"center"==c.gridpanel_grid_align&&(c.gridpanel_grid_align="middle"),g.run(),function(){var e=!1;(1==c.gridpanel_arrows_always_on||1<g.getNumPanes())&&(e=!0);1==e?(u.show().fadeTo(0,1),d.show().fadeTo(0,1),_.arrowsVisible=!0):(u.hide(),d.hide(),_.arrowsVisible=!1)}(),function(){var e=g.getSize();1==_.isHorType?_.panelHeight=e.height+c.gridpanel_padding_border_top+c.gridpanel_padding_border_bottom:_.panelWidth=e.width+c.gridpanel_padding_border_left+c.gridpanel_padding_border_right;h.setElementSize(t,_.panelWidth,_.panelHeight)}(),function(){(0==_.isHorType?1==c.gridpanel_vertical_scroll?1==_.arrowsVisible?function(){var e,t,i,n,r=h.getElementSize(d),o=g.getSize();switch(c.gridpanel_grid_align){default:case"top":e=c.gridpanel_padding_border_top+r.height+c.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=_.panelHeight-o.height-r.height-c.gridpanel_padding_border_bottom-c.gridpanel_arrows_padding_vert}var s=f(),a=g.getElement();h.placeElement(a,s,e);o=g.getSize();switch(c.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(o.top-r.height)/2,i=o.bottom+(_.panelHeight-o.bottom-r.height)/2,n=0;break;case"grid":t=o.top-r.height-c.gridpanel_arrows_padding_vert_vert,i=o.bottom+c.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=c.gridpanel_padding_border_top,i="bottom",n=c.gridpanel_padding_border_bottom}h.placeElement(d,"center",t),h.placeElement(u,"center",i,0,n)}:b:1==_.arrowsVisible?function(){var e,t,i=h.getElementSize(d),n=g.getSize(),r=c.gridpanel_padding_border_top;switch(c.gridpanel_grid_align){case"middle":switch(c.gridpanel_arrows_align_vert){default:var o=n.height+c.gridpanel_arrows_padding_vert+i.height;r=(_.panelHeight-o)/2;break;case"border":case"borders":var s=_.panelHeight-i.height-c.gridpanel_padding_border_bottom;r=(s-n.height)/2}break;case"bottom":o=n.height+i.height+c.gridpanel_arrows_padding_vert;r=_.panelHeight-o-c.gridpanel_padding_border_bottom}var a=g.getElement(),l=f();h.placeElement(a,l,r);n=g.getSize();switch(c.gridpanel_arrows_align_vert){default:case"center":case"middle":e=n.bottom+(_.panelHeight-n.bottom-i.height)/2,t=0;break;case"grid":e=n.bottom+c.gridpanel_arrows_padding_vert,t=0;break;case"border":case"borders":e="bottom",t=c.gridpanel_padding_border_bottom}l=-i.width/2-c.gridpanel_space_between_arrows/2,h.placeElement(d,"center",e,l,t);l=Math.abs(l);h.placeElement(u,"center",e,l,t)}:b:1==_.arrowsVisible?function(){var e,t,i,n,r=h.getElementSize(d),o=g.getSize();switch(c.gridpanel_grid_align){default:case"left":e=c.gridpanel_padding_border_left+c.gridpanel_arrows_padding_hor+r.width;break;case"middle":case"center":e="center";break;case"right":e=_.panelWidth-o.width-r.width-c.gridpanel_padding_border_right-c.gridpanel_arrows_padding_hor}var s=g.getElement();switch(h.placeElement(s,e,c.gridpanel_padding_border_top),o=g.getSize(),c.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(o.height-r.height)/2+o.top;break;case"top":n=c.gridpanel_padding_border_top+c.gridpanel_arrows_padding_vert;break;case"bottom":n=_.panelHeight-c.gridpanel_padding_border_bottom-c.gridpanel_arrows_padding_vert-r.height}switch(c.gridpanel_arrows_align_hor){default:case"borders":t=c.gridpanel_padding_border_left,i=_.panelWidth-c.gridpanel_padding_border_right-r.width;break;case"grid":t=o.left-c.gridpanel_arrows_padding_hor-r.width,i=o.right+c.gridpanel_arrows_padding_hor;break;case"center":t=(o.left-r.width)/2,i=o.right+(_.panelWidth-o.right-r.width)/2}h.placeElement(d,t,n),h.placeElement(u,i,n)}:function(){var e,t=g.getSize();switch(c.gridpanel_grid_align){default:case"left":e=c.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=_.panelWidth-t.width-c.gridpanel_padding_border_right}var i=g.getElement();h.placeElement(i,e,c.gridpanel_padding_border_top)})();s.placeElements()}(),function(){if(1==_.isEventsInited)return;_.isEventsInited=!0,d&&(h.addClassOnHover(d),g.attachPrevPaneButton(d));u&&(h.addClassOnHover(u),g.attachNextPaneButton(u));s.initEvents()}()}function m(){i.append("<div class='ug-grid-panel'></div>"),t=i.children(".ug-grid-panel"),u=_.isHorType?(t.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+c.gridpanel_arrows_skin+"'></div>"),t.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+c.gridpanel_arrows_skin+"'></div>"),d=t.children(".grid-arrow-left-hortype"),t.children(".grid-arrow-right-hortype")):0==c.gridpanel_vertical_scroll?(t.append("<div class='grid-arrow grid-arrow-left ug-skin-"+c.gridpanel_arrows_skin+"'></div>"),t.append("<div class='grid-arrow grid-arrow-right ug-skin-"+c.gridpanel_arrows_skin+"'></div>"),d=t.children(".grid-arrow-left"),t.children(".grid-arrow-right")):(t.append("<div class='grid-arrow grid-arrow-up ug-skin-"+c.gridpanel_arrows_skin+"'></div>"),t.append("<div class='grid-arrow grid-arrow-down ug-skin-"+c.gridpanel_arrows_skin+"'></div>"),d=t.children(".grid-arrow-up"),t.children(".grid-arrow-down")),s.setHtml(t),d.fadeTo(0,0),u.fadeTo(0,0),g.setHtml(t),""!=c.gridpanel_background_color&&t.css("background-color",c.gridpanel_background_color)}function f(){return c.gridpanel_padding_border_left}function b(){var e=c.gridpanel_grid_align,t=0;switch(e){case"top":t=c.gridpanel_padding_border_top;break;case"bottom":t=c.gridpanel_padding_border_bottom}var i=f(),n=g.getElement();h.placeElement(n,i,e,0,t)}this.destroy=function(){d&&h.destroyButton(d),u&&h.destroyButton(u),s.destroy(),g.destroy()},this.getOrientation=function(){return _.orientation},this.setOrientation=function(e){switch(_.orientation=e){case"right":case"left":_.isHorType=!1;break;case"top":case"bottom":_.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==_.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+_.orientation+"). Please use setWidth");_.panelHeight=e;var t,e=(t=c.gridpanel_padding_border_top+c.gridpanel_padding_border_bottom,e=_.panelHeight-t,0==c.gridpanel_arrows_always_on&&1==g.getNumPanesEstimationByHeight(e)?e:(t=h.getElementSize(u).height+c.gridpanel_arrows_padding_vert,1==c.gridpanel_vertical_scroll&&(t*=2),t+=c.gridpanel_padding_border_top+c.gridpanel_padding_border_bottom,e=_.panelHeight-t));g.setMaxHeight(e)},this.setWidth=function(e){if(0==_.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+_.orientation+"). Please use setHeight");_.panelWidth=e;var t,e=(t=c.gridpanel_padding_border_left+c.gridpanel_padding_border_right,e=_.panelWidth-t,0==c.gridpanel_arrows_always_on&&1==g.getNumPanesEstimationByWidth(e)?e:(t+=2*(h.getElementSize(u).width+c.gridpanel_arrows_padding_hor),e=_.panelWidth-t));g.setMaxWidth(e)},this.init=function(e,t){t=t,o=e=e,p(),t&&t.vertical_scroll&&(c.gridpanel_vertical_scroll=t.vertical_scroll),c=jQuery.extend(c,t),1==_.isHorType?(c=jQuery.extend(c,l),c=jQuery.extend(c,t)):1==c.gridpanel_vertical_scroll&&(c=jQuery.extend(c,a),(c=jQuery.extend(c,t)).grid_panes_direction="bottom"),t=o.getOptions().gallery_skin,""==c.gridpanel_arrows_skin&&(c.gridpanel_arrows_skin=t),e=e.getObjects(),i=e.g_objWrapper,s.init(o,_,n,c,r),(g=new UGThumbsGrid).init(o,c)},this.setHtml=function(){m()},this.run=function(){e()},this.getElement=function(){return t},this.getSize=function(){return h.getElementSize(t)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return s.isPanelClosed()},this.getClosedPanelDest=function(){return s.getClosedPanelDest()},this.openPanel=function(e){s.openPanel(e)},this.closePanel=function(e){s.closePanel(e)},this.setOpenedState=function(e){s.setOpenedState(e)},this.setClosedState=function(e){s.setClosedState(e)},this.setDisabledAtStart=function(e){s.setDisabledAtStart(e)}}function UGThumbsGrid(){var n,r,o,p,m,s=this,a=jQuery(this),l=new UniteGalleryMain,f=new UGFunctions,u=new UGThumbsGeneral,d=new UGTileDesign,b={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1},v={eventSizeChange:"thumb_size_change",isHorizontal:!(this.events={PANE_CHANGE:"pane_change"}),isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};function h(e,t,i){o=e.getObjects(),(l=e).attachThumbsPanel("grid",s),n=jQuery(e),r=o.g_objWrapper,o=o.g_arrItems,!0===i&&(v.isTilesMode=!0),v.numThumbs=o.length,i=t,b=jQuery.extend(b,i),u.setOptions(i),v.isNavigationVertical="top"==b.grid_panes_direction||"bottom"==b.grid_panes_direction,v.spaceBetweenCols=b.grid_space_between_cols,v.spaceBetweenRows=b.grid_space_between_rows,1==v.isTilesMode?(d.setFixedMode(),d.setApproveClickFunction(x),d.init(e,b),i=d.getOptions(),v.tileMaxHeight=i.tile_height,v.tileMaxWidth=i.tile_width,u=d.getObjThumbs()):(t.thumb_fixed_size=!0,u.init(e,t))}function e(){var e,t=l.getSelectedItem();!function(){if(0==v.isHorizontal){if(0==v.gridHeight)throw new Error("You must set height before run.")}else if(0==v.gridWidth)throw new Error("You must set width before run.")}(),1==v.isFirstTimeRun?(function(){0==v.isTilesMode?(u.initEvents(),p.find(".ug-thumb-wrapper").on("click touchend",P),n.on(l.events.ITEM_CHANGE,M)):d.initEvents();p.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",C),jQuery(window).add("body").bind("mouseup touchend",A)}(),1==v.isTilesMode?(c(),_(),d.run()):(u.setHtmlProperties(),_(),u.loadThumbsImages())):1==v.isTilesMode&&1==c()&&(_(),d.run()),(0==v.isHorizontal?v.isNavigationVertical?function(){var e=m.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,s=0,a=0;v.innerWidth=0,v.numPanes=1,v.arrPanes=[],v.numThumbsInPane=0,v.arrPanes.push(s);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);f.placeElement(u,t,n);var d=u.outerWidth(),u=u.outerHeight();t+=d+v.spaceBetweenCols;d=n+u;r<d&&(r=d),++o>=b.grid_num_cols&&(n+=u+v.spaceBetweenRows,t=s,o=0),1==v.numPanes&&v.numThumbsInPane++,d=n+u;u=a+v.gridHeight;u<d&&(1==v.isMaxHeight&&1==v.numPanes&&(v.gridHeight=r,p.height(v.gridHeight),u=v.gridHeight),n=u+v.spaceBetweenRows,a=n,t=s=0,o=0,i<l-1&&(v.numPanes++,v.arrPanes.push(n)))}m.height(r),v.innerHeight=r,1==v.isMaxHeight&&1==v.numPanes&&(v.gridHeight=r,p.height(r))}:function(){var e=m.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,s=0,a=0;v.innerWidth=0,v.numPanes=1,v.arrPanes=[],v.numThumbsInPane=0,v.arrPanes.push(o);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);f.placeElement(u,t,n);var d=u.outerWidth(),h=u.outerHeight(),u=n+h;a<u&&(a=u);u=(s=s<t?t:s)+d;u>v.innerWidth&&(v.innerWidth=u),t+=d+v.spaceBetweenCols,++r>=b.grid_num_cols&&(n+=h+v.spaceBetweenRows,t=o,r=0),1==v.numPanes&&v.numThumbsInPane++,n+h>v.gridHeight&&(n=0,o=v.innerWidth+v.spaceBetweenCols,t=o,r=0,1==v.isMaxHeight&&1==v.numPanes&&(v.gridHeight=a,p.height(v.gridHeight)),i<l-1&&(v.numPanes++,v.arrPanes.push(o)))}m.width(v.innerWidth),1==v.isMaxHeight&&1==v.numPanes&&(v.gridHeight=a,p.height(a))}:function(){var e=m.children(".ug-thumb-wrapper"),t=b.grid_padding,n=b.grid_padding,r=n,o=t,s=0,a=0,l=0,u=0,d=0;v.innerWidth=0,v.numPanes=1,v.arrPanes=[],v.numThumbsInPane=0,v.arrPanes.push(t-b.grid_padding);var h=e.length;for(i=0;i<h;i++){var g=jQuery(e[i]),c=g.outerWidth(),_=g.outerHeight();o-t+c>v.gridWidth&&(r=0,++d>=b.grid_num_rows?(t=o,r=n,l=d=0,1==v.numPanes&&(v.gridWidth=s+b.grid_padding,p.width(v.gridWidth),v.gridHeight=u+b.grid_padding,p.height(v.gridHeight)),v.numPanes++,v.arrPanes.push(t-b.grid_padding)):(o=t,r=l+v.spaceBetweenRows)),f.placeElement(g,o,r);g=o+c,_=r+_;l<_&&(l=_),u<_&&(u=_),a<_&&(a=_),(g=(s=s<g?g:s)+c)>v.innerWidth&&(v.innerWidth=g),o+=c+v.spaceBetweenCols,1==v.numPanes&&v.numThumbsInPane++}v.innerWidth=s+b.grid_padding,v.innerHeight=u+b.grid_padding,m.width(v.innerWidth),m.height(v.innerHeight),1==v.numPanes&&(v.gridWidth=s+b.grid_padding,v.gridHeight=u+b.grid_padding,p.width(v.gridWidth),p.height(v.gridHeight))})(),1==v.isFirstTimeRun&&v.isTilesMode&&((e=u.getThumbs()).each(function(e,t){r.trigger(v.eventSizeChange,jQuery(t))}),e.fadeTo(0,1)),null!=t&&y(t.index),a.trigger(s.events.PANE_CHANGE,v.currentPane),v.isFirstTimeRun=!1}function g(){return 1==v.isTilesMode?d.getGlobalTileSize():u.getGlobalThumbSize()}function c(){if(0==v.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=l.isMobileMode(),i=v.spaceBetweenCols;1==t?(v.spaceBetweenCols=b.grid_space_between_mobile,v.spaceBetweenRows=b.grid_space_between_mobile):(v.spaceBetweenCols=b.grid_space_between_cols,v.spaceBetweenRows=b.grid_space_between_rows),v.spaceBetweenCols!=i&&(e=!0);t=g().width,i=v.tileMaxWidth;return f.getNumItemsInSpace(v.gridWidth,v.tileMaxWidth,v.spaceBetweenCols)<b.grid_min_cols&&(i=f.getItemSizeInSpace(v.gridWidth,b.grid_min_cols,v.spaceBetweenCols)),d.setTileSizeOptions(i),e=i!=t?!0:e}function _(){var e,t;0==v.isHorizontal?(e=g().width,t=b.grid_num_cols*e+(b.grid_num_cols-1)*v.spaceBetweenCols+2*b.grid_padding,e=v.gridHeight,v.gridWidth=t,f.setElementSize(p,t,e),f.setElementSize(m,t,e),v.innerWidth=t,v.innerHeight=e):(t=g().height,e=v.gridWidth,t=b.grid_num_rows*t+(b.grid_num_rows-1)*v.spaceBetweenRows+2*b.grid_padding,v.gridHeight=t,f.setElementSize(p,e,t),f.setElementSize(m,e,t),v.innerWidth=e,v.innerHeight=t)}function y(e){e=T(e);-1!=e&&s.gotoPane(e,"scroll")}function w(e){e=I(e);0!=e&&m.stop(!0).animate(e,{duration:b.grid_transition_duration,easing:b.grid_transition_easing,queue:!1})}function t(){w(-v.arrPanes[v.currentPane])}function I(e){var t={};return 1==v.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function E(){var e=f.getElementSize(m);return 1==v.isNavigationVertical?e.top:e.left}function T(e){return 0==function(e){if(e<0||e>=v.numThumbs)throw new Error("Thumb not exists: "+e);return!0}(e)?-1:Math.floor(e/v.numThumbsInPane)}function S(){var e=f.getStoredEventData(v.storedEventID),t=E();diffPos=Math.abs(e.startInnerPos-t);t=1==v.isNavigationVertical?v.gridHeight:v.gridWidth,t=Math.round(3*t/8);return diffPos>=t||e.diffTime<300&&25<diffPos}function x(){return 1==v.numPanes||f.isApproveStoredEventClick(v.storedEventID,v.isNavigationVertical)}function P(e){if(1==function(){if(1==v.numPanes)return!1;var e=f.getStoredEventData(v.storedEventID),t=e.diffTime,i=E();return 30<(e=Math.abs(i-e.startInnerPos))||5<e&&300<t}())return!0;var t=jQuery(this),t=u.getItemByThumb(t);l.selectItem(t)}function j(e){if(1==v.numPanes)return!0;if(1==v.touchActive)return!0;0==v.isTilesMode&&e.preventDefault(),v.touchActive=!0;var t={startInnerPos:E()};f.storeEventData(e,v.storedEventID,t)}function C(e){if(0==v.touchActive)return!0;e.preventDefault(),f.updateStoredEventData(e,v.storedEventID);var t=f.getStoredEventData(v.storedEventID,v.isNavigationVertical);if(0!=b.grid_vertical_scroll_ondrag&&(1!=v.isNavigationVertical&&"vert"===f.handleScrollTop(v.storedEventID)))return!0;var i=t.diffMousePos,n=t.startInnerPos+i,r=0<i?"prev":"next",e=v.arrPanes[v.numPanes-1];0==b.grid_carousel&&0<n&&"prev"==r&&(n/=3),0==b.grid_carousel&&n<-e&&"next"==r&&(n=t.startInnerPos+i/3),0!=(n=I(n=n))&&m.css(n)}function A(e){if(0==v.touchActive)return!0;f.updateStoredEventData(e,v.storedEventID);e=f.getStoredEventData(v.storedEventID,v.isNavigationVertical);if(v.touchActive=!1,0==S())return t(),!0;"next"==(0<E()-e.startInnerPos?"prev":"next")?0==b.grid_carousel&&s.isLastPane()?t():s.nextPane():0==b.grid_carousel&&s.isFirstPane()?t():s.prevPane()}function M(){var e=l.getSelectedItem();u.setThumbSelected(e.objThumbWrapper),y(e.index)}this.destroy=function(){var e;0==v.isTilesMode?((e=p.find(".ug-thumb-wrapper")).off("click"),e.off("touchend"),n.on(l.events.ITEM_CHANGE),u.destroy()):d.destroy(),p.unbind("mousedown"),p.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),a.off(s.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){u.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return T(e.index)==v.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){var t;t=1==v.isTilesMode?b.tile_height:u.getOptions().thumb_height;var i=u.getNumThumbs(),i=Math.ceil(i/b.grid_num_cols),i=i*t+(i-1)*v.spaceBetweenRows;return Math.ceil(i/e)},this.getNumPanesEstimationByWidth=function(e){var t;t=v.isTilesMode?b.tile_width:u.getOptions().thumb_width;var i=u.getNumThumbs(),i=Math.ceil(i/b.grid_num_rows),i=i*t+(i-1)*v.spaceBetweenCols;return Math.ceil(i/e)},this.getHeightEstimationByWidth=function(e){if(0==v.isTilesMode)throw new Error("This function works only with tiles mode");var t=u.getNumThumbs(),e=f.getNumItemsInSpace(e,b.tile_width,v.spaceBetweenCols),e=Math.ceil(t/e);e>b.grid_num_rows&&(e=b.grid_num_rows);e=f.getSpaceByNumItems(e,b.tile_height,v.spaceBetweenRows);return e+=2*b.grid_padding},this.getElement=function(){return p},this.getSize=function(){return f.getElementSize(p)},this.getNumPanes=function(){return v.numPanes},this.isFirstPane=function(){return 0==v.currentPane},this.isLastPane=function(){return v.currentPane==v.numPanes-1},this.getPaneInfo=function(){return{pane:v.currentPane,total:v.numPanes}},this.getPane=function(){return v.currentPane},this.setWidth=function(e){v.gridWidth=e,v.isHorizontal=!0},this.setMaxWidth=function(e){v.gridWidth=e,v.isMaxWidth=!0,v.isHorizontal=!0},this.setHeight=function(e){v.gridHeight=e,v.isHorizontal=!1},this.setMaxHeight=function(e){v.gridHeight=e,v.isMaxHeight=!0,v.isHorizontal=!1},this.gotoPane=function(e,t){if(0==function(e){if(e>=v.numPanes||e<0)throw new Error("Pane "+index+" doesn't exists.");return!0}(e))return!1;if(e==v.currentPane)return!1;var i=-v.arrPanes[e];v.currentPane=e,w(i),a.trigger(s.events.PANE_CHANGE,e)},this.nextPane=function(){var e=v.currentPane+1;if(e>=v.numPanes){if(0==b.grid_carousel)return!0;e=0}s.gotoPane(e,"next")},this.prevPane=function(){var e=v.currentPane-1;if(e<0&&(e=v.numPanes-1,0==b.grid_carousel))return!1;s.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){if(f.setButtonOnClick(e,s.nextPane),1==b.grid_carousel)return!0;s.isLastPane()&&e.addClass("ug-button-disabled"),a.on(s.events.PANE_CHANGE,function(){s.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")})},this.attachPrevPaneButton=function(e){if(f.setButtonOnClick(e,s.prevPane),1==b.grid_carousel)return!0;s.isFirstPane()&&e.addClass("ug-button-disabled"),a.on(s.events.PANE_CHANGE,function(){s.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")})},this.attachBullets=function(i){i.setActive(v.currentPane),jQuery(i).on(i.events.BULLET_CLICK,function(e,t){s.gotoPane(t,"theme"),i.setActive(t)}),jQuery(s).on(s.events.PANE_CHANGE,function(e,t){i.setActive(t)})},this.getObjTileDesign=function(){return d},this.init=function(e,t,i){h(e,t,i)},this.run=function(){e()},this.setHtml=function(e){(e=(e=e)||r).append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),p=e.children(".ug-thumbs-grid"),m=p.children(".ug-thumbs-grid-inner"),1==v.isTilesMode?d.setHtml(m):u.setHtmlThumbs(m)}}function UGTiles(){var n,r,d,h,_,o=this,s=jQuery(this),a=new UniteGalleryMain,g=new UGFunctions,c=new UGTileDesign,b=new UGThumbsGeneral,l={},v={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0},u={isFixedMode:!(this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"}),isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isAllLoaded:!1},p={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};function i(e,t){g_objects=e.getObjects(),a=e,n=jQuery(e),r=g_objects.g_objWrapper,g_objects.g_arrItems,v=jQuery.extend(v,t),function(){v.tiles_min_columns<1&&(v.tiles_min_columns=1);0!=v.tiles_max_columns&&v.tiles_max_columns<v.tiles_min_columns&&(v.tiles_max_columns=v.tiles_min_columns)}(),c.init(e,v),b=c.getObjThumbs()}function m(){var e;d.addClass("ug-tiles-rest-mode"),u.isTransInited=!0,1==v.tiles_enable_transition&&(d.addClass("ug-tiles-transit"),1==(e=c.getOptions()).tile_enable_image_effect&&0==e.tile_image_effect_reverse&&d.addClass("ug-tiles-transit-overlays"),u.isTransActive=!0)}function y(){return g.getElementSize(d).width}function f(){0!=u.isTransInited&&(d.addClass("ug-tiles-transition-active"),d.removeClass("ug-tiles-rest-mode"),0!=u.isTransActive&&c.disableEvents())}function e(){0!=u.isTransInited&&(d.removeClass("ug-tiles-transition-active"),d.addClass("ug-tiles-rest-mode"))}function w(){1==u.isTransActive?(setTimeout(function(){c.enableEvents(),c.triggerSizeChangeEventAllTiles(),e()},800),u.handle&&clearTimeout(u.handle),u.handle=setTimeout(function(){e(),c.triggerSizeChangeEventAllTiles(),u.handle=null},2e3)):(c.triggerSizeChangeEventAllTiles(),e())}function I(){l.colWidth=(l.availWidth-l.colGap*(l.numCols-1))/l.numCols,l.colWidth=Math.floor(l.colWidth),l.totalWidth=g.getSpaceByNumItems(l.numCols,l.colWidth,l.colGap)}function E(){var e;switch(l.colWidth=v.tiles_col_width,l.minCols=v.tiles_min_columns,l.maxCols=v.tiles_max_columns,0==a.isMobileMode()?l.colGap=v.tiles_space_between_cols:l.colGap=v.tiles_space_between_cols_mobile,l.galleryWidth=y(),l.availWidth=l.galleryWidth,1==v.tiles_include_padding&&(l.availWidth=l.galleryWidth-2*l.colGap),1==v.tiles_exact_width?(l.numCols=g.getNumItemsInSpace(l.availWidth,l.colWidth,l.colGap),0<l.maxCols&&l.numCols>l.maxCols&&(l.numCols=l.maxCols),l.numCols<l.minCols?(l.numCols=l.minCols,I()):l.totalWidth=l.numCols*(l.colWidth+l.colGap)-l.colGap):((e=g.getNumItemsInSpaceRound(l.availWidth,l.colWidth,l.colGap))<l.minCols?e=l.minCols:0!=l.maxCols&&e>l.maxCols&&(e=l.maxCols),l.numCols=e,I()),v.tiles_align){case"center":default:l.addX=Math.round((l.galleryWidth-l.totalWidth)/2);break;case"left":l.addX=0;break;case"right":l.addX=l.galleryWidth-l.totalWidth}for(l.maxColHeight=0,l.arrPosx=[],col=0;col<l.numCols;col++){var t=g.getColX(col,l.colWidth,l.colGap);l.arrPosx[col]=t+l.addX}l.colHeights=[0]}function T(e,t,i,n){null==n&&(n=function(){var e=0,t=999999999;for(col=0;col<l.numCols;col++){if(null==l.colHeights[col]||0==l.colHeights[col])return col;l.colHeights[col]<t&&(e=col,t=l.colHeights[col])}return e}());var r=0;if(void 0!==l.colHeights[n]&&(r=l.colHeights[n]),null===(o=c.getTileHeightByWidth(l.colWidth,e,"placeTile"))){if(1==v.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");var o=g.getElementSize(e).height}var s=l.arrPosx[n];g.placeElement(e,s,r);o=r+o;l.colHeights[n]=o+l.colGap,l.maxColHeight<o&&(l.maxColHeight=o),1==t&&e.show().fadeTo(0,1),1==i&&d.height(l.maxColHeight)}function S(e){e=e||!1,E();var t=b.getThumbs();f(),c.resizeAllTiles(l.colWidth,c.resizemode.VISIBLE_ELEMENTS);for(var i=0;i<t.length;i++){var n=void 0;T(jQuery(t[i]),e,!1,n=1==v.tiles_keep_order?g.getColByIndex(l.numCols,i):n)}w();var r=d.height();1==u.isTransActive&&r>l.maxColHeight?setTimeout(function(){d.height(l.maxColHeight)},700):d.height(l.maxColHeight)}function x(e,t){if(!0!==t&&0==(n=(n=e).index(),!0!==a.getItem(n).ordered_placed&&((n=g.getPrevRowSameColIndex(n,l.numCols))<0||!0===a.getItem(n).ordered_placed)))return;var i=e.index(),t=g.getColByIndex(l.numCols,i),n=a.getItem(i);c.resizeTile(e,l.colWidth),T(e,!0,!0,t),n.ordered_placed=!0;n=a.getNumItems(),i=g.getNextRowSameColIndex(i,l.numCols);n<=i||(n=b.getThumbByIndex(i),i=a.getItem(i),b.isThumbLoaded(n),b.isThumbLoaded(n)&&!i.ordered_placed&&x(n,!0))}function P(){var e=b.getThumbs();u.isAllLoaded=!1,E();var t=Math.abs(l.galleryWidth-l.totalWidth);1==v.tiles_set_initial_height&&0==g.isScrollbarExists()&&t<25&&(e.length,t=Math.ceil(e.length/l.numCols)*v.tiles_col_width*.75,d.height(t),E()),e.fadeTo(0,0);var i,n,r,e=jQuery(d).find("img.ug-thumb-image");1==u.isFixedMode?(s.trigger(o.events.TILES_FIRST_PLACED),S(!0),g.checkImagesLoaded(e,function(){m(),s.trigger(o.events.ALL_TILES_LOADED)})):(i=l.numCols,n=l.galleryWidth,r=!1,g.checkImagesLoaded(e,function(){E(),i==l.numCols&&n==l.galleryWidth||S(!1),m(),s.trigger(o.events.ALL_TILES_LOADED)},function(e,t){0==r&&s.trigger(o.events.TILES_FIRST_PLACED),r=!0,e=e,1!=(t=t)&&(e=jQuery(e),t=jQuery(e).parent(),b.triggerImageLoadedEvent(t,e),1==v.tiles_keep_order?x(t):(c.resizeTile(t,l.colWidth),T(t,!0,!0)))}))}function t(){var l=y(),e=b.getThumbs(),u=v.tiles_justified_row_height,d=[],n=0,h=v.tiles_justified_space_between,t=e.length;jQuery.each(e,function(e,t){t=jQuery(t);var i=b.getItemByThumb(t),t=i.thumbWidth;i.thumbHeight!==u&&(t=Math.floor(i.thumbRatioByWidth*u)),d[e]=t,n+=t});var i=Math.ceil(n/l),r=n/(i=t<i?t:i),o=[],s=0,g=[],a=[],c=0,_=0;jQuery.each(e,function(e,t){e=d[e];(_+1)*r<c+e/2&&(g[o.length]=s,o.push(a),a=[],s=0,_++),c+=e,s+=e,a.push(t)}),g[o.length]=s,o.push(a);var p=[],m=[],f=0;return jQuery.each(o,function(e,t){t.length;var i=g[e],n=(t.length-1)*h,i=Math.round(u*((l-n)/i));f+=i,0<e&&(f+=h),m.push(i);var r=i/u,o=[],s=n;jQuery.each(t,function(e,t){t=jQuery(t).index(),t=d[t],t=Math.round(t*r);o[e]=t,s+=t});var a=s-l;jQuery.each(o,function(e,t){return 0!=a&&(a<0?(o[e]=t+1,a++):(o[e]=t-1,a--),void(e==o.length-1&&0!=a&&(o[e]-=a)))}),p[e]=o}),{arrRows:o,arrRowWidths:p,arrRowHeights:m,gap:h,totalHeight:f}}function j(s){s=s||!1;var e=y(),a=t();d.height(a.totalHeight),y()!=e&&(a=t()),f();var l=0,u=0;jQuery.each(a.arrRows,function(e,t){var n=a.arrRowWidths[e],r=a.arrRowHeights[e],o=0;jQuery.each(t,function(e,t){var i=jQuery(t),e=n[e];c.resizeTile(i,e,r,c.resizemode.VISIBLE_ELEMENTS),g.placeElement(i,o,l),u<(o+=e)&&(u=o),o+=a.gap,1==s&&jQuery(t).show()}),l+=r+a.gap}),w()}function C(){var e=y();switch(p.galleryWidth=e,h={},p.colWidth=v.tiles_nested_col_width,p.optimalTileWidth=v.tiles_nested_optimal_tile_width,p.currentGap=v.tiles_space_between_cols,1==a.isMobileMode()&&(p.currentGap=v.tiles_space_between_cols_mobile),null==p.colWidth?p.colWidth=Math.floor(p.optimalTileWidth/p.nestedOptimalCols):p.optimalTileWidth>p.colWidth?p.nestedOptimalCols=Math.ceil(p.optimalTileWidth/p.colWidth):p.nestedOptimalCols=1,p.maxColumns=g.getNumItemsInSpace(e,p.colWidth,p.currentGap),p.colWidth=g.getItemSizeInSpace(e,p.maxColumns,p.currentGap),p.gridY=0,_=[],b.getThumbs().each(function(){var e=function(e){var t,i,n={},r=p.colWidth,o=p.currentGap,s=c.getTileImageSize(e),a=e.index(),l=Math.ceil(function(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}(a)*(+p.nestedOptimalCols/3)+2*p.nestedOptimalCols/3),e=s.width,a=s.height,s=e/a;a<e?(t=l,0==(i=Math.round(t/s))&&(i=1)):(i=l,0==(t=Math.round(i*s))&&(t=1));return n.dimWidth=t,n.dimHeight=i,n.width=t*r+o*(t-1),n.height=i*r+o*(i-1),n.imgWidth=e,n.imgHeight=a,n.left=0,n.top=0,n}(jQuery(this));_.push(e)}),p.optimalTileWidth>p.colWidth?p.nestedOptimalCols=Math.ceil(p.optimalTileWidth/p.colWidth):p.nestedOptimalCols=1,p.totalWidth=p.maxColumns*(p.colWidth+p.currentGap)-p.currentGap,v.tiles_align){case"center":default:p.addX=Math.round((p.galleryWidth-p.totalWidth)/2);break;case"left":p.addX=0;break;case"right":p.addX=p.galleryWidth-p.totalWidth}p.maxGridY=0}function A(e){var t=y();C(),M();var i=p.maxGridY*(p.colWidth+p.currentGap)-p.currentGap;d.height(i),y()!=t&&(C(),M()),0==v.tiles_nested_debug&&function(e){e=e||!1;f();for(var t=0;t<_.length;t++)Q(t,e);d.height(p.maxColHeight),w()}(e)}function M(e){if(1!=v.tiles_nested_debug)for(var t=0;t<_.length;t++)z(t);else!function(e){if(0==e){for(var t=p.currentItem;t<_.length;t++)z(t);p.currentItem=_.length-1}else z(p.currentItem);for(t=0;t<=p.currentItem;t++)Q(t,!0);p.currentItem++}(e=void 0===e||e)}function z(e){p.maxColHeight=0;for(var t=g.getObjectLength(h),i=p.gridY;i<=t+1;i++){for(var n=0;n<p.maxColumns;n++)if(0==D(p.gridY)||0==G(p.gridY,n))return void function(e,t,i){var n=jQuery.extend(!0,{},_[e]),r=n.dimWidth,o=t-n.dimWidth,s=p.nestedOptimalCols;if(t<=n.dimWidth||o<=.33*s||t<=s)L(e,t);else if(o<=s)4<=s?1==N(Math.floor(t/2),i)?L(e,Math.floor(t/2)+1):L(e,Math.floor(t/2)):L(objImage,t);else if(1==N(r,i))switch(s<=r){case!0:L(e,r-1);break;case!1:L(e,r+1)}n=jQuery.extend(!0,{},_[e]);var a=function(e,t,i){var n=p.gridY-1,r=0,o=0,s=1,a=[],l=[];if(a.push(e),0<=n){for(o=0;0<=n;){if(r=h[n][i],void 0!==h[n][i-1]&&h[n][i-1]==h[n][i]||void 0!==h[n][i+t]&&h[n][i+t-1]==h[n][i+t]||h[n][i]!=h[n][i+t-1])return l.push(s),l.push(a),l;o!=r&&(s++,a.push(r)),n--,o=r}return l.push(s),l.push(a),l}return[0,[]]}(e,n.dimWidth,i);if(p.columnsValueToEnableHeightResize<=a[0]&&p.maxColumns>=2*p.nestedOptimalCols){var l=function(e,t){var i=0,n=0,r=t.dimWidth,o=t.dimHeight,s=0,a=0,l=jQuery.map(h,function(e,t){return[e]});if(void 0===l[p.gridY]||void 0===l[p.gridY][e-1])n=0;else for(var u=0;;){if(void 0===h[p.gridY+u]||-1==h[p.gridY+u][e-1])break;s=h[p.gridY+u][e-2],u++,n++}if(void 0===l[p.gridY]||void 0===l[p.gridY][e+r])i=0;else for(u=0;;){if(void 0===h[p.gridY+u]||-1==h[p.gridY+u][e+r])break;a=h[p.gridY+u][e+r+1],u++,i++}t=0,l=0;Math.abs(o-n)<Math.abs(o-i)&&0!=n?(t=n,l=s):0!=i?(t=i,l=a):t=o;return{newHeight:t,idToResize:l}}(i,n),o=H(e,l.newHeight,!0);_[e].dimHeight=o.dimHeight;t=function(e,t){for(var i=0,n=0,r=[],o=0,s=0,a=0;a<e[1].length;a++){var l,u=e[1][a],d=_[e[1][a]];n+=d.dimHeight,0!=a?(i+=d.dimHeight,r.push([u,d.dimHeight])):(l=L(u,t,!0),i+=l.dimHeight,r.push([e[1][a],l.dimHeight]))}o=d.left,s=d.top;for(var h,g=n,c=[],a=r.length-1;0<=a;a--){u=r[a][0];0!=a?(h=Math.max(Math.round(+n/3),Math.floor(r[a][1]*(n/i))),g-=h,(l=H(u,h,!0)).left=o,l.top=s,c.push({tileID:u,sizes:l}),s+=l.dimHeight):((l=H(u,h=g,!0)).left=o,l.top=s,c.push({tileID:u,sizes:l}))}return c}(a,o.dimWidth),s=2<=function(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var r=e[n].sizes,o=-1,s=-1;D(r.top+r.dimHeight)&&p.maxColumns>r.left+r.dimWidth&&(o=h[r.top+r.dimHeight-1][r.left+r.dimWidth],s=h[r.top+r.dimHeight][r.left+r.dimWidth]),o!=s&&t++}for(n=0;n<e.length-1;n++){r=e[n].sizes,o=-1,s=-1;D(r.top+r.dimHeight)&&0<=r.left-1&&(o=h[r.top+r.dimHeight-1][r.left-1],s=h[r.top+r.dimHeight][r.left-1]),o!=s&&i++}return Math.max(i,t)}(t)?!0:!1;l.newHeight>=n.dimHeight&&(n=H(e,l.newHeight,!0));a=function(e,t,i){var n=_[e],r=n.dimHeight,o=(n.dimWidth,n.left),n=n.top,t=(parseInt(n/(p.colWidth+p.currentGap)),parseInt(o/(p.colWidth+p.currentGap)),H(e,r-t+i,!0)),i=[];return i.push({tileID:e,sizes:t}),i}(l.idToResize,l.newHeight,n.dimHeight);n.top=p.gridY,n.left=i,a.push({tileID:e,sizes:n});o=k(a),l=k(t);return o<l||1==s?O(a):O(t)}n.left=i,n.top=p.gridY,_[e]=n,R(e,n,i,p.gridY),p.maxGridY=n.top+n.dimHeight}(e,function(e){var t=e,i=0;if(1==D(p.gridY))for(;0==G(p.gridY,t);)i++,t++;else i=p.maxColumns;return i}(n),n);p.gridY++}}function O(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;_[n]=jQuery.extend(!0,{},i),R(n,i,i.left,i.top)}}function L(e,t,i){i=i||!1;var n=p.colWidth,r=p.currentGap,o=_[e],s=o.imgWidth,e=o.imgHeight;if(dimWidth=t,dimHeight=Math.round(dimWidth/(s/e)),1==i){i=jQuery.extend(!0,{},o);return i.dimWidth=dimWidth,i.dimHeight=dimHeight,i.width=dimWidth*n+r*(dimWidth-1),i.height=dimHeight*n+r*(dimHeight-1),i}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*n+r*(dimWidth-1),o.height=dimHeight*n+r*(dimHeight-1)}function H(e,t,i){var n=_[e],r=n.dimWidth,o=p.colWidth,e=p.currentGap;if(1==(i=i||!1)){i=jQuery.extend(!0,{},n);return i.dimHeight=t,i.width=r*o+e*(r-1),i.height=t*o+e*(t-1),i}n.dimHeight=t,n.width=r*o+e*(r-1),n.height=t*o+e*(t-1)}function k(e){for(var t=0,i=0,n=0;n<e.length;n++){var r=_[e[n].tileID];if(0==r.dimHeight||0==r.height)return;resizeVal=r.dimWidth/r.dimHeight/(r.imgWidth/r.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function N(e,t){var i=p.gridY-1;return!(i<=0||0==D(i))&&h[i][t+e-1]!=h[i][t+e]}function D(e){return void 0!==h[e]}function R(e,t,i,n){for(var r,o=0;o<t.dimHeight;o++)for(var s=0;s<t.dimWidth;s++)0==D(n+o)&&function(e){h[e]=new Object;for(var t=0;t<p.maxColumns;t++)h[e][t]=-1}(n+o),r=i+s,h[n+o][r]=e}function G(e,t){return-1!=h[e][t]}function Q(e,t){var i=b.getThumbByIndex(e),n=_[e],r=n.top*(p.colWidth+p.currentGap),e=p.addX+n.left*(p.colWidth+p.currentGap);c.resizeTile(i,n.width,n.height,c.resizemode.VISIBLE_ELEMENTS),g.placeElement(i,e,r),r+n.height>p.maxColHeight&&(p.maxColHeight=r+n.height),1==t&&i.fadeTo(0,1)}function W(){if(1==u.isFirstTimeRun)return!0;if(0==u.isAllLoaded)return!1;switch(v.tiles_type){case"columns":S(!1);break;case"justified":j(!1);break;case"nested":(1==a.isMobileMode()?S:A)(!1)}}function F(){switch(r.children(".ug-tile").show(),1==u.isFirstTimeRun&&(s.on(o.events.ALL_TILES_LOADED,function(){return 1==u.isAllLoaded||void(u.isAllLoaded=!0)}),n.on(a.events.SIZE_CHANGE,W),c.initEvents()),c.run(),v.tiles_type){default:case"columns":P();break;case"justified":t=jQuery(r).find("img.ug-thumb-image"),i=b.getThumbs(),u.isAllLoaded=!1,i.fadeTo(0,0),g.checkImagesLoaded(t,function(){setTimeout(function(){j(!0),i.fadeTo(0,1),s.trigger(o.events.TILES_FIRST_PLACED),m(),s.trigger(o.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();b.triggerImageLoadedEvent(i,e)});break;case"nested":e=jQuery(r).find("img.ug-thumb-image"),t=b.getThumbs(),u.isAllLoaded=!1,t.fadeTo(0,0),g.checkImagesLoaded(e,function(){(1==a.isMobileMode()?S:A)(!0),s.trigger(o.events.TILES_FIRST_PLACED),m(),s.trigger(o.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();b.triggerImageLoadedEvent(i,e)})}var e,t,i;u.isFirstTimeRun=!1}this.destroy=function(){n.off(a.events.SIZE_CHANGE),c.destroy()},this.setFixedSizeMode=function(){u.isFixedMode=!0,c.setFixedMode()},this.init=function(e,t){i(e,t)},this.setHtml=function(e){!function(e){d=e=e||r;var t=v.tiles_type;e.addClass("ug-tiletype-"+t),c.setHtml(e),e.children(".ug-thumb-wrapper").hide()}(e)},this.getObjTileDesign=function(){return c},this.run=function(){F()}}function UGTileDesign(){var t,n,h=this,r=jQuery(this),g=new UniteGalleryMain,c=new UGFunctions,o=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var _={tile_width:250,tile_height:200,tile_size_by:h.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},s={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},p={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};function a(e,t){g=e,jQuery(e);var i=g.getObjects();n=i.g_objWrapper,g.getArrItems(),_=jQuery.extend(_,s),_=jQuery.extend(_,t),function(){1==_.tile_enable_overlay?(_.thumb_overlay_opacity=_.tile_overlay_opacity,_.thumb_overlay_color=_.tile_overlay_color):0==_.tile_enable_icons?_.thumb_color_overlay_effect=!1:_.thumb_overlay_opacity=0;_.tile_as_link&&(_.thumb_wrapper_as_link=!0,_.thumb_link_newpage=_.tile_link_newpage);1==_.tile_enable_outline&&0==_.tile_enable_border&&(_.tile_enable_outline=!1);p.tileInnerReduce=0,_.tile_enable_border&&(p.tileInnerReduce=2*_.tile_border_width,o.setThumbInnerReduce(p.tileInnerReduce));if(p.isSaparateIcons=!c.isRgbaSupported(),1==_.tile_enable_textpanel){switch(_.tile_textpanel_position){case"top":_.tile_textpanel_align="top";case"bottom":p.isTextpanelOutside=!0,_.tile_textpanel_always_on=!0,_.tile_textpanel_offset=0;break;case"inside_top":_.tile_textpanel_align="top";break;case"middle":_.tile_textpanel_align="middle",_.tile_textpanel_appear_type="fade"}0==_.tile_textpanel_always_on&&(p.isSaparateIcons=!0)}0!=_.tile_textpanel_offset&&(_.tile_textpanel_appear_type="fade",_.tile_textpanel_margin=_.tile_textpanel_offset);"title_and_desc"==_.tile_textpanel_source&&(_.tile_textpanel_enable_description=!0,_.tile_textpanel_desc_style_as_title=!0)}(),o.init(e,_);e=["overlay"];p.funcCustomTileHtml&&(e=[]),o.setCustomThumbs(u,e,{allow_onresize:!1});e=o.getOptions();_=jQuery.extend(_,e),p.ratioByWidth=_.tile_width/_.tile_height,p.ratioByHeight=_.tile_height/_.tile_width,_.tile_size_by==h.sizeby.GLOBAL_RATIO&&p.isTextpanelOutside&&(p.hasImageContainer=!0)}function l(){var e=g.isMobileMode();switch(p.isTextPanelHidden=!1,1==e&&0==_.tile_textpanel_always_on&&(p.isTextPanelHidden=!0),p.isVideoplayIconAlwaysOn=_.tile_videoplay_icon_always_on,_.tile_videoplay_icon_always_on){case"always":p.isVideoplayIconAlwaysOn=!0;break;case"never":p.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":p.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":p.isVideoplayIconAlwaysOn=0==e}}function u(e,t){if(e.addClass("ug-tile"),p.funcCustomTileHtml)return p.funcCustomTileHtml(e,t),!1;var i="";1==p.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>");var n="ug-thumb-image";0!=_.tile_enable_image_effect&&1!=_.tile_image_effect_reverse||(n+=" ug-trans-enabled");var r=c.stripTags(t.title),r=c.htmlentitles(r);i+='<img src="'+c.escapeDoubleSlash(t.urlThumb)+"\" alt='"+r+"' class='"+n+"'>",1==p.hasImageContainer&&(i+="</div>"),e.append(i),_.tile_size_by==h.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);n={};1==_.tile_enable_background&&(n["background-color"]=_.tile_background_color),1==_.tile_enable_border&&(n["border-width"]=_.tile_border_width+"px",n["border-style"]="solid",n["border-color"]=_.tile_border_color,_.tile_border_radius&&(n["border-radius"]=_.tile_border_radius+"px")),1==_.tile_enable_outline&&(n.outline="1px solid "+_.tile_outline_color),1==_.tile_enable_shadow&&(i=_.tile_shadow_h+"px ",i+=_.tile_shadow_v+"px ",i+=_.tile_shadow_blur+"px ",i+=_.tile_shadow_spread+"px ",i+=_.tile_shadow_color,n["box-shadow"]=i),e.css(n);var o,s,n="";if(_.tile_enable_icons?(0==_.tile_as_link&&1==_.tile_enable_action&&(o="ug-button-play ug-icon-zoom",n+="<div class='ug-tile-icon "+(o="image"!=t.type?"ug-button-play ug-icon-play":o)+"' style='display:none'></div>"),(t.link&&1==_.tile_show_link_icon||1==_.tile_as_link)&&(0==_.tile_as_link?(s="",1==_.tile_link_newpage&&(s=" target='_blank'"),n+="<a href='"+t.link+"'"+s+" class='ug-tile-icon ug-icon-link'></a>"):n+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>"),(s=(s=0==(s=p.isSaparateIcons)&&"image"!=t.type&&1==p.isVideoplayIconAlwaysOn?!0:s)?e:e.children(".ug-thumb-overlay")).append(n),0==(o=s.children("."+o)).length?o=null:o.hide(),0==(s=s.children(".ug-icon-link")).length?s=null:s.hide(),s||1!=_.tile_enable_action||e.addClass("ug-tile-clickable")):1==_.tile_enable_action&&e.addClass("ug-tile-clickable"),1==_.tile_enable_image_effect&&(a="",l="<div class='ug-tile-image-overlay"+(a=0==_.tile_image_effect_reverse?" ug-trans-enabled":a)+"' >",s=" ug-"+_.tile_image_effect_type+"-effect",l+='<img src="'+c.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+s+a+"'>",e.append(l+="</div>"),1==_.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)),1==_.tile_enable_textpanel){var a=new UGTextPanel;a.init(g,_,"tile");var l="";1!=_.tile_textpanel_always_on&&1!=p.isTextpanelOutside||(l="ug-trans-enabled"),a.appendHTML(e,l);var u=t.title,d="";switch(_.tile_textpanel_source){case"desc":case"description":u=t.description;break;case"desc_title":""!=t.description&&(u=t.description);break;case"title_and_desc":u=t.title,d=t.description}a.setTextPlain(u,d),0==_.tile_textpanel_always_on&&a.getElement().fadeTo(0,0),e.data("objTextPanel",a),1==_.tile_textpanel_always_on&&f(e).css("z-index",2),1==p.isTextpanelOutside&&(e.append("<div class='ug-tile-cloneswrapper'></div>"),l=e.children(".ug-tile-cloneswrapper"),(a=new UGTextPanel).init(g,_,"tile"),a.appendHTML(l),a.setTextPlain(u,d),e.data("objTextPanelClone",a))}null!==t.addHtml&&e.append(t.addHtml)}function d(e){return e.children(".ug-tile-image-overlay")}function m(e){return e.data("objTextPanel")}function f(e){return e.children(".ug-textpanel")}function b(e){return(e=(1==p.isTextpanelOutside?function(e){if(0==(e=e.find(".ug-tile-cloneswrapper .ug-textpanel")).length)throw new Error("text panel cloned element not found");return e}:f)(e))?c.getElementSize(e).height:0}function v(e){e=e.find(".ug-icon-link");return 0==e.length?null:e}function y(e){e=e.find(".ug-button-play");return 0==e.length?null:e}function w(e){return!!e.hasClass("ug-thumb-over")}function I(e){return e.hasClass("ug-tile-clickable")}function E(e){return 1==_.tile_enable_icons&&1==p.isVideoplayIconAlwaysOn&&"image"!=e.type}function T(e,t,i,n){var r=d(e),o=h.getTileImage(e),s=e.find(".ug-tile-image-overlay img");t-=p.tileInnerReduce,i-=p.tileInnerReduce;var a,l,u=null;1==p.isTextpanelOutside&&(i-=a=b(e),"top"==_.tile_textpanel_position&&(u=a),1==p.hasImageContainer&&(l=e,l=0==p.hasImageContainer?null:l.children(".ug-image-container"),c.setElementSize(l,t,i),null!==u&&c.placeElement(l,0,u))),0==_.tile_enable_image_effect?(c.scaleImageCoverParent(o,t,i),0==p.hasImageContainer&&null!==u&&c.placeElement(o,0,u)):(l="nothing","effect"!=(l=!0===n&&0==p.isTextpanelOutside?1==_.tile_image_effect_reverse?"effect":"image":l)&&(c.setElementSize(r,t,i),null!==u&&c.placeElement(r,0,u),c.scaleImageCoverParent(s,t,i)),"image"!=l&&(1==p.hasImageContainer?c.scaleImageCoverParent(o,t,i):"effect"==l?(c.scaleImageCoverParent(o,t,i),null!==u&&c.placeElement(o,0,u)):c.cloneElementSizeAndPos(s,o,!1,null,u)))}function S(e,t,i,n){var r=null;if(i&&(r=i-p.tileInnerReduce),n&&(n-=p.tileInnerReduce),"clone"==t)return e.data("objTextPanelClone").refresh(!0,!0,r),void(h.getItemByTile(e).textPanelCloneSizeSet=!0);i=m(e);i&&(t=null,1==p.isTextpanelOutside&&(t=b(e)),i.refresh(!1,!0,r,t),1!=_.tile_textpanel_always_on&&"fade"!=_.tile_textpanel_appear_type||(1==p.isTextpanelOutside&&n&&"bottom"==_.tile_textpanel_position?i.positionPanel(n-t):i.positionPanel()))}function x(e){h.getItemByTile(e);var t=y(e),i=v(e),n=c.getElementSize(e);T(e,n.width,n.height),1==_.tile_enable_textpanel&&S(e,"regular",n.width,n.height);var r=n.width-p.tileInnerReduce,o=n.height-p.tileInnerReduce,s=0;1==p.isTextpanelOutside&&(o-=d=b(e),"top"==_.tile_textpanel_position&&(s=d));var a,l,u,d=e.children(".ug-thumb-overlay");c.setElementSizeAndPosition(d,0,s,r,o),(t||i)&&(a=0,1==_.tile_enable_textpanel&&0==p.isTextPanelHidden&&0==p.isTextpanelOutside&&(l=f(e),0<(u=c.getElementSize(l)).height&&(a=Math.floor(u.height/2*-1)))),t&&i?(r=c.getElementSize(t),o=c.getElementSize(i),e=_.tile_space_between_icons,l=r.width+e+o.width,(u=Math.floor((n.width-l)/2))<e&&(e=Math.floor((n.width-r.width-o.width)/3),l=r.width+e+o.width,u=Math.floor((n.width-l)/2)),c.placeElement(t,u,"middle",0,a),c.placeElement(i,u+r.width+e,"middle",0,a)):(t&&c.placeElement(t,"center","middle",0,a),i&&c.placeElement(i,"center","middle",0,a)),t&&t.show(),i&&i.show()}function P(e,t){h.getItemByTile(e);var i=d(e),n=_.thumb_transition_duration;0==_.tile_image_effect_reverse?(e=h.getTileImage(e),t?(e.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)):t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function j(e,t){var i,n,r,o=_.thumb_transition_duration,s=f(e);if(!s)return 1;"slide"==_.tile_textpanel_appear_type?0!=(n=c.getElementSize(s)).width&&(i=-n.height,r={},e="bottom",(n={})[e="inside_top"==_.tile_textpanel_position?"top":e]=i+"px",r[e]="0px",1==t?(s.fadeTo(0,1),0==s.is(":animated")&&s.css(n),r.opacity=1,s.stop(!0).animate(r,o)):s.stop(!0).animate(n,o)):1==t?s.stop(!0).fadeTo(o,1):s.stop(!0).fadeTo(o,0)}function C(e,t,i){var n=_.thumb_transition_duration;i&&!0===i&&(n=0);i=y(e),e=v(e),t=t?1:0;i&&i.stop(!0).fadeTo(n,t),e&&e.stop(!0).fadeTo(n,t)}function e(e,t){var i;t=jQuery(t),_.tile_enable_image_effect&&P(t,!0),1==_.tile_enable_textpanel&&0==_.tile_textpanel_always_on&&0==p.isTextPanelHidden&&j(t,!0),p.isSaparateIcons&&1==_.tile_enable_icons&&(i=1==_.thumb_overlay_reverse,0==E(h.getItemByTile(t))&&C(t,i,!1))}function i(e,t){var i;t=jQuery(t),_.tile_enable_image_effect&&P(t,!1),1==_.tile_enable_textpanel&&0==_.tile_textpanel_always_on&&j(t,!1),1==p.isSaparateIcons&&1==_.tile_enable_icons&&(i=1!=_.thumb_overlay_reverse,0==E(h.getItemByTile(t))?C(t,i,!1):C(t,!0,!0))}function A(e,t,i){if(t=jQuery(t),1==_.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i)return!0;x(t),o.setThumbNormalStyle(t)}function M(e,t,i){x(t),i.fadeTo(0,1),t.data("image_placed",!0)}function z(e){if(1==I(e))return r.trigger(h.events.TILE_CLICK,e),1;var t;0==w(e)&&(t=e,o.getThumbs().not(t).each(function(e,t){o.setThumbNormalStyle(jQuery(t))}),o.setThumbOverStyle(e))}function O(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(p.funcParentApproveClick&&0==p.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==w(t))1==n&&z(t);else{if(0==I(t))return!0;1==n&&r.trigger(h.events.TILE_CLICK,t)}}function L(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),e=!0;return p.funcParentApproveClick&&0==p.funcParentApproveClick()&&(e=!1),0==w(t)?(z(t),!0):1==e?(r.trigger(h.events.TILE_CLICK,t),!1):void 0}function H(e){var t=jQuery(this).parents(".ug-tile");p.funcParentApproveClick&&0==p.funcParentApproveClick()&&e.preventDefault(),0==w(t)&&0==_.tile_as_link&&(e.preventDefault(),z(t))}this.loadTileImage=function(i){var e=h.getTileImage(i);c.checkImagesLoaded(e,null,function(e,t){M(0,i,jQuery(e))})},this.setHtml=function(e){t=e,l(),o.setHtmlThumbs(e)},this.initEvents=function(){o.initEvents(),jQuery(o).on(o.events.SETOVERSTYLE,e),jQuery(o).on(o.events.SETNORMALSTYLE,i),jQuery(o).on(o.events.PLACEIMAGE,M),n.on(p.eventSizeChange,A),t.delegate(".ug-tile .ug-button-play","click",L),t.delegate(".ug-tile","click",O),t.delegate(".ug-tile .ug-icon-link","click",H)},this.destroy=function(){var e;jQuery(o).off(o.events.SETOVERSTYLE),jQuery(o).off(o.events.SETNORMALSTYLE),jQuery(o).off(o.events.PLACEIMAGE),n.off(p.eventSizeChange),1==_.tile_enable_textpanel&&(e=o.getThumbs(),jQuery.each(e,function(e,t){t=m(jQuery(t));t&&t.destroy()})),o.destroy()},this.init=function(e,t,i){a(e,t)},this.setFixedMode=function(){_.tile_size_by=h.sizeby.GLOBAL_RATIO,_.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){p.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){switch(1==p.isTextpanelOutside&&S(e,"clone",t),i=t?i||h.getTileHeightByWidth(t,e,"resizeTile"):(t=_.tile_width,_.tile_height),c.setElementSize(e,t,i),n){default:case h.resizemode.FULL:h.triggerSizeChangeEvent(e,!0);break;case h.resizemode.WRAPPER_ONLY:return!0;case h.resizemode.VISIBLE_ELEMENTS:if(p.funcCustomTileHtml)return h.triggerSizeChangeEvent(e,!0),!0;T(e,t,i,!0),1==_.tile_enable_textpanel&&1==_.tile_textpanel_always_on&&t&&S(e,"regular",t,i)}},this.resizeAllTiles=function(i,n){l();var r=null;_.tile_size_by==h.sizeby.GLOBAL_RATIO&&(r=h.getTileHeightByWidth(i,null,"resizeAllTiles")),o.getThumbs().each(function(e,t){h.resizeTile(jQuery(t),i,r,n)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;n.trigger(p.eventSizeChange,[e,t=t||!1])},this.triggerSizeChangeEventAllTiles=function(t){o.getThumbs().each(function(){var e=jQuery(this);h.triggerSizeChangeEvent(e,t)})},this.disableEvents=function(){o.getThumbs().css("pointer-events","none")},this.enableEvents=function(){o.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){_=jQuery.extend(_,e),o.setOptions(e)},this.setTileSizeOptions=function(e){if(_.tile_size_by!==h.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");_.tile_width=e,_.tile_height=Math.floor(e*p.ratioByHeight)},this.setCustomFunctions=function(e,t){p.funcCustomTileHtml=e,p.funcCustomPositionElements=t},this.run=function(){var e=o.getThumbs();_.tile_size_by==h.sizeby.GLOBAL_RATIO&&h.resizeAllTiles(_.tile_width,h.resizemode.WRAPPER_ONLY),1==_.tile_enable_image_effect&&0==_.tile_image_effect_reverse&&e.children(".ug-thumb-image").fadeTo(0,0),o.setHtmlProperties(),1==_.tile_visible_before_image&&(e.children(".ug-thumb-image").fadeTo(0,0),o.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return o},this.getOptions=function(){return _},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return o.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t,i){var n=function(e){var t=p.ratioByHeight;switch(_.tile_size_by){default:t=p.ratioByHeight;break;case h.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var i=h.getItemByTile(e);if(void 0!==i.thumbRatioByHeight){if(0==i.thumbRatioByHeight)throw trace(i),new Error("the item ratio not inited yet");t=i.thumbRatioByHeight}break;case h.sizeby.CUSTOM:return null}return t}(t);if(null===n)return null;n=Math.floor((e-p.tileInnerReduce)*n)+p.tileInnerReduce;return t&&1==p.isTextpanelOutside&&_.tile_size_by==h.sizeby.IMAGE_RATIO&&(n+=b(t)),n},this.getTileImageSize=function(e){e=h.getItemByTile(e);if(!e.thumbWidth||!e.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:e.thumbWidth,height:e.thumbHeight}},this.getGlobalTileSize=function(){if(_.tile_size_by!=h.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:_.tile_width,height:_.tile_height}}}function UGAviaControl(){var n,t,s,a,l,i,r={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};function o(){if(0==r.is_strip_moving)return!1;var e=n.getInnerStripPos();Math.floor(e)==Math.floor(r.strip_finalPos)&&u();var t,i=Math.abs(r.strip_finalPos-e);i<1?t=i:0<(t=i/4)&&t<1&&(t=1),r.strip_finalPos<e&&(t*=-1),n.positionInnerStrip(e+t)}function u(){0!=r.isStripMoving&&(r.isStripMoving=!1,r.handle_timeout=clearInterval(r.handle_timeout))}this.enable=function(){r.isControlEnabled=!0},this.disable=function(){r.isControlEnabled=!1},this.init=function(e){t=(n=e).getObjects(),t.g_gallery,s=t.g_objStrip,a=t.g_objStripInner,l=t.g_options,i=t.isVertical,jQuery("body").on("touchstart",function(e){return 0==r.isControlEnabled||void(r.touchEnabled=!0)}),jQuery("body").mousemove(function(e){if(0==r.isControlEnabled)return!0;if(1==r.touchEnabled)return jQuery("body").off("mousemove"),!0;r.isMouseInsideStrip=s.ismouseover();var t=n.isTouchMotionActive();1==r.isMouseInsideStrip&&0==t?function(e){e=function(e){return(0==i?function(e){var t=l.strip_padding_left,i=l.strip_padding_right,n=s.width()-t-i,r=a.width();if(r<n)return null;var o=s.offset().left,i=e-o-t,e=l.thumb_width,o=n-l.thumb_width;i<e&&(i=e);o<i&&(i=o);n=(i-e)/(o-e)*(r-n);return n=-1*Math.round(n)+t}:function(e){var t=l.strip_padding_top,i=(l.strip_padding_bottom,s.height()),n=a.height();if(n<i)return null;var r=s.offset().top,o=e-r-t;if(o<0)return null;e=l.thumb_height,r=i-l.thumb_height;o<e&&(o=e);r<o&&(o=r);i=(o-e)/(r-e)*(n-i);return i=-1*Math.round(i)+t})(e)}(e);if(null===e)return;r.is_strip_moving=!0,r.strip_finalPos=e,function(){if(1==r.isStripMoving)return;r.isStripMoving=!0,r.handle_timeout=setInterval(o,10)}()}((e=e,0==i?e.pageX:e.pageY)):u()})},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){var r,o,s,l,a,u,d,i,n,h,t,g,c,_=this,p=jQuery(_),m=new UniteGalleryMain,f=null,b=null,v=null,y=new UGVideoPlayer,w=new UGFunctions,I=null,E=null,T={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!(this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"}),slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},S={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},x={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};function P(e,t,i){m=e,i&&(c=i,t=w.convertCustomPrefixOptions(t,c,"slider")),r=jQuery(e);e=m.getObjects();o=e.g_objWrapper,e.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(T.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==T.slider_progress_indicator_type&&(T=jQuery.extend(T,S)),t&&_.setOptions(t),function(){var e=m.getOptions(),t=e.gallery_skin;""==T.slider_bullets_skin&&(T.slider_bullets_skin=t);""==T.slider_arrows_skin&&(T.slider_arrows_skin=t);""==T.slider_zoompanel_skin&&(T.slider_zoompanel_skin=t);""==T.slider_play_button_skin&&(T.slider_play_button_skin=t);""==T.slider_fullscreen_button_skin&&(T.slider_fullscreen_button_skin=t);T.video_enable_closebutton=T.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(T.slider_zoom_mousewheel=!1)}(),1==T.slider_enable_bullets&&(v=new UGBullets,n={bullets_skin:T.slider_bullets_skin,bullets_space_between:T.slider_bullets_space_between},v.init(m,n)),T.slider_enable_text_panel&&(E=new UGTextPanel).init(m,T,"slider"),T.slider_enable_zoom_panel&&(g=new UGZoomButtonsPanel).init(_,T);var n=m.getGalleryID();y.init(T,!1,n)}function e(){var e;1!=x.isRunOnce&&(x.isRunOnce=!0,T.slider_background_color?(e=T.slider_background_color,1!=T.slider_background_opacity&&(e=w.convertHexToRGB(e,T.slider_background_opacity)),s.css("background-color",e)):1!=T.slider_background_opacity&&(e=w.convertHexToRGB("#000000",T.slider_background_opacity),s.css("background-color",e)),1==T.slider_control_swipe&&(h=new UGTouchSliderControl).init(_,T),1==T.slider_control_zoom&&(t=new UGZoomSliderControl).init(_,T),E&&E.run(),function(){r.on(m.events.ITEM_IMAGE_UPDATED,ae),r.on(m.events.ITEM_CHANGE,Z),v&&jQuery(v).on(v.events.BULLET_CLICK,K);1==T.slider_enable_arrows&&(w.addClassOnHover(n,"ug-arrow-hover"),w.addClassOnHover(i,"ug-arrow-hover"),m.setNextButton(n),m.setPrevButton(i));0==T.slider_controls_always_on&&s.hover(ie,ne);s.on("touchend click",J),p.on(_.events.CLICK,ee),E&&1==x.isTextPanelSaparateHover&&s.hover(G,R);f&&(w.addClassOnHover(f,"ug-button-hover"),m.setPlayButton(f));b&&(w.addClassOnHover(b,"ug-button-hover"),m.setFullScreenToggleButton(b));t&&p.on(_.events.ZOOM_CHANGE,te);g&&g.initEvents();y.initEvents(),jQuery(y).on(y.events.SHOW,oe),jQuery(y).on(y.events.HIDE,se),ue(a),ue(u),ue(d),p.on(_.events.AFTER_PUT_IMAGE,le),s.delegate(".ug-item-wrapper img","mouseenter",function(e){p.trigger(_.events.IMAGE_MOUSEENTER)}),s.delegate(".ug-item-wrapper img","mouseleave",function(e){0==_.isMouseInsideSlideImage(e)&&p.trigger(_.events.IMAGE_MOUSELEAVE)})}())}function j(e,t){var i="ug-type-square",n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",n+="<div class='ug-button-videoplay "+(i="round"==T.slider_videoplay_button_type?"ug-type-round":i)+"' style='display:none'></div>",n+="</div>"}function C(e){e&&(o=e);var t=function(){var e;switch(T.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}"black"==T.slider_loader_color&&(e+=" ug-loader-black");return e}(),e=(m.getOptions(),"<div class='ug-slider-wrapper'>");e+="<div class='ug-slider-inner'>",e+=j(t,1),e+=j(t,2),e+=j(t,3),e+="</div>",1==T.slider_enable_arrows&&(e+="<div class='ug-slider-control ug-arrow-left ug-skin-"+T.slider_arrows_skin+"'></div>",e+="<div class='ug-slider-control ug-arrow-right ug-skin-"+T.slider_arrows_skin+"'></div>"),1==T.slider_enable_play_button&&(e+="<div class='ug-slider-control ug-button-play ug-skin-"+T.slider_play_button_skin+"'></div>"),1==T.slider_enable_fullscreen_button&&(e+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+T.slider_fullscreen_button_skin+"'></div>"),o.append(e+="</div>"),s=o.children(".ug-slider-wrapper"),l=s.children(".ug-slider-inner"),a=l.children(".ug-slide1"),u=l.children(".ug-slide2"),d=l.children(".ug-slide3"),a.data("slidenum",1),u.data("slidenum",2),d.data("slidenum",3),v&&v.appendHTML(s),1==T.slider_enable_arrows&&(i=s.children(".ug-arrow-left"),n=s.children(".ug-arrow-right")),1==T.slider_enable_play_button&&(f=s.children(".ug-button-play")),1==T.slider_enable_fullscreen_button&&(b=s.children(".ug-button-fullscreen")),1==T.slider_enable_progress_indicator&&("bar"==(I=w.initProgressIndicator(T.slider_progress_indicator_type,T,s)).getType()&&"pie"==T.slider_progress_indicator_type&&(T.slider_progress_indicator_type="bar",T=jQuery.extend(T,S)),m.setProgressIndicator(I)),1==T.slider_enable_text_panel&&(E.appendHTML(s),0==T.slider_textpanel_always_on&&(E.getElement().hide().data("isHidden",!0),x.isTextPanelSaparateHover=!0)),1==T.slider_enable_zoom_panel&&g.appendHTML(s),y.setHtml(l)}function A(e){var t=ge(e);w.placeElementInParentCenter(t);e=ce(e);w.placeElementInParentCenter(e)}function M(){var e,t;v&&(objBullets=v.getElement(),w.placeElement(objBullets,T.slider_bullets_align_hor,T.slider_bullets_align_vert,T.slider_bullets_offset_hor,T.slider_bullets_offset_vert),w.placeElement(objBullets,T.slider_bullets_align_hor,T.slider_bullets_align_vert,T.slider_bullets_offset_hor,T.slider_bullets_offset_vert)),1==T.slider_enable_arrows&&(w.placeElement(i,T.slider_arrow_left_align_hor,T.slider_arrow_left_align_vert,T.slider_arrow_left_offset_hor,T.slider_arrow_left_offset_vert),w.placeElement(n,T.slider_arrow_right_align_hor,T.slider_arrow_left_align_vert,T.slider_arrow_right_offset_hor,T.slider_arrow_right_offset_vert)),0==T.slider_controls_always_on&&X(!0),I&&(e=I.getElement(),"bar"==T.slider_progress_indicator_type?(t=s.width(),I.setSize(t),w.placeElement(e,"left",T.slider_progress_indicator_align_vert,0,T.slider_progress_indicator_offset_vert)):w.placeElement(e,T.slider_progress_indicator_align_hor,T.slider_progress_indicator_align_vert,T.slider_progress_indicator_offset_hor,T.slider_progress_indicator_offset_vert)),E&&E.positionPanel(),function(){f&&w.placeElement(f,T.slider_play_button_align_hor,T.slider_play_button_align_vert,T.slider_play_button_offset_hor,T.slider_play_button_offset_vert);b&&w.placeElement(b,T.slider_fullscreen_button_align_hor,T.slider_fullscreen_button_align_vert,T.slider_fullscreen_button_offset_hor,T.slider_fullscreen_button_offset_vert);{var e;g&&(e=g.getElement(),w.placeElement(e,T.slider_zoompanel_align_hor,T.slider_zoompanel_align_vert,T.slider_zoompanel_offset_hor,T.slider_zoompanel_offset_vert))}}(),A(a),A(u),A(d),(m.isMobileMode()?function(){1==T.slider_fullscreen_button_mobilehide&&b&&b.hide();1==T.slider_play_button_mobilehide&&f&&f.hide();1==T.slider_zoompanel_mobilehide&&g&&g.getElement().hide()}:function(){1==T.slider_fullscreen_button_mobilehide&&b&&b.show();1==T.slider_play_button_mobilehide&&f&&f.show();1==T.slider_zoompanel_mobilehide&&g&&g.getElement().show()})()}function z(){var e,t,i=_.getSlidesReference(),n=0,r=_.isSlideHasItem(i.objNextSlide),o=_.isSlideHasItem(i.objPrevSlide);o?(n=i.objPrevSlide.outerWidth(),i.objPrevSlide.css("z-index",1)):i.objPrevSlide.hide(),e=t=n+i.objCurrentSlide.outerWidth(),r?(e=t+i.objNextSlide.outerWidth(),i.objPrevSlide.css("z-index",2)):i.objNextSlide.hide(),i.objCurrentSlide.css("z-index",3),w.placeElement(i.objCurrentSlide,n,0),l.css({left:-n+"px",width:e+"px"}),o&&(w.placeElement(i.objPrevSlide,0,0),w.showElement(i.objPrevSlide)),r&&(w.showElement(i.objNextSlide),w.placeElement(i.objNextSlide,t,0))}function O(e){var t=e.data("index");void 0===t||null==t||(t=m.getItem(t))&&D(e,t)}function L(e){e.stop(!0).hide(100)}function H(e,t,i){var n={};1==T.slider_image_border&&(n["border-style"]="solid",i=function(e,t){if((n=T.slider_image_border_width)<=10)return n;var e=(i=w.getElementSize(e)).width,i=i.height;if(t&&(t.hasOwnProperty("imageWidth")&&(e=t.imageWidth),t.hasOwnProperty("imageHeight")&&(i=t.imageHeight)),e<=0)return n;if(2*n/(i=e<i?e:i)<T.slider_image_border_maxratio)return n;var n=i*T.slider_image_border_maxratio/2;return n=Math.round(n)}(e,i),n["border-width"]=i+"px",n["border-color"]=T.slider_image_border_color,n["border-radius"]=T.slider_image_border_radius),"image"!=t&&1==T.slider_video_constantsize&&(n["background-color"]="#000000"),1==T.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function k(e,t){var i=T.slider_video_constantsize_width,n=T.slider_video_constantsize_height,r=T.slider_video_constantsize_scalemode;return w.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,r)}function N(e,t,i){var n=e.children(".ug-item-wrapper"),r=ge(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var o=t.urlImage,s=e.data("urlImage");e.data("urlImage",o);var a,l,u=_.getScaleMode(e),d=_.getSlideType(e);objPadding=_.getObjImagePadding(),s==o&&!0!==i?(l=n.children("img"),0!=t.imageWidth&&0!=t.imageHeight||m.checkFillImageSize(l,t),a={},H(l,d,a="image"!=d&&1==T.slider_video_constantsize?k(l,t):w.scaleImageFitParent(l,t.imageWidth,t.imageHeight,u,objPadding)),p.trigger(_.events.AFTER_PUT_IMAGE,e)):(l=w.placeImageInsideParent(o,n,t.imageWidth,t.imageHeight,u,objPadding),1==t.isBigImageLoaded?(l.fadeTo(0,1),L(r),a="image"!=d&&1==T.slider_video_constantsize?k(l,t):w.getImageInsideParentData(n,t.imageWidth,t.imageHeight,u,objPadding),l.css("width",a.imageWidth+"px"),H(l,d,a),p.trigger(_.events.AFTER_PUT_IMAGE,e)):(l.fadeTo(0,0),r.stop(!0).show(100),e.data("isLoading",!0),_.isSlideCurrent(e)&&p.trigger(_.events.CURRENTSLIDE_LOAD_START),l.data("itemIndex",t.index),l.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=_.getSlideType(i),r=ge(i),o=_.getObjImagePadding(),s=_.getScaleMode(i);L(r),i.data("isLoading",!1),_.isSlideCurrent(i)&&p.trigger(_.events.CURRENTSLIDE_LOAD_END),m.onItemBigImageLoaded(null,e);r=m.getItem(t),t={};"image"!=n&&1==T.slider_video_constantsize?k(e,r):t=w.scaleImageFitParent(e,r.imageWidth,r.imageHeight,s,o),e.fadeTo(0,1),H(e,n,t),p.trigger(_.events.AFTER_PUT_IMAGE,i)})))}function D(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),void e.removeData("urlImage");e.data("index");e.data("index",t.index),e.data("type",t.type),1==T.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),N(e,t);var n=ce(e);"image"===t.type?n.hide():n.show()}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&m.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function R(){if(!E)return!1;if(1==Q())return!1;var e=E.getElement(),t=0;1!=x.isTextPanelSaparateHover&&1!=T.slider_textpanel_always_on||(t=T.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function G(){if(!E)return!1;if(0==Q())return!1;var e=E.getElement(),t=0;1!=x.isTextPanelSaparateHover&&1!=T.slider_textpanel_always_on||(e.show(),E.positionElements(),t=T.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function Q(){return!1!==E.getElement().data("isHidden")}function W(){var e=_.getCurrentSlide(),t=_.getSlideImage(e),i=w.getElementSize(e),e=i.left,i=i.top;1==T.slider_video_constantsize?(e+=(t=w.getElementSize(t)).left,i+=t.top):(e+=T.slider_video_padding_left,i+=T.slider_video_padding_top),y.setPosition(e,i)}function F(){var e=T.slider_video_constantsize_width,t=T.slider_video_constantsize_height;y.setSize(e,t),H(y.getObject(),"video")}function B(e,t,i){p.trigger(_.events.TRANSITION_START);var n=T.slider_transition;switch(i&&(n=i),_.stopSlideAction(null,!0),n){default:case"fade":U(t);break;case"slide":!function t(e,i){var n=_.isAnimating();if(1==n)return x.itemWaiting=i,!0;null!=x.itemWaiting&&(x.itemWaiting=null);var r=_.getSlidesReference();switch(e){case"right":D(r.objPrevSlide,i),z();var o=w.getElementSize(r.objPrevSlide),s=-o.left;_.switchSlideNums("right");break;case"left":D(r.objNextSlide,i),z();o=w.getElementSize(r.objNextSlide),s=-o.left;_.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var a=T.slider_transition_speed;var n=T.slider_transition_easing;n={duration:a,easing:n,queue:!1,always:function(){var e;_.stopSlideAction(),y.hide(),null!=x.itemWaiting?(e=he(x.itemWaiting),t(e,x.itemWaiting)):(_.placeNabourItems(),p.trigger(_.events.TRANSITION_END))}};l.animate({left:s+"px"},n)}(e,t);break;case"lightbox_open":U(t,!1,!0)}}function Y(e,t,i){i?e.fadeTo(T.slider_transition_speed,t,i):e.fadeTo(T.slider_transition_speed,t)}function U(e,t,i){t=t||!1;var n=_.getSlidesReference();D(n.objNextSlide,e);e=w.getElementSize(n.objCurrentSlide);w.placeElement(n.objNextSlide,e.left,e.top);e=x.numCurrent;x.numCurrent=x.numNext,x.numNext=e,p.trigger(_.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t?(n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),_.placeNabourItems(),p.trigger(_.events.TRANSITION_END),!0!==i&&y.hide()):(n.objNextSlide.fadeTo(0,0),Y(n.objCurrentSlide,0,function(){_.placeNabourItems(),p.trigger(_.events.TRANSITION_END),!0!==i&&y.hide()}),1==y.isVisible()&&Y(y.getObject(),0),Y(n.objNextSlide,1))}function V(){return s.children(".ug-slider-control")}function X(e){var t;0!=w.isTimePassed("sliderControlsToggle")&&0!=x.isControlsVisible&&(e=e||!1,t=V(),!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(T.slider_controls_appear_duration,0,function(){t.hide()}),x.isControlsVisible=!1)}function $(e){if(0!=w.isTimePassed("sliderControlsToggle")){if(1==x.isControlsVisible)return 1;e=e||!1;var t=V();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(T.slider_controls_appear_duration,1)),x.isControlsVisible=!0}}function q(e){if(e!=x.currentControlsMode){switch(e){case"image":g&&g.getElement().show();break;case"video":g&&g.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}x.currentControlsMode=e}}function Z(e,t,i){var n=m.getSelectedItem();_.setItem(n,!1,i);i=n.index;v&&v.setActive(i),E&&0==x.isTextPanelSaparateHover&&G(),"image"==n.type?q("image"):q("video")}function K(e,t){m.selectItem(t)}function J(e){if(h&&0==h.isTapEventOccured(e))return!0;p.trigger(_.events.CLICK,e)}function ee(){var e=_.getCurrentSlide().hasClass("ug-slide-clickable"),t=_.getCurrentItem();if(e)return 0==T.slider_links_newpage?location.href=t.link:window.open(t.link,"_blank"),!0;0==T.slider_controls_always_on&&1==T.slider_controls_appear_ontap&&1==_.isCurrentSlideType("image")&&((0==x.isControlsVisible?$:X)(),E&&1==T.slider_textpanel_always_on&&_.isCurrentSlideType("image")&&_.isCurrentSlideImageFit()&&G())}function te(e){E&&_.isCurrentSlideType("image")&&0==_.isCurrentSlideImageFit()&&R()}function ie(){$()}function ne(){X()}function re(e){e=e.parent();_.startSlideAction(e)}function oe(){m.isPlayMode()&&m.pausePlaying(),p.trigger(_.events.ACTION_START)}function se(){m.isPlayMode()&&m.continuePlaying(),p.trigger(_.events.ACTION_END)}function ae(e,t,i){a.data("index")==t&&(objItem=m.getItem(t),N(a,objItem,!0)),u.data("index")==t&&(objItem=m.getItem(t),N(u,objItem,!0)),d.data("index")==t&&(objItem=m.getItem(t),N(d,objItem,!0))}function le(e,t){t=jQuery(t);var i=_.getSlideImage(t),n=ce(t),t=w.getElementSize(i);w.placeElement(n,"center","middle",t.left,t.top,i)}function ue(e){e=ce(e);w.addClassOnHover(e),w.setButtonOnClick(e,re)}function de(e){switch(e){case 1:return a;case 2:return u;case 3:return d;default:throw new Error("wrong num: "+e)}}function he(e){var t=_.getSlidesReference().objCurrentSlide.data("index");return e.index<t?"right":"left"}function ge(e){return(e=e||_.getCurrentSlide()).children(".ug-slider-preloader")}function ce(e){return e.children(".ug-button-videoplay")}function _e(e){e=(e=e||_.getCurrentSlide()).data("index");return null==e?null:m.getItem(e)}this.switchSlideNums=function(e){switch(p.trigger(_.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=x.numCurrent;x.numCurrent=x.numNext,x.numNext=x.numPrev,x.numPrev=t;break;case"right":t=x.numCurrent;x.numCurrent=x.numPrev,x.numPrev=x.numNext,x.numNext=t;break;default:throw new Error("wrong direction: "+e)}p.trigger(_.events.ITEM_CHANGED)},this.destroy=function(){p.off(_.events.AFTER_PUT_IMAGE),r.off(m.events.ITEM_IMAGE_UPDATED),r.off(m.events.ITEM_CHANGE),v&&jQuery(v).on(v.events.BULLET_CLICK),s.off("mouseenter"),s.off("mouseleave"),s.off("touchend"),s.off("click"),p.off(_.events.CLICK),t&&p.off(_.events.ZOOM_CHANGE),p.off(_.events.BEFORE_SWITCH_SLIDES),jQuery(y).off(y.events.SHOW),jQuery(y).off(y.events.HIDE),y.destroy(),s.undelegate(".ug-item-wrapper img","mouseenter"),s.undelegate(".ug-item-wrapper img","mouseleave")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(e,t,i){P(e,t,i)},this.getSlideImage=function(e){return(e=e||_.getCurrentSlide()).find(".ug-item-wrapper img")},this.setHtml=function(e){C(e)},this.run=function(){e()},this.isInnerInPlace=function(){var e=_.getSlidesReference();return-w.getElementSize(e.objCurrentSlide).left==w.getElementSize(l).left},this.isAnimating=function(){return l.is(":animated")},this.isSlideCurrent=function(e){e=e.data("slidenum");return x.numCurrent==e},this.isSlideHasItem=function(e){e=e.data("index");return null!=e},this.getObjImagePadding=function(){return{padding_top:T.slider_image_padding_top,padding_bottom:T.slider_image_padding_bottom,padding_left:T.slider_image_padding_left,padding_right:T.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:de(x.numPrev),objNextSlide:de(x.numNext),objCurrentSlide:de(x.numCurrent)}},this.getCurrentSlide=function(){return _.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var e=_.getSlidesReference().objCurrentSlide.data("index");return e=null==e?-1:e},this.getCurrentItem=function(){var e=_.getCurrentItemIndex();return-1==e?null:m.getItem(e)},this.getSlideType=function(e){return(e=null==e?_.getCurrentSlide():e).data("type")},this.isMouseInsideSlideImage=function(e){var t=_.getSlideImage(),e=w.getMousePosition(e);void 0===e.pageX&&(e=h.getLastMousePos());e=w.getMouseElementPoint(e,t),t=w.getElementSize(t);return isMouseInside=w.isPointInsideElement(e,t),isMouseInside},this.isCurrentSlideType=function(e){return _.getSlideType()==e},this.isCurrentSlideLoadingImage=function(){return!0===_.getCurrentSlide().data("isLoading")},this.setItem=function(e,t,i){var n=_.getSlidesReference(),r=n.objCurrentSlide.data("index"),o=e.index;if(o==r)return!0;null==r?(D(n.objCurrentSlide,e),_.placeNabourItems()):(n="left",m.getNumItems(),"next"==i?n="left":("prev"==i||o<r||o<r)&&(n="right"),B(n,e,t))},this.placeNabourItems=function(){var e=_.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=m.getPrevItem(t),t=m.getNextItem(t);D(e.objNextSlide,t),D(e.objPrevSlide,i),z()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e=e||_.getCurrentSlide(),!0===t?y.pause():y.hide()},this.startSlideAction=function(e){var t=_e(e=e||_.getCurrentSlide());if("image"==t.type)return!0;switch(1==T.slider_video_constantsize&&F(),W(),y.show(),t.type){case"youtube":y.playYoutube(t.videoid);break;case"vimeo":y.playVimeo(t.videoid);break;case"html5video":y.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":y.playSoundCloud(t.trackid);break;case"wistia":y.playWistia(t.videoid)}},this.getScaleMode=function(e){return e=e||_.getCurrentSlide(),"image"!=_.getSlideType(e)?T.slider_scale_mode_media:T.slider_scale_mode!=T.slider_scale_mode_fullscreen&&1==m.isFullScreen()?T.slider_scale_mode_fullscreen:T.slider_scale_mode},this.getObjects=function(){return{g_objSlider:s,g_objInner:l,g_options:T,g_objZoomSlider:t}},this.getObjZoom=function(){return t},this.getOptions=function(){return T},this.getElement=function(){return s},this.getVideoObject=function(){return y},this.isCurrentSlideImageFit=function(){var e=_.getCurrentSlide();_.getSlideType(e);!function(e,t){if(null==t&&(t=_.getCurrentSlide()),(t=_.getSlideType(t))!=e)throw new Error("Wrong slide type: "+t+", should be: "+e)}("image",e);e=_.getSlideImage(e);return 0!=e.length&&w.isImageFitParent(e)},this.isCurrentImageInPlace=function(){var e=_.getSlideImage();if(0==e.length)return!1;var t=_.getScaleMode(),i=_.getObjImagePadding(),n=_e(),r=e.parent(),t=w.getImageInsideParentData(r,n.imageWidth,n.imageHeight,t,i),i=w.getElementSize(e),e=!1;return e=t.imageWidth==i.width?!0:e},this.isSlideActionActive=function(){return y.isVisible()},this.isSwiping=function(){return!!h&&h.isTouchActive()},this.isPreloading=function(){return!!ge().is(":visible")},this.setOptions=function(e){c&&(e=w.convertCustomPrefixOptions(e,c,"slider")),T=jQuery.extend(T,e)},this.setSize=function(e,t){if(e<0||t<0)return!0;var i={};i.width=e+"px",i.height=t+"px",s.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",l.css(n);var r={};r.height=t+"px",r.width=e+"px",a.css(r),u.css(r),d.css(r);i=e-T.slider_item_padding_left-T.slider_item_padding_right,n=t-T.slider_item_padding_top-T.slider_item_padding_bottom,r={};r.width=i+"px",r.height=n+"px",r.top=T.slider_item_padding_top+"px",r.left=T.slider_item_padding_left+"px",s.find(".ug-item-wrapper").css(r),E&&E.setSizeByParent(),M(),O(a),O(u),O(d),z(),"image"!=_.getSlideType()&&1==T.slider_video_constantsize?F():(e=e-T.slider_video_padding_left-T.slider_video_padding_right,t=t-T.slider_video_padding_top-T.slider_video_padding_bottom,y.setSize(e,t)),W()},this.refreshSlideItems=function(){if(1==_.isAnimating())return!0;O(a),O(u),O(d),z()},this.isMouseOver=function(){return s.ismouseover()},this.setPosition=function(e,t){w.placeElement(s,e,t)},this.zoomIn=function(){if(!t)return!0;t.zoomIn()},this.zoomOut=function(){if(!t)return!0;t.zoomOut()},this.zoomBack=function(){if(!t)return!0;t.zoomBack()}}function UGTextPanel(){var n,r,o,s,a,l,u,d=this,h=new UGFunctions,g="",c={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},_={isFirstTime:!0,setInternalHeight:!0};function i(e,t){t=t=t||c.textpanel_padding_top;o&&(i=t,h.placeElement(o,0,i),t=h.getElementSize(o).bottom);var i="";""!=(i=s?jQuery.trim(s.text()):i)&&(i=t,o&&(i+=c.textpanel_padding_title_description),h.placeElement(s,0,i),t=h.getElementSize(s).bottom),c.textpanel_height||1!=_.setInternalHeight||function(e,t){t=t||!1;1==t?(a&&a.height()<e&&a.height(e),t={height:e+"px"},n.add(l).animate(t,c.textpanel_fade_duration)):(a&&a.height(e),n.add(l).height(e))}(t+c.textpanel_padding_bottom,e)}function p(){var e,t=0;return o&&(t+=o.outerHeight()),!s||(e="")!=(e=s?jQuery.trim(s.text()):e)&&(o&&(t+=c.textpanel_padding_title_description),t+=s.outerHeight()),t}function m(){var e,t;1==c.textpanel_enable_bg&&((a=n.children(".ug-textpanel-bg")).fadeTo(0,c.textpanel_bg_opacity),e={"background-color":c.textpanel_bg_color},e=jQuery.extend(e,c.textpanel_bg_css),a.css(e)),1==c.textpanel_enable_title&&(o=l.children(".ug-textpanel-title"),t={},null!==c.textpanel_title_color&&(t.color=c.textpanel_title_color),null!==c.textpanel_title_font_family&&(t["font-family"]=c.textpanel_title_font_family),null!==c.textpanel_title_text_align&&(t["text-align"]=c.textpanel_title_text_align),null!==c.textpanel_title_font_size&&(t["font-size"]=c.textpanel_title_font_size+"px"),null!==c.textpanel_title_bold&&(!0===c.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),c.textpanel_css_title&&(t=jQuery.extend(t,c.textpanel_css_title)),o.css(t)),1==c.textpanel_enable_description&&(s=l.children(".ug-textpanel-description"),t={},null!==c.textpanel_desc_color&&(t.color=c.textpanel_desc_color),null!==c.textpanel_desc_font_family&&(t["font-family"]=c.textpanel_desc_font_family),null!==c.textpanel_desc_text_align&&(t["text-align"]=c.textpanel_desc_text_align),null!==c.textpanel_desc_font_size&&(t["font-size"]=c.textpanel_desc_font_size+"px"),null!==c.textpanel_desc_bold&&(!0===c.textpanel_desc_bold?t["font-weight"]="bold":t["font-weight"]="normal"),c.textpanel_css_title&&(t=jQuery.extend(t,c.textpanel_css_description)),s.css(t))}function e(){var e=u.getSelectedItem();d.setText(e.title,e.description)}this.positionElements=function(e){if(!c.textpanel_height||"top"==c.textpanel_text_valign)return i(e),!1;switch(c.textpanel_text_valign){default:case"top":i(!1);break;case"bottom":t=p(),i(!1,l.height()-t-c.textpanel_padding_bottom);break;case"center":case"middle":t=p(),i(!1,(l.height()-t)/2)}var t},this.init=function(e,t,i){if(u=e,i&&(g=i,t=h.convertCustomPrefixOptions(t,g,"textpanel")),0==(c=t?jQuery.extend(c,t):c).textpanel_enable_title&&0==c.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");c.textpanel_height&&c.textpanel_height<0&&(c.textpanel_height=null),1==c.textpanel_desc_style_as_title&&(c.textpanel_desc_color||(c.textpanel_desc_color=c.textpanel_title_color),c.textpanel_desc_bold||(c.textpanel_desc_bold=c.textpanel_title_bold),c.textpanel_desc_font_family||(c.textpanel_desc_font_family=c.textpanel_title_font_family),c.textpanel_desc_font_size||(c.textpanel_desc_font_size=c.textpanel_title_font_size),c.textpanel_desc_text_align||(c.textpanel_desc_text_align=c.textpanel_title_text_align))},this.appendHTML=function(e,t){r=e;var i="<div class='ug-textpanel"+(t=t?" "+t:"")+"'>";1==c.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==c.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==c.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),e.append(i+="</div></div>"),n=e.children(".ug-textpanel"),l=n.children(".ug-textpanel-textwrapper"),m()},this.destroy=function(){jQuery(u).off(u.events.ITEM_CHANGE)},this.run=function(){d.setSizeByParent(),jQuery(u).on(u.events.ITEM_CHANGE,e)},this.setPanelSize=function(e,t){_.setInternalHeight=!0,t?_.setInternalHeight=!1:t=80,c.textpanel_height&&(t=c.textpanel_height),n.width(e),n.height(t),a&&(a.width(e),a.height(t));var i=e-c.textpanel_padding_left-c.textpanel_padding_right,e=c.textpanel_padding_left;h.setElementSizeAndPosition(l,e,0,i,t),o&&o.width(i),s&&s.width(i),0==_.isFirstTime&&d.positionElements(!1)},this.setSizeByParent=function(){var e=h.getElementSize(r);d.setPanelSize(e.width)},this.setTextPlain=function(e,t){o&&o.html(e),s&&s.html(t)},this.setText=function(e,t){1==_.isFirstTime?(d.setTextPlain(e,t),_.isFirstTime=!1,d.positionElements(!1)):l.stop().fadeTo(c.textpanel_fade_duration,0,function(){d.setTextPlain(e,t),d.positionElements(!0),jQuery(this).fadeTo(c.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(null!=e)i.top=e,i.bottom="auto";else switch(c.textpanel_align){case"top":i.top=c.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=c.textpanel_margin+"px";break;case"middle":i.top=h.getElementRelativePos(n,"middle",c.textpanel_margin)}null!=t&&(i.left=t),n.css(i)},this.setOptions=function(e){g&&(e=h.convertCustomPrefixOptions(e,g,"textpanel")),c=jQuery.extend(c,e)},this.getElement=function(){return n},this.getSize=function(){return h.getElementSize(n)},this.refresh=function(e,t,i,n){m(),i?d.setPanelSize(i,n):d.setSizeByParent(),d.positionElements(!1),!0!==t&&d.positionPanel(),!0===e&&d.show()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.getOptions=function(){return c},this.getOption=function(e){return 0==c.hasOwnProperty(e)?null:c[e]}}function UGZoomButtonsPanel(){var i,n,r,o,s=new UGSlider,e=new UGFunctions,a={slider_zoompanel_skin:""};function t(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function l(e){e&&e.addClass("ug-zoompanel-button-disabled")}function u(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function d(){if(0==s.isCurrentSlideType("image"))return!0;1==s.isCurrentSlideImageFit()?0==t(r)&&(l(r),l(o)):1==t(r)&&(u(r),u(o))}this.init=function(e,t){s=e,t&&(a=jQuery.extend(a,t))},this.appendHTML=function(e){0;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+a.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",e.append(t+="</div>"),i=e.children(".ug-zoompanel"),n=i.children(".ug-zoompanel-plus"),r=i.children(".ug-zoompanel-minus"),o=i.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){n=e,o=i,(r=t)&&r.addClass("ug-zoompanel-button-disabled"),o&&o.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return i},this.initEvents=function(){e.addClassOnHover(n,"ug-button-hover"),e.addClassOnHover(r,"ug-button-hover"),e.addClassOnHover(o,"ug-button-hover"),e.setButtonOnClick(n,function(){return 1==t(n)||void s.zoomIn()}),e.setButtonOnClick(r,function(){return 1==t(r)||void s.zoomOut()}),e.setButtonOnClick(o,function(){return 1==t(o)||void s.zoomBack()}),jQuery(s).on(s.events.ZOOM_CHANGE,d),jQuery(s).on(s.events.ITEM_CHANGED,d)}}function UGBullets(){var r,o,t=this,s=0,n=new UniteGalleryMain,i=new UGFunctions,a={isInited:!1},l={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};function u(){var e="",t="";-1!=l.bullets_space_between&&(t=" style='margin-left:"+l.bullets_space_between+"px'");for(var i,n=0;n<s;n++)e+=0==n?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";r.html(e),o||(i=r.find(".ug-bullet:first-child")).length&&(o=i.width())}function d(e){if(1==t.isActive(e))return!0;e=e.index();jQuery(t).trigger(t.events.BULLET_CLICK,e)}function h(){var e=r.children(".ug-bullet");i.setButtonOnClick(e,d),e.on("mousedown mouseup",function(e){return!1})}function g(e){if(e<0||s<=e)throw new Error("wrong bullet index: "+e)}function c(){if(1==a.isInited)return 1;throw new Error("The bullets are not inited!")}this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){n=e,s=i||n.getNumItems(),a.isInited=!0,""==(l=jQuery.extend(l,t)).bullets_skin&&(l.bullets_skin=l.gallery_skin)},this.getBulletsWidth=function(){return 0!=s&&o?s*o+(s-1)*l.bullets_space_between:0},this.appendHTML=function(e){c();var t="";""!=l.bullets_addclass&&(t=" "+l.bullets_addclass);t="<div class='ug-slider-control ug-bullets ug-skin-"+l.bullets_skin+t+"'>";t+="</div>",r=jQuery(t),e.append(r),u(),h()},this.updateNumBullets=function(e){s=e,u(),h()},this.getElement=function(){return r},this.setActive=function(e){c(),g(e);var t=r.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),0},this.isActive=function(e){return g(e),!!("number"!=typeof e?e:r.children(".ug-bullet")[e]).hasClass("ug-bullet-active")},this.getNumBullets=function(){return s}}function UGProgressBar(){var r,i,n=this,t=0,o=new UGFunctions,s={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(e,t){t&&(s=jQuery.extend(s,t)),e.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),r=e.children(".ug-progress-bar"),(i=r.children(".ug-progress-bar-inner")).css("background-color",s.slider_progressbar_color),r.height(s.slider_progressbar_line_width),i.height(s.slider_progressbar_line_width),i.width("0%");t=s.slider_progressbar_opacity,e=i[0];e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")"},this.putHidden=function(e,t){n.put(e,t),r.hide()},this.getElement=function(){return r},this.setSize=function(e){r.width(e),i.width(e),n.draw()},this.setPosition=function(e,t,i,n){o.placeElement(r,e,t,i,n)},this.draw=function(){var e=100*t;i.width(e+"%")},this.setProgress=function(e){t=o.normalizePercent(e),n.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){var a,i=this,l=!1,n=new UGFunctions,u={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};function r(e){e=e||0;var t=Math.min(u.slider_progresspie_width,u.slider_progresspie_height)/2,i=a[0].getContext("2d");0==l&&(l=!0,i.rotate(1.5*Math.PI),i.translate(-2*t,0)),i.clearRect(0,0,u.slider_progresspie_width,u.slider_progresspie_height);var n=u.slider_progresspie_width/2,r=u.slider_progresspie_height/2,o=0,s=e*Math.PI*2;1==u.slider_progresspie_type_fill?(i.beginPath(),i.moveTo(n,r),i.arc(n,r,t,o,s)):(i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(n,r),i.arc(n,r,t,o,s),i.lineTo(n,r),i.fillStyle=u.slider_progresspie_color1,i.fill(),i.closePath(),i.globalCompositeOperation="destination-out",e=t-u.slider_progresspie_stroke_width,i.beginPath(),i.moveTo(n,r),i.arc(n,r,e,o,s)),i.lineTo(n,r),i.fillStyle=u.slider_progresspie_color1,i.fill(),i.closePath(),1==u.slider_progresspie_type_fill&&(o=s,s=2*Math.PI,i.beginPath(),i.arc(n,r,t,o,s),i.lineTo(n,r),i.fillStyle=u.slider_progresspie_color2,i.fill(),i.closePath())}this.put=function(e,t){t&&(u=jQuery.extend(u,t)),e.append("<canvas class='ug-canvas-pie' width='"+u.slider_progresspie_width+"' height='"+u.slider_progresspie_height+"'></canvas>"),a=e.children(".ug-canvas-pie")},this.putHidden=function(e,t){i.put(e,t),r(.1),a.hide()},this.getElement=function(){return a},this.setPosition=function(e,t){n.placeElement(a,e,t)},this.getSize=function(){return{width:u.slider_progresspie_width,height:u.slider_progresspie_height}},this.setProgress=function(e){e=n.normalizePercent(e),r(e)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){var r,o,s,a=new UGSlider,l=new UGFunctions,u={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},d={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};function h(e){return e=e||a.getSlidesReference(),-l.getElementSize(e.objCurrentSlide).left-l.getElementSize(o).left}function g(e){var r;1!=a.isInnerInPlace()&&(s.trigger(a.events.BEFORE_RETURN),e=e||a.getSlidesReference(),r=-l.getElementSize(e.objCurrentSlide).left,o.animate({left:r+"px"},{duration:u.slider_transition_return_speed,easing:u.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,i){var n;1==d.isDragVideo&&(n=l.getElementSize(o).left,n=d.videoStartX+(n-r),d.videoObject.css("left",n))},complete:function(){s.trigger(a.events.AFTER_RETURN)}}))}function c(){var e=a.getSlidesReference(),t=h(e);if(0!=t){var i,n=0<t?"left":"right",r=!1;switch(n){case"right":a.isSlideHasItem(e.objPrevSlide)?i=-l.getElementSize(e.objPrevSlide).left:r=!0;break;case"left":a.isSlideHasItem(e.objNextSlide)?i=-l.getElementSize(e.objNextSlide).left:r=!0}1==r?g(e):o.stop().animate({left:i+"px"},{duration:u.slider_transition_continuedrag_speed,easing:u.slider_transition_continuedrag_easing,queue:!1,progress:function(){var e;1==d.isDragVideo&&(e=l.getElementSize(o).left-d.startPosx,e=d.videoStartX+e,d.videoObject.css("left",e))},always:function(){var e;e=n,a.getVideoObject().hide(),a.switchSlideNums(e),a.placeNabourItems(),s.trigger(a.events.AFTER_DRAG_CHANGE)}})}}function _(e){var t=l.getMousePosition(e);d.startMouseX=t.pageX,d.startMouseY=t.pageY,d.lastMouseX=d.startMouseX,d.lastMouseY=d.startMouseY,d.startTime=jQuery.now();t=l.getArrTouches(e);d.startArrTouches=l.getArrTouchPositions(t);t=l.getElementSize(o);d.startPosx=t.left,d.isInitDataValid=!0,d.isDragVideo=!1,l.storeEventData(e,d.storedEventID)}function p(){d.touch_active=!1}function m(e,t){d.touch_active=!0,_(t)}function i(e){return e.preventDefault(),d.isDragging=!1,1==a.isAnimating()&&o.stop(!0,!0),1<l.getArrTouches(e).length?(1==d.touch_active&&p(),!0):1==d.touch_active||void m(0,e)}function n(e){if(0==d.touch_active)return!0;if(0==e.buttons)return p(),c(),!0;l.updateStoredEventData(e,d.storedEventID),e.preventDefault();var t=l.getMousePosition(e);d.lastMouseX=t.pageX,d.lastMouseY=t.pageY;t=null;"vert"!==(t=1==u.slider_vertical_scroll_ondrag?l.handleScrollTop(d.storedEventID):t)&&function(e){var t=d.lastMouseX-d.startMouseX;if(0==t)return;var i=t<0?"left":"right",n=a.getObjZoom();if(n){if(1==n.isPanEnabled(e,i))return d.isInitDataValid=!1;if(0==d.isInitDataValid)return _(e)}e=d.startPosx+t,0<t&&0<e?e/=3:t<0&&e+o.width()<r.width()&&(e=d.startPosx+t/3),0==d.isDragging&&(d.isDragging=!0,s.trigger(a.events.START_DRAG)),o.css("left",e+"px"),1==d.isDragVideo&&(e=e-d.startPosx,e=d.videoStartX+e,d.videoObject.css("left",e))}(e)}function f(e){var t,i,n,r=l.getArrTouches(e).length;if(1==a.isInnerInPlace()&&0==d.touch_active&&0==r)return!0;0==r&&1==d.touch_active?(p(),t=!1,0==l.wasVerticalScroll(d.storedEventID)&&(i=h(n=a.getSlidesReference()),n=Math.round(3*n.objCurrentSlide.width()/8),t=Math.abs(i)>=n||(n=Math.abs(d.lastMouseX-d.startMouseX),Math.abs(d.lastMouseY-d.startMouseY),!(n<20)&&jQuery.now()-d.startTime<500)),(1==t?c:g)()):1==r&&0==d.touch_active&&m(0,e)}this.isTapEventOccured=function(e){var t=l.getArrTouches(e).length;if(0!=t||0!=d.lastNumTouches)return d.lastNumTouches=t,!1;d.lastNumTouches=t;h(a.getSlidesReference());var i=Math.abs(d.lastMouseX-d.startMouseX),e=Math.abs(d.lastMouseY-d.startMouseY),t=jQuery.now()-d.startTime;return i<20&&e<50&&t<500},this.init=function(e,t){a=e,s=jQuery(a),g_objects=e.getObjects(),r=g_objects.g_objSlider,o=g_objects.g_objInner,u=jQuery.extend(u,t),r.bind("mousedown touchstart",i),jQuery("body").bind("mousemove touchmove",n),jQuery(window).add("body").bind("mouseup touchend",f)},this.getLastMousePos=function(){return{pageX:d.lastMouseX,pageY:d.lastMouseY}},this.isTouchActive=function(){return d.touch_active}}function UGZoomSliderControl(){var i,a,l=new UGSlider,u=new UGFunctions,d={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},s={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};function n(e,t){l=e,a=jQuery(l),g_objects=e.getObjects(),i=g_objects.g_objSlider,g_objects.g_objInner,d=jQuery.extend(d,t),i.on("mousewheel",y),i.bind("mousedown touchstart",f),jQuery("body").bind("mousemove touchmove",v),jQuery(window).add("body").bind("mouseup touchend",b),a.bind(l.events.BEFORE_RETURN,function(){m()}),a.bind(l.events.ITEM_CHANGED,function(){s.isZoomedOnce=!1}),a.bind(l.events.ZOOM_CHANGE,function(){s.isZoomedOnce=!0})}function h(){var e=l.getScaleMode();return e="down"!=e?"fit":e}function r(){if((t=jQuery.now())-s.storeImageLastTime<20)return!1;var e=l.getSlidesReference();if(s.objSlide=e.objCurrentSlide,s.objImage=e.objCurrentSlide.find("img"),0==s.objImage.length)return!1;s.objImageSize=u.getElementSize(s.objImage),s.objParent=s.objImage.parent(),s.objParentSize=u.getElementSize(s.objParent);e=h();objPadding=l.getObjImagePadding(),s.objFitImageSize=u.getImageInsideParentDataByImage(s.objImage,e,objPadding);var t=jQuery.now();return s.storeImageLastTime=t,!0}function o(e,t){var i=l.getSlidesReference().objCurrentSlide.find("img"),n=h();a.trigger(l.events.ZOOM_START);var r,o=!0,s=l.getObjImagePadding();"back"==e?(r=u.getImageOriginalSize(i),u.scaleImageFitParent(i,r.width,r.height,n,s)):o=u.zoomImageInsideParent(i,"in"==e,d.slider_zoom_step,t,n,d.slider_zoom_max_ratio,s),1==o&&(a.trigger(l.events.ZOOMING),a.trigger(l.events.ZOOM_CHANGE),a.trigger(l.events.ZOOM_END))}function g(e,t,i){t=u.getArrTouches(t);if(!0===i){if(1!=t.length)return!1}else if(1<t.length)return!1;return!!u.isElementBiggerThenParent(e)}function c(e){s.isPanActive=!0,e=e,e=u.getMousePosition(e),s.startMouseX=e.pageX,s.startMouseY=e.pageY,s.lastMouseX=s.startMouseX,s.lastMouseY=s.startMouseY,s.startImageX=s.objImageSize.left,s.startImageY=s.objImageSize.top,s.panXActive=s.objImageSize.width>s.objParentSize.width,s.panYActive=s.objImageSize.height>s.objParentSize.height}function _(e){0!=s.isZoomActive&&2!=u.getArrTouches(e).length&&(s.isZoomActive=!1,a.trigger(l.events.ZOOM_END))}function p(e){if(1==s.isZoomActive)return 1;e=u.getArrTouches(e);if(2!=e.length)return 1;e=e,s.isZoomActive=!0,s.startDistance=u.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==s.startDistance&&(s.startDistance=1),s.startMiddlePoint=u.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),s.objImageSize=u.getElementSize(s.objImage),s.startImageX=s.objImageSize.left,s.startImageY=s.objImageSize.top,s.imageOrientPoint=u.getElementLocalPoint(s.startMiddlePoint,s.objImage),0==u.isPointInsideElement(s.imageOrientPoint,s.objImageSize)&&(s.imageOrientPoint=u.getElementCenterPoint(s.objImage)),a.trigger(l.events.ZOOM_START)}function m(){if(null==s.objImage||0==s.objImage.length)return 1;var e,t,i,n,r,o;u.getElementSize(s.objImage).width<s.objFitImageSize.imageWidth?(s.objImage.css({position:"absolute",margin:"none"}),o={top:s.objFitImageSize.imageTop+"px",left:s.objFitImageSize.imageLeft+"px",width:s.objFitImageSize.imageWidth+"px",height:s.objFitImageSize.imageHeight+"px"},s.objImage.animate(o,{duration:d.slider_zoom_return_pan_duration,easing:d.slider_zoom_return_pan_easing,queue:!1})):(t=e=!1,n=i=0,r=u.getElementSize(s.objImage),o=l.getObjImagePadding(),o=u.getElementCenterPosition(s.objImage,o),s.panXActive=s.objImageSize.width>s.objParentSize.width,s.panYActive=s.objImageSize.height>s.objParentSize.height,1==s.panYActive?0<r.top?t=!(n=0):r.bottom<s.objParentSize.height&&(n=s.objParentSize.height-r.height,t=!0):r.top!=o.top&&(t=!0,n=o.top),1==s.panXActive?0<r.left?e=!(i=0):r.right<s.objParentSize.width&&(i=s.objParentSize.width-r.width,e=!0):r.left!=o.left&&(e=!0,i=o.left),o={},1==t&&(o.top=n+"px"),1==e&&(o.left=i+"px"),1!=t&&1!=e||s.objImage.animate(o,{duration:d.slider_zoom_return_pan_duration,easing:d.slider_zoom_return_pan_easing,queue:!1}))}function f(e){if(0==l.isCurrentSlideType("image"))return!0;r();if(null==s.objImage||0==s.objImage.length)return!0;e.preventDefault(),1==!(!s.objImage||!s.objImage.is(":animated"))&&s.objImage.stop(!0),(1==s.isZoomActive?_:p)(e),1==s.isZoomActive?s.isPanActive=!1:1==g(s.objImage,e)&&1==s.isZoomedOnce&&c(e)}function b(e){if(0==l.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;r();if(null==s.objImage||0==s.objImage.length)return!0;var t,i=s.isPanActive,n=s.isZoomActive;if(0==l.isInnerInPlace())return s.isZoomActive=!1,!(s.isPanActive=!1);(1==s.isZoomActive?_:p)(e),1==s.isZoomActive?s.isPanActive=!1:(t=g(s.objImage,e,!0),1==s.isPanActive?s.isPanActive=!1:1==t&&c(e)),(i||n)&&0==s.isZoomActive&&0==s.isPanActive&&m()}function v(e){if(0==l.isCurrentSlideType("image"))return!0;1==s.isZoomActive?function(e){var t=u.getArrTouches(e),i=u.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)/s.startDistance,n=u.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),r=s.objImageSize.width*i,o=s.objImageSize.height*i,e=u.getImageOriginalSize(s.objImage),t=1;if((t=0<e.width?r/e.width:t)>d.slider_zoom_max_ratio)return;panX=-(s.imageOrientPoint.x*i-s.imageOrientPoint.x),panY=-(s.imageOrientPoint.y*i-s.imageOrientPoint.y),i=n.x-s.startMiddlePoint.x,n=n.y-s.startMiddlePoint.y,i=s.startImageX+panX+i,n=s.startImageY+panY+n,u.setElementSizeAndPosition(s.objImage,i,n,r,o),a.trigger(l.events.ZOOMING),a.trigger(l.events.ZOOM_CHANGE)}(e):1==s.isPanActive&&function(e){if(null==s.objImage||0==s.objImage.length)return;var t=u.getMousePosition(e),i=(t.pageX,s.startMouseX,t.pageY,s.startMouseY,t.pageX-s.lastMouseX),n=t.pageY-s.lastMouseY,r=i<0?"left":"right",e=n<0?"up":"down";s.lastMouseX=t.pageX,s.lastMouseY=t.pageY,t=u.getElementSize(s.objImage),0==s.panYActive?n=0:("down"==e&&0<t.top||"up"==e&&t.bottom<s.objParentSize.height)&&(n/=3),0==s.panXActive||0==l.isInnerInPlace()?i=0:("right"==r&&0<t.left||"left"==r&&t.right<s.objParentSize.width)&&(i/=3),i=t.left+i,n=t.top+n,u.placeElement(s.objImage,i,n)}(e)}function y(e,t,i,n){return 0==d.slider_zoom_mousewheel||(0==l.isCurrentSlideType("image")||(e.preventDefault(),void o(1==0<t?"in":"out",u.getMousePosition(e))))}this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(r(),null==s.objImage||0==s.objImage.length)return!1;if(0==s.isZoomedOnce)return!1;if(0==g(s.objImage,e))return!1;if(0==l.isInnerInPlace())return!1;if("left"==t){if(s.objImageSize.right<=s.objParentSize.width)return!1}else if(0<=s.objImageSize.left)return!1;return!0},this.init=function(e,t){n(e,t)},this.zoomIn=function(){o("in")},this.zoomOut=function(){o("out")},this.zoomBack=function(){o("back")}}function UGWistiaAPI(){this.isAPILoaded=!1;var o,a,l=this,u=jQuery(this),d=!1;function s(){return"undefined"!=typeof Wistia}function h(e,t,i,n,r){a=null,d=!1;var o=e+"_video",s="<div id='"+o+"' class='wistia_embed' style='width:"+i+";height:"+n+";' data-video-width='"+i+"' data-video-height='"+n+"'>&nbsp;</div>";jQuery("#"+e).html(s),a=Wistia.embed(t,{version:"v1",videoWidth:i,videoHeight:n,container:o,autoPlay:r}),d=!0,a.bind("play",function(){u.trigger(l.events.START_PLAYING)}),a.bind("pause",function(){u.trigger(l.events.STOP_PLAYING)}),a.bind("end",function(){u.trigger(l.events.STOP_PLAYING),u.trigger(l.events.VIDEO_ENDED)})}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(s()?g_ugWistiaAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==a)return!1;if(0==d)return!1;switch(e){case"play":a.play();break;case"pause":a.pause()}},this.pause=function(){l.doCommand("pause")},this.play=function(){l.doCommand("play")},this.putVideo=function(e,t,i,n,r){if(s())return h(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){s()&&(h(e,t,i,n,r),clearInterval(o))},500)},this.isPlayerReady=function(){return!(!d||!a)}}function UGSoundCloudAPI(){this.isAPILoaded=!1;var o,s,a,l=this,u=jQuery(this);function d(){return"undefined"!=typeof SC}function h(e,t,i,n,r){s=null,g_isPlayerReady=!1;var o=e+"_iframe",t=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;t+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";n="<iframe id='"+o+"' src="+(t+=!0===r?"&amp;auto_play=true":"&amp;auto_play=false")+" width='"+i+"' height='"+n+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(n),(s=SC.Widget(o)).bind(SC.Widget.Events.READY,function(){s&&(g_isPlayerReady=!0,s.bind(SC.Widget.Events.PLAY,function(){u.trigger(l.events.START_PLAYING)}),s.bind(SC.Widget.Events.PAUSE,function(){u.trigger(l.events.STOP_PLAYING)}),s.bind(SC.Widget.Events.FINISH,function(){u.trigger(l.events.STOP_PLAYING),u.trigger(l.events.VIDEO_ENDED)}))}),a=e}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(d()?g_ugSoundCloudAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(e,t,i,n,r){if(d())return h(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){d()&&(h(e,t,i,n,r),clearInterval(o))},500)},this.doCommand=function(e){if(null==s)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":s.play();break;case"pause":s.pause()}},this.pause=function(){l.doCommand("pause")},this.play=function(){l.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,s=null,a&&(jQuery("#"+a).html(""),a=null)}}function UGHtml5MediaAPI(){this.isAPILoaded=!1;var o,d,h=this,g=jQuery(this);function s(){return"undefined"!=typeof mejs}function a(e,t,i,n,r){d=null,g_isPlayerReady=!1;var o=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",a=e+"_video",l="",u="",u="<video id='"+a+"' width='"+i+"' height='"+n+"'  controls='controls' preload='none' "+(l=r&&!0===r?"autoplay='autoplay'":l)+" "+(u=t.posterImage?"poster='"+t.posterImage+"'":u)+">";""!=t.mp4&&(u+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(u+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(u+="<source type='video/ogg' src='"+t.ogv+"' />"),u+="<object width='"+i+"' height='"+n+"' type='application/x-shockwave-flash' data='"+o+"'>",u+="<param name='movie' value='"+o+"' />",u+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",u+="</object>",u+="</video>",jQuery("#"+e).html(u),new MediaElement(a,{enablePluginDebug:!1,flashName:o,silverlightName:s,success:function(e,t){g_isPlayerReady=!0,d=e,0==r&&d.pause(),g_ugFunctions.addEvent(d,"play",function(){g.trigger(h.events.START_PLAYING)}),g_ugFunctions.addEvent(d,"pause",function(){g.trigger(h.events.STOP_PLAYING)}),g_ugFunctions.addEvent(d,"ended",function(){g.trigger(h.events.STOP_PLAYING),g.trigger(h.events.VIDEO_ENDED)})},error:function(e){trace(e)}})}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(s()?g_ugHtml5MediaAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(e,t,i,n,r){if(s())return a(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){s()&&(a(e,t,i,n,r),clearInterval(o))},500)},this.doCommand=function(e){if(null==d)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":d.play();break;case"pause":d.pause()}},this.pause=function(){h.doCommand("pause")},this.play=function(){h.doCommand("play")}}function UGVimeoAPI(){this.isAPILoaded=!1;var o,s,a=this,l=jQuery(this),u=null,d=!1,h=!1;function g(){return"undefined"!=typeof Froogaloop}function c(e,t,i,n,r){u=null,d=!1;t=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===r&&(t+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");n="<iframe src="+t+" width='"+i+"' height='"+n+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(n);n=jQuery("#"+e+" iframe")[0];(u=Froogaloop(n)).addEvent("ready",function(){u&&(d=!0,function(){if(!u)return;u.addEvent("cuechange",function(){1==h&&a.play()}),u.addEvent("play",function(){l.trigger(a.events.START_PLAYING)}),u.addEvent("pause",function(){l.trigger(a.events.STOP_PLAYING)}),u.addEvent("finish",function(){l.trigger(a.events.STOP_PLAYING),l.trigger(a.events.VIDEO_ENDED)})}())}),s=e}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(g()?g_ugVimeoAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=u&&(0!=d&&void u.api(e))},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){u&&(u.api("unload"),u=null,d=!1),s&&jQuery("#"+s).html("")},this.putVideo=function(e,t,i,n,r){if(g())return c(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){g()&&(c(e,t,i,n,r),clearInterval(o))},500)},this.isPlayerReady=function(){return!(!d||!u)},this.changeVideo=function(e,t){if(0==a.isPlayerReady())return!1;h=t,u.api("loadVideo",e)},this.getVideoImages=function(e,i,n){e=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(e,{},function(e){var t={};t.preview=e[0].thumbnail_large,t.thumb=e[0].thumbnail_medium,n(i,t)})}}function UGYoutubeAPI(){this.isAPILoaded=!1;var o,s,i=this,a=null,l=!1,t=jQuery(this),n=-1,u={video_youtube_showinfo:!0};function d(e,t,i,n,r){a&&l&&a.destroy();var o={controls:2,showinfo:u.video_youtube_showinfo,rel:0};!0===r&&(o.autoplay=1),l=!1,a=new YT.Player(e,{height:n,width:i,videoId:t,playerVars:o,events:{onReady:g,onStateChange:c}}),s=e}function h(){return"undefined"!=typeof YT&&void 0!==YT.Player}function g(){l=!0}function c(){if("function"!=typeof a.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=a.getPlayerState();switch(e){case YT.PlayerState.PLAYING:t.trigger(i.events.START_PLAYING);break;case YT.PlayerState.ENDED:t.trigger(i.events.STOP_PLAYING),t.trigger(i.events.VIDEO_ENDED);break;default:n==YT.PlayerState.PLAYING&&t.trigger(i.events.STOP_PLAYING)}n=e}this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){u=jQuery.extend(u,e)},this.putVideo=function(e,t,i,n,r){if(h())return d(e,t,i,n,r),!0;this.loadAPI(),o=setInterval(function(){h()&&(d(e,t,i,n,r),clearInterval(o))},500)},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?g_ugYoutubeAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!a)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof a.playVideo)return!1;a.playVideo();break;case"pause":if("function"!=typeof a.pauseVideo)return!1;a.pauseVideo();break;case"seek":if("function"!=typeof a.seekTo)return!1;a.seekTo(t);break;case"stopToBeginning":var i=a.getPlayerState();switch(a.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:a.seekTo(0)}}},this.play=function(){i.doCommand("play")},this.pause=function(){i.doCommand("pause")},this.destroy=function(){try{a&&(l=!1,a.clearVideo(),a.destroy())}catch(e){jQuery("#"+s).html("")}},this.stopToBeginning=function(){i.doCommand("stopToBeginning")},this.changeVideo=function(e,t){if(0==i.isPlayerReady())return!1;t&&1==t?a.loadVideoById(e,0,"large"):a.cueVideoById(e,0,"large")},this.isPlayerReady=function(){return!(!l||!a)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){var n,i,r,o,s,a,l,u,t=this,e=jQuery(this),d=new UGFunctions,h=new UGYoutubeAPI,g=new UGVimeoAPI,c=new UGHtml5MediaAPI,_=new UGSoundCloudAPI,p=new UGWistiaAPI,m=null,f={video_enable_closebutton:!0},b={standAloneMode:!(this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"}),youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};function v(){t.hide()}function y(){e.trigger(t.events.PLAY_START),a&&a.hide()}function w(){e.trigger(t.events.PLAY_STOP),a&&a.show()}function I(){e.trigger(t.events.VIDEO_ENDED)}function E(e){var t,i=["youtube","vimeo","html5","soundcloud","wistia"];for(t in i){var n=i[t];if(n!=e)switch(n){case"youtube":h.pause(),h.destroy(),r.hide();break;case"vimeo":g.pause(),g.destroy(),o.hide();break;case"html5":c.pause(),s.hide();break;case"soundcloud":_.pause(),_.destroy(),l.hide();break;case"wistia":p.pause(),u.hide()}}}this.init=function(e,t,i){if(!(n=i))throw new Error("missing gallery ID for video player, it's a must!");f=jQuery.extend(f,e),h.setOptions(f),t&&1==t&&(b.standAloneMode=!0)},this.setHtml=function(e){b.youtubeInnerID=n+"_youtube_inner",b.vimeoPlayerID=n+"_videoplayer_vimeo",b.html5PlayerID=n+"_videoplayer_html5",b.wistiaPlayerID=n+"_videoplayer_wistia",b.soundCloudPlayerID=n+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+b.youtubeInnerID+"'></div></div>",t+="<div id='"+b.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+b.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+b.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+b.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==b.standAloneMode&&1==f.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),e.append(t+="</div>"),i=e.children(".ug-videoplayer"),r=i.children(".ug-videoplayer-youtube"),o=i.children(".ug-videoplayer-vimeo"),s=i.children(".ug-videoplayer-html5"),l=i.children(".ug-videoplayer-soundcloud"),u=i.children(".ug-videoplayer-wistia"),0==b.standAloneMode&&1==f.video_enable_closebutton&&(a=i.children(".ug-videoplayer-button-close"))},this.destroy=function(){a&&(a.off("click"),a.off("touchend")),jQuery(h).off(h.events.START_PLAYING),jQuery(h).off(h.events.STOP_PLAYING),jQuery(g).off(g.events.START_PLAYING),jQuery(g).off(g.events.STOP_PLAYING),jQuery(c).off(c.events.START_PLAYING),jQuery(c).off(c.events.STOP_PLAYING),jQuery(_).off(_.events.START_PLAYING,y),jQuery(_).off(_.events.STOP_PLAYING,w),jQuery(p).off(p.events.START_PLAYING,y),jQuery(p).off(p.events.STOP_PLAYING,w),m=null},this.initEvents=function(){a&&(d.setButtonMobileReady(a),d.setButtonOnClick(a,v)),jQuery(h).on(h.events.START_PLAYING,y),jQuery(h).on(h.events.STOP_PLAYING,w),jQuery(h).on(h.events.VIDEO_ENDED,I),jQuery(g).on(g.events.START_PLAYING,y),jQuery(g).on(g.events.STOP_PLAYING,w),jQuery(g).on(g.events.VIDEO_ENDED,I),jQuery(c).on(c.events.START_PLAYING,y),jQuery(c).on(c.events.STOP_PLAYING,w),jQuery(c).on(c.events.VIDEO_ENDED,I),jQuery(_).on(_.events.START_PLAYING,y),jQuery(_).on(_.events.STOP_PLAYING,w),jQuery(_).on(_.events.VIDEO_ENDED,I),jQuery(p).on(p.events.START_PLAYING,y),jQuery(p).on(p.events.STOP_PLAYING,w),jQuery(p).on(p.events.VIDEO_ENDED,I)},this.setSize=function(e,t){d.setElementSize(i,e,t),a&&d.placeElement(a,"right","top")},this.setPosition=function(e,t){d.placeElement(i,e,t)},this.getObject=function(){return i},this.show=function(){if(1==t.isVisible())return!0;i.show(),i.fadeTo(0,1),a&&a.show(),e.trigger(t.events.SHOW)},this.hide=function(){if(0==t.isVisible())return!0;E(),m=null,i.hide(),e.trigger(t.events.HIDE)},this.getActiveAPI=function(){switch(m){case"youtube":return h;case"vimeo":return g;case"wistia":return p;case"soundcloud":return _;case"html5":return c;default:return null}},this.pause=function(){var e=t.getActiveAPI();if(null==e)return!1;"function"==typeof e.pause&&e.pause()},this.isVisible=function(){return i.is(":visible")},this.playYoutube=function(e,t){void 0===t&&(t=!0),E("youtube"),r.show(),0==r.children("#"+b.youtubeInnerID).length&&r.append("<div id='"+b.youtubeInnerID+"'></div>"),1==h.isPlayerReady()&&1==b.standAloneMode?h.changeVideo(e,t):h.putVideo(b.youtubeInnerID,e,"100%","100%",t),m="youtube"},this.playVimeo=function(e,t){void 0===t&&(t=!0),E("vimeo"),o.show(),g.putVideo(b.vimeoPlayerID,e,"100%","100%",t),m="vimeo"},this.playHtml5Video=function(e,t,i,n,r){void 0===r&&(r=!0),E("html5"),s.show(),c.putVideo(b.html5PlayerID,{ogv:e,webm:t,mp4:i,posterImage:n},"100%","100%",r),m="html5"},this.playSoundCloud=function(e,t){void 0===t&&(t=!0),E("soundcloud"),l.show(),_.putSound(b.soundCloudPlayerID,e,"100%","100%",t),m="soundcloud"},this.playWistia=function(e,t){void 0===t&&(t=!0),E("wistia"),u.show(),p.putVideo(b.wistiaPlayerID,e,"100%","100%",t),m="wistia"}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(l){function t(e){var t,i,n=e||window.event,r=c.call(arguments,1),o=0,s=0,a=0;if((e=l.event.fix(n)).type="mousewheel","detail"in n&&(a=-1*n.detail),"wheelDelta"in n&&(a=n.wheelDelta),"wheelDeltaY"in n&&(a=n.wheelDeltaY),"wheelDeltaX"in n&&(s=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(s=-1*a,a=0),o=0===a?s:a,"deltaY"in n&&(o=a=-1*n.deltaY),"deltaX"in n&&(s=n.deltaX,0===a&&(o=-1*s)),0!==a||0!==s)return 1===n.deltaMode?(o*=i=l.data(this,"mousewheel-line-height"),a*=i,s*=i):2===n.deltaMode&&(o*=i=l.data(this,"mousewheel-page-height"),a*=i,s*=i),t=Math.max(Math.abs(a),Math.abs(s)),(!g||t<g)&&(d(n,g=t)&&(g/=40)),d(n,t)&&(o/=40,s/=40,a/=40),o=Math[1<=o?"floor":"ceil"](o/g),s=Math[1<=s?"floor":"ceil"](s/g),a=Math[1<=a?"floor":"ceil"](a/g),e.deltaX=s,e.deltaY=a,e.deltaFactor=g,e.deltaMode=0,r.unshift(e,o,s,a),h&&clearTimeout(h),h=setTimeout(u,200),(l.event.dispatch||l.event.handle).apply(this,r)}function u(){g=null}function d(e,t){return r.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var h,g,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(l.event.fixHooks)for(var n=e.length;n;)l.event.fixHooks[e[--n]]=l.event.mouseHooks;var r=l.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;l.data(this,"mousewheel-line-height",r.getLineHeight(this)),l.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(l(e)["offsetParent"in l.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return l(e).height()},settings:{adjustOldDeltas:!0}};l.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(t){t.easing.jswing=t.easing.swing;var i=Math.pow,n=Math.sqrt,r=Math.sin,o=Math.cos,s=Math.PI,a=1.70158,l=1.525*a,u=2*s/3,d=2*s/4.5;function h(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-o(e*s/2)},easeOutSine:function(e){return r(e*s/2)},easeInOutSine:function(e){return-(o(s*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*r((10*e-10.75)*u)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*r((10*e-.75)*u)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-(i(2,20*e-10)*r((20*e-11.125)*d))/2:i(2,-20*e+10)*r((20*e-11.125)*d)/2+1},easeInBack:function(e){return 2.70158*e*e*e-a*e*e},easeOutBack:function(e){return 1+2.70158*i(e-1,3)+a*i(e-1,2)},easeInOutBack:function(e){return e<.5?i(2*e,2)*(7.189819*e-l)/2:(i(2*e-2,2)*((1+l)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-h(1-e)},easeOutBounce:h,easeInOutBounce:function(e){return e<.5?(1-h(1-2*e))/2:(1+h(2*e-1))/2}})}),function(d,h){var a,g,e,c,_,p,s,t,m;function f(e,t,i){var n=p[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:e<0?0:n.max<e?n.max:e)}function l(n){var r=c(),o=r._rgba=[];return n=n.toLowerCase(),m(e,function(e,t){var i=t.re.exec(n),i=i&&t.parse(i),t=t.space||"rgba";return i?(i=r[t](i),r[_[t].cache]=i[_[t].cache],o=r._rgba=i._rgba,!1):void 0}),o.length?("0,0,0,0"===o.join()&&d.extend(o,a.transparent),r):a[n]}function r(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}void 0!==d.cssHooks&&(g=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=d.Color=function(e,t,i,n){return new d.Color.fn.parse(e,t,i,n)},_={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},s=c.support={},t=d("<p>")[0],m=d.each,t.style.cssText="background-color:rgba(1,1,1,.5)",s.rgba=-1<t.style.backgroundColor.indexOf("rgba"),m(_,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),(c.fn=d.extend(c.prototype,{parse:function(r,e,t,i){if(r===h)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=d(r).css(e),e=h);var o=this,n=d.type(r),s=this._rgba=[];return e!==h&&(r=[r,e,t,i],n="array"),"string"===n?this.parse(l(r)||a._default):"array"===n?(m(_.rgba.props,function(e,t){s[t.idx]=f(r[t.idx],t)}),this):"object"===n?(m(_,r instanceof c?function(e,t){r[t.cache]&&(o[t.cache]=r[t.cache].slice())}:function(e,i){var n=i.cache;m(i.props,function(e,t){if(!o[n]&&i.to){if("alpha"===e||null==r[e])return;o[n]=i.to(o._rgba)}o[n][t.idx]=f(r[e],t,!0)}),o[n]&&d.inArray(null,o[n].slice(0,3))<0&&(o[n][3]=1,i.from&&(o._rgba=i.from(o[n])))}),this):void 0},is:function(e){var r=c(e),o=!0,s=this;return m(_,function(e,t){var i,n=r[t.cache];return n&&(i=s[t.cache]||t.to&&t.to(s._rgba)||[],m(t.props,function(e,t){return null!=n[t.idx]?o=n[t.idx]===i[t.idx]:void 0})),o}),o},_space:function(){var i=[],n=this;return m(_,function(e,t){n[t.cache]&&i.push(e)}),i.pop()},transition:function(e,s){var t=(u=c(e))._space(),i=_[t],e=0===this.alpha()?c("transparent"):this,a=e[i.cache]||i.to(e._rgba),l=a.slice(),u=u[i.cache];return m(i.props,function(e,t){var i=t.idx,n=a[i],r=u[i],o=p[t.type]||{};null!==r&&(null===n?l[i]=r:(o.mod&&(r-n>o.mod/2?n+=o.mod:n-r>o.mod/2&&(n-=o.mod)),l[i]=f((r-n)*s+n,t)))}),this[t](l)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),n=c(e)._rgba;return c(d.map(t,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=d.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=d.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),e=t&&t<3?Math.round(100*e)+"%":e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+d.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=c.fn,_.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,i=e[1]/255,n=e[2]/255,r=e[3],o=Math.max(t,i,n),s=Math.min(t,i,n),a=o-s,l=o+s,e=.5*l,l=0==a?0:e<=.5?a/l:a/(2-l);return[Math.round(s===o?0:t===o?60*(i-n)/a+360:i===o?60*(n-t)/a+120:60*(t-i)/a+240)%360,l,e,null==r?1:r]},_.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],e=e[3],i=n<=.5?n*(1+i):n+i-n*i,n=2*n-i;return[Math.round(255*r(n,i,t+1/3)),Math.round(255*r(n,i,t)),Math.round(255*r(n,i,t-1/3)),e]},m(_,function(a,e){var o=e.props,s=e.cache,l=e.to,u=e.from;c.fn[a]=function(e){if(l&&!this[s]&&(this[s]=l(this._rgba)),e===h)return this[s].slice();var t,i=d.type(e),n="array"===i||"object"===i?e:arguments,r=this[s].slice();return m(o,function(e,t){e=n["object"===i?e:t.idx];null==e&&(e=r[t.idx]),r[t.idx]=f(e,t)}),u?((t=c(u(r)))[s]=r,t):c(r)},m(o,function(o,s){c.fn[o]||(c.fn[o]=function(e){var t=d.type(e),i="alpha"===o?this._hsla?"hsla":"rgba":a,n=this[i](),r=n[s.idx];return"undefined"===t?r:("function"===t&&(e=e.call(this,r),t=d.type(e)),null==e&&s.empty?this:("string"===t&&((t=g.exec(e))&&(e=r+parseFloat(t[2])*("+"===t[1]?1:-1))),n[s.idx]=e,this[i](n)))})})}),(c.hook=function(e){e=e.split(" ");m(e,function(e,o){d.cssHooks[o]={set:function(e,t){var i,n,r="";if("transparent"!==t&&("string"!==d.type(t)||(i=l(t)))){if(t=c(i||t),!s.rgba&&1!==t._rgba[3]){for(n="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&n&&n.style;)try{r=d.css(n,"backgroundColor"),n=n.parentNode}catch(e){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(e){}}},d.fx.step[o]=function(e){e.colorInit||(e.start=c(e.elem,o),e.end=c(e.end),e.colorInit=!0),d.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),d.cssHooks.borderColor={expand:function(i){var n={};return m(["Top","Right","Bottom","Left"],function(e,t){n["border"+t+"Color"]=i}),n}},a=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"})}(jQuery),function(n){n.mlp={x:0,y:0},n(function e(){try{var t=this===document?n(this):n(this).contents()}catch(e){return!1}t.mousemove(function(e){n.mlp={x:e.pageX,y:e.pageY}}),t.find("iframe").on("load",e)}),n.fn.ismouseover=function(){var i=!1;return this.eq(0).each(function(){var e=n(this).is("iframe")?n(this).contents().find("body"):n(this),t=e.offset();i=t.left<=n.mlp.x&&t.left+e.outerWidth()>n.mlp.x&&t.top<=n.mlp.y&&t.top+e.outerHeight()>n.mlp.y}),i}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(t,i){try{"jquery"==i?(function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==i?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(e){var n,r;return r="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+(r="Unite Gallery Error: "+(r=e.message))+"</div>","jquery"==i?((n=document.getElementById(t)).innerHTML=r,n.style.display="block"):jQuery(t).show().html(r),!1}return!0}function UniteGalleryMain(){var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};function __________INIT_GALLERY_______(){}function getThemeFunction(e){return e=-1==e.indexOf("UGTheme_")?"UGTheme_"+e:e}function initTheme(objCustomOptions){var defaultTheme;objCustomOptions.hasOwnProperty("gallery_theme")?g_options.gallery_theme=objCustomOptions.gallery_theme:(defaultTheme=g_options.gallery_theme,0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme()));var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=g_objThumbs=g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,r){var o="object"==typeof i;if(o&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,0==(g_objWrapper=jQuery(g_galleryID)).length)return void trace("div with id: "+g_galleryID+" not found");g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),1==(g_options=o?jQuery.extend(g_options,i):g_options).gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass(),fillItemsArray(g_objWrapper.children()),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(r&&1==g_options.gallery_enable_cache&&cacheItems(r,n),"noitems"==n)return void showErrorMessage("No items in this category","");g_objWrapper.html(n),fillItemsArray(g_objWrapper.children()),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs).init(t,g_options),o&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),0<g_numItems&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){e="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+(e=(t=void 0===t?"<b>Unite Gallery Error: </b>":t)+e)+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(e),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(null==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(null==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();e.width/e.height!=e.orig_ratio&&(e=e.width/e.orig_ratio,(e=Math.round(e))<g_options.gallery_min_height&&(e=g_options.gallery_min_height),g_objWrapper.height(e))}function setHtmlObjectsProperties(){var e,t={"max-width":g_functions.getCssSizeParam(g_options.gallery_width),"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};0==g_temp.isFreestyleMode?(e=g_functions.getCssSizeParam(g_options.gallery_height),t.height=e):t.overflow="visible",g_options.gallery_background_color&&(t["background-color"]=g_options.gallery_background_color),g_objWrapper.css(t)}function fillItemsArray(e){g_arrItems=[];for(var i=t.isMobileMode(),n=0,r=0;r<e.length;r++){var o=jQuery(e[r]),s=o.prop("tagName").toLowerCase(),a="";"a"==s&&(a=o.attr("href"),s=(o=o.children()).prop("tagName").toLowerCase());var l=o.data("type");null==l&&(l="image");var u={};if(u.type=l,"img"==s){var d=o.data("lazyload-src");d&&""!=d&&(o.attr("src",d),jQuery.removeData(o,"lazyload-src"));var h=o.data("image"),g=o.data("thumb");void 0===h&&(h=null),void 0===g&&(g=null);d=o.attr("src"),h=h||d;g=(g=g||d)||h,h=h||g,u.urlThumb=g,u.urlImage=h,u.title=o.attr("alt"),u.objThumbImage=o,u.objThumbImage.attr("src",u.urlThumb)}else{if("image"==l)throw trace("Problematic gallery item found:"),trace(o),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");u.urlThumb=o.data("thumb"),u.title=o.data("title"),u.objThumbImage=null,u.urlImage=o.data("image")}1==i&&(void 0!==(c=o.data("thumb-mobile"))&&""!=c&&(u.urlThumb=c,"img"==s&&o.attr("src",u.urlThumb)),void 0!==(c=o.data("image-mobile"))&&""!=c&&(u.urlImage=c)),u.link=a,u.description=o.attr("title"),u.description||(u.description=o.data("description")),u.description||(u.description=""),u.isLoaded=!1,u.isThumbImageLoaded=!1,u.objPreloadImage=null,u.isBigImageLoadStarted=!1,u.isBigImageLoaded=!1,u.isBigImageLoadError=!1,u.imageWidth=0,u.imageHeight=0,u.thumbWidth=0,u.thumbHeight=0,u.thumbRatioByWidth=0,u.thumbRatioByHeight=0;var c=o.data("width"),a=o.data("height");c&&"number"==typeof c&&a&&"number"==typeof a&&(u.thumbWidth=c,u.thumbHeight=a,u.thumbRatioByWidth=c/a,u.thumbRatioByHeight=a/c);var _=(u.addHtml=null)==u.urlImage||""==u.urlImage,p=null==u.urlThumb||""==u.urlThumb;switch(u.type){case"youtube":u.videoid=o.data("videoid"),(_||p)&&(m=g_ugYoutubeAPI.getVideoImages(u.videoid),_&&(u.urlImage=m.preview),p&&(u.urlThumb=m.thumb,"img"==s&&o.attr("src",u.urlThumb))),g_temp.isYoutubePresent=!0;break;case"vimeo":u.videoid=o.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":u.videoogv=o.data("videoogv"),u.videowebm=o.data("videowebm"),u.videomp4=o.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":u.trackid=o.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":u.videoid=o.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var m=o.children("img");m.length&&(m=jQuery(m[0]),u.urlThumb=m.attr("src"),u.title=m.attr("alt"),u.objThumbImage=m);m=o.children().not("img:first-child");m.length&&(u.addHtml=m.clone())}u.objThumbImage&&(u.objThumbImage.removeAttr("data-description",""),u.objThumbImage.removeAttr("data-image",""),u.objThumbImage.removeAttr("data-thumb",""),u.objThumbImage.removeAttr("title","")),u.index=n,g_arrItems.push(u),n++}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return 1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){1==g_objThumbs.isItemThumbVisible(this)&&preloadItemImage(this)})}}function checkPreloadItemImage(e){if(1!=e.isBigImageLoadStarted&&1!=e.isBigImageLoaded&&1!=e.isBigImageLoadError)switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return 1;var i=e.urlImage;""!=i&&null!=i?(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this).data("itemIndex"),i=g_arrItems[e];i.isBigImageLoadError=!0,i.isBigImageLoaded=!1;var n=jQuery(this).attr("src");console.log("Can't load image: "+n),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[e,i.urlImage]),i.objThumbImage.attr("src",i.urlThumb)}),checkAllItemsStartedPreloading()):e.isBigImageLoadError=!0}function preloadNearBigImages(e){if(1!=g_temp.isAllItemsPreloaded){if(!(e=e||g_selectedItem))return 1;var t=e.index,e=t-1,t=t+1;0<e&&preloadItemImage(g_arrItems[e]),t<g_numItems&&preloadItemImage(g_arrItems[t])}}function checkAllItemsStartedPreloading(){if(1!=g_temp.isAllItemsPreloaded){for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return;g_temp.isAllItemsPreloaded=!0}}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying()}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var i=e.charCode||e.keyCode||e.which||0,n=!0;switch(i){case 39:t.nextItem();break;case 37:t.prevItem();break;default:n=!1}1==n&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[i,e])}function onGalleryResized(){var e,i;if(0==(i=t.getSize()).width)return!0;t.setSizeClass(),(i=t.getSize()).width==g_temp.lastWidth&&i.height==g_temp.lastHeight||(e=!1,!g_temp.funcCustomHeight||(i=g_temp.funcCustomHeight(i))&&(g_objWrapper.height(i),e=!0),0==e&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE))}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");if(g_galleryID!==n)return!0;e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),onGalleryResized()}function onItemImageUpdated(e,i){checkPreloadItemImage(t.getItem(i))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}"advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider&&(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover&&(g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)),1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){var i;t?"noitems"!=(i=t)&&(i=jQuery(t).clone()):i=g_objWrapper.children().clone(),g_objCache[e]=i}function removeAllSizeClasses(e){(e=e||g_objWrapper).removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;g_temp.playTimePassed+=i,g_temp.playTimeLastStep=e,g_temp.objProgress&&(e=g_temp.playTimePassed/g_options.gallery_play_interval,g_temp.objProgress.setProgress(e)),g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){if(null==g_selectedItem)return 1;g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,g_selectedItemIndex=-1}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}this.onItemBigImageLoaded=function(e,t){var i=(t=t||jQuery(this)).data("itemIndex"),i=g_arrItems[i];i.isBigImageLoaded=!0;t=g_functions.getImageOriginalSize(t);i.imageWidth=t.width,i.imageHeight=t.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");t=g_arrItems[i]}e=g_functions.getImageOriginalSize(e);t.imageWidth=e.width,t.imageHeight=e.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){e=e||{},e=jQuery.extend(g_temp.objCustomOptions,e),(g_objSlider=new UGSlider).init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,r){e.preventDefault(),0<i?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}var e;g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider&&(jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED),(e=g_objSlider.getElement()).off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)),1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(e<0)throw new Error("item with index: "+e+" not found");if(g_numItems<=e)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){e=(e="object"==typeof e?e.index:e)+1;if(!0!==t&&1==g_numItems)return null;if(g_numItems<=e){if(1!=g_options.gallery_carousel&&!0!==t)return null;e=0}return g_arrItems[e]},this.getPrevItem=function(e){e=(e="object"==typeof e?e.index:e)-1;if(e<0){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;e=g_numItems-1}return g_arrItems[e]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(i,n){g_objGallery.on(t.events.ITEM_CHANGE,function(){var e=t.getSelectedItem();i.html(e.title),n.html(e.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){var e;g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress&&(e=g_temp.objProgress.getElement(),g_temp.objProgress.setProgress(0),e.show()),g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){if(0==g_temp.isPlayMode)return!0;g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now()},this.pausePlaying=function(){if(1==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),g_objGallery.trigger(t.events.PAUSE_PLAYING)},this.continuePlaying=function(){if(0==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)},this.stopPlayMode=function(){g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress&&g_temp.objProgress.getElement().hide(),g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){for(var e in g_arrItems=g_functions.arrayShuffle(g_arrItems))g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){var n=(e="number"==typeof e?t.getItem(e):e).index;if(n==g_selectedItemIndex)return!0;unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode&&(t.resetPlaying(),1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying())},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&g_numItems<=e||(g_numItems<=e&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=-1==g_selectedItemIndex?0:g_selectedItemIndex-1;return 0==g_numItems||(0==g_options.gallery_carousel&&e<0||(e<0&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||!0===i||onGalleryResized()},this.setSizeClass=function(e,i){e=e||g_objWrapper;var n="";if((i=0==(i=i||t.getSize().width)?jQuery(window).width():i)<=480?n="ug-under-480":i<=780?n="ug-under-780":i<960&&(n="ug-under-960"),1==e.hasClass(n))return!0;removeAllSizeClasses(e),""!=n&&e.addClass(n)},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||e<=480},this.changeItems=function(e,t){runGallery(g_galleryID,"nochange",e=e||"noitems",t)},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(!n||"function"!=typeof n)throw new Error("ajaxRequest error: success function should be passed");if(""==g_options.gallery_urlajax)throw new Error("ajaxRequest error: Ajax url don't passed");t={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t=void 0===t?{}:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:t,success:function(e){return e?-1==e||0===e?(showErrorMessage("ajax error!!!"),!1):void 0===e.success?(showErrorMessage("The 'success' param is a must!"),!1):0==e.success?(showErrorMessage(e.message),!1):void n(e):(showErrorMessage("Empty ajax response!","Ajax Error"),!1)},error:function(e,t,i){console.log("Ajax Error!!! "+t)}})},this.requestNewItems=function(e,i,n){var r=g_options.gallery_enable_cache;n=n||e,1==(r=1==i?!1:r)&&g_objCache.hasOwnProperty(n)?(r=g_objCache[n],t.changeItems(r,n)):(g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},!0,function(e){e=e.html;t.changeItems(e,n)}))},this.run=function(e,t){var i,n,r;g_options.gallery_debug_errors;if(t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){"object"==typeof e?(r=e.message,i=e.lineNumber,n=e.fileName,e.stack,r+=" <br><br> in file: "+n,r+=" <b> line "+i+"</b>",trace(e)):r=e,showErrorMessage(r=r.replace("Error:",""))}else runGallery(e,t)}}function UGLightbox(){var i,l,n,u,d,h,o,r,s=this,a=jQuery(this),g=new UniteGalleryMain,c=new UGSlider,_=new UGFunctions,p=new UGTextPanel,m={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0},f={topPanelHeight:44,initTextPanelHeight:26,isOpened:!(this.events={LIGHTBOX_INIT:"lightbox_init"}),isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},b={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:f.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},v={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};function y(){1==f.isCompact&&1==m.lightbox_show_textpanel&&(m.lightbox_slider_image_padding_bottom=f.initTextPanelHeight),1==f.isCompact&&"inside"==m.lightbox_arrows_position&&(f.isArrowsInside=!0),1==f.isArrowsInside&&0==m.lightbox_arrows_inside_alwayson&&(f.isArrowsOnHoverMode=!0),0==m.lightbox_show_textpanel&&(f.isTopPanelEnabled=!1,f.topPanelHeight=0,m.lightbox_slider_image_padding_top=0)}function w(e){if(!c)return 1;c.setOptions({slider_image_padding_top:e}),c.refreshSlideItems()}function I(){var e,t,i;r&&(!p||0!=(e=r.height())&&0!=r.is(":visible")&&(t=e,i=p.getSize().height,e!=(t=(t=e!=f.topPanelHeight?f.topPanelHeight:t)<i?i:t)&&(r.height(t),c&&0==c.isAnimating()&&w(t))))}function E(e){if(0==f.isOpened)return!1;if(!p)return!1;if(!c)return!1;var t,i=_.getElementSize(l),n=p.getSize();if(0==n.width||120<n.height)return!1;if(e||(t=c.getSlideImage(),e=_.getElementSize(t)),0==e.height||0==e.width)return!1;if(e.bottom+n.height<i.height)return!1;i=c.getOptions(),n=n.height;if(n!=i.slider_image_padding_bottom){n={slider_image_padding_bottom:n};if(0==c.isAnimating())return c.setOptions(n),c.refreshSlideItems(),!0}return!1}function T(e){_.getElementSize(l);var t,i,n=c.getSlideImage(),r=_.getElementSize(n);0!=r.width&&(f.textPanelLeft=r.left,f.textPanelTop=r.bottom,n=r.width,o&&(n-=(t=_.getElementSize(o)).width,t=r.right-t.width,_.placeElement(o,t,f.textPanelTop)),p&&(p.show(),p.refresh(!0,!0,n),(t=r)||(n=c.getSlideImage(),t=_.getElementSize(n)),f.textPanelTop=t.bottom,!0===i&&p.positionPanel(f.textPanelTop,f.textPanelLeft)),0==E(r)&&(f.positionFrom="handleCompactTextpanelSizes",p&&(p.positionPanel(f.textPanelTop,f.textPanelLeft),!0===e&&(e(),k()))))}function S(){return 0==c.isCurrentSlideType("image")||1==c.isCurrentImageInPlace()}function x(e,t){var i,n,r,o,s,a;0!=f.isArrowsInside&&u&&(o=S(),u.show(),d.show(),f.positionFrom="positionArrowsInside",1==f.isArrowsOnHoverMode&&1==o&&0==A()&&M(!0),o=(r=0==o?(i=_.getElementRelativePos(u,"left",m.lightbox_arrows_offset),n=_.getElementRelativePos(u,"middle"),_.getElementRelativePos(d,"right",m.lightbox_arrows_offset)):(s=c.getSlideImage(),a=_.getElementSize(s),_.getElementSize(c.getElement()),i=_.getElementRelativePos(u,"left",0,s)+a.left+m.lightbox_arrows_inside_offset,n=_.getElementRelativePos(u,"middle",0,s)+a.top,_.getElementRelativePos(u,"right",0,s)+a.left-m.lightbox_arrows_inside_offset),n),!0===t?(s={left:i,top:n},a={left:r,top:o},u.stop().animate(s,{duration:f.fadeDuration}),d.stop().animate(a,{duration:f.fadeDuration})):(u.stop(),d.stop(),_.placeElement(u,i,n),_.placeElement(d,r,o)),1==e&&z(t))}function P(e,t){f.positionFrom=null;var i,n,r,o,s=S(),a=_.getElementRelativePos(h,"right",2,l);0==s?(o=2,r=a):(n=c.getSlideImage(),i=_.getElementSize(n),s=_.getElementSize(c.getElement()),n=_.getElementSize(h),s.top==s.height&&(s.top=0),r=s.left+i.right-n.width/2+m.lightbox_compact_closebutton_offsetx,(o=s.top+i.top-n.height/2-m.lightbox_compact_closebutton_offsety)<2&&(o=2),a<r&&(r=a)),!0===t?(a={left:r,top:o},h.stop().animate(a,{duration:f.fadeDuration})):(h.stop(),_.placeElement(h,r,o)),!0===e&&function(e){!0!==e&&h.stop();h.fadeTo(f.fadeDuration,1)}(t)}function t(){h&&h.stop().fadeTo(f.fadeDuration,0),e(),C(),f.positionFrom="hideCompactElements",1==f.isArrowsInside&&M()}function j(){var e,t=_.getElementSize(l);r&&_.setElementSizeAndPosition(r,0,0,t.width,f.topPanelHeight),u&&0==f.isArrowsInside&&(1==m.lightbox_hide_arrows_onvideoplay&&(u.show(),d.show()),_.placeElement(u,"left","middle",m.lightbox_arrows_offset),_.placeElement(d,"right","middle",m.lightbox_arrows_offset)),0==f.isCompact&&_.placeElement(h,"right","top",2,2),p&&(f.positionFrom="positionElements",0==f.isCompact?(e=t,n={},i=m.lightbox_textpanel_width,e.width-47-40<i?(n.textpanel_padding_left=47,n.textpanel_padding_right=40,n.textpanel_title_text_align="center",n.textpanel_desc_text_align="center"):(n.textpanel_padding_left=Math.floor((e.width-i)/2),n.textpanel_padding_right=n.textpanel_padding_left,n.textpanel_title_text_align="left",n.textpanel_desc_text_align="left",m.lightbox_textpanel_title_text_align&&(n.textpanel_title_text_align=m.lightbox_textpanel_desc_text_align),m.lightbox_textpanel_desc_text_align&&(n.textpanel_desc_text_align=m.lightbox_textpanel_desc_text_align)),p.setOptions(n),p.refresh(!0,!0),I(),p.positionPanel()):(H(),k()));var i=t.width,n=t.height;c&&(r&&(t=r.height(),c.setOptions({slider_image_padding_top:t})),c.setSize(i,n),c.setPosition(0,0))}function e(){p&&p.getElement().stop().fadeTo(f.fadeDuration,0)}function C(){o&&o.stop().fadeTo(f.fadeDuration,0)}function A(){if(!f.lastMouseX)return!0;var e={pageX:f.lastMouseX,pageY:f.lastMouseY};return c.isMouseInsideSlideImage(e)}function M(e,t){return u&&(1==f.isArrowsOnHoverMode&&!1===t?(A(),1):void(!0===e?(u.stop().fadeTo(0,0),d.stop().fadeTo(0,0)):(u.stop().fadeTo(f.fadeDuration,0),d.stop().fadeTo(f.fadeDuration,0))))}function z(e,t){return u&&(1==f.isArrowsOnHoverMode&&!0!==t&&1==S()||(1==c.isSwiping()||(!0!==e&&(u.stop(),d.stop()),u.fadeTo(f.fadeDuration,1),void d.fadeTo(f.fadeDuration,1))))}function O(e){p&&(e=e||c.getCurrentItem(),p.setTextPlain(e.title,e.description))}function L(e){var t;o&&(e=e||c.getCurrentItem(),t=g.getNumItems(),e=e.index+1,o.html(e+" / "+t))}function H(){p&&p.getElement().show().stop().fadeTo(f.fadeDuration,1)}function k(){o&&o.stop().fadeTo(f.fadeDuration,1)}function N(){if(0==f.isCompact)return!0;t()}function D(){if(0==f.isCompact)return!0;f.positionFrom="onZoomChange",P(!1,!0),x(!1,!0),1==f.isCompact&&(0==(c.isCurrentSlideType("image")&&1==c.isCurrentImageInPlace())?(e(),C()):(f.positionFrom="onZoomChange",H(),k()))}function R(){if(0==f.isCompact)return!0;f.positionFrom="onSliderAfterReturn",P(!0),x(!0),0==E()&&T(),H(),k()}function G(e,t){return t=jQuery(t),0==f.isCompact||(0==c.isSlideCurrent(t)||(f.positionFrom="onSliderAfterPutImage",P(!0),x(!0),void T()))}function Q(){var e,t=c.getOptions().slider_image_padding_top;!r||(e=r.height())!=t&&w(e),1==f.isCompact&&(O(),L(),f.positionFrom="onSliderTransitionEnd",P(!0),x(!0),0==c.isSlideActionActive()&&0==E()&&T(),H(),k())}function W(e,t){0==f.isCompact?(o&&L(t),p&&(O(t),0==f.isRightNowOpened&&(p.positionElements(!1),I(),p.positionPanel()))):0==c.isAnimating()&&(p&&O(t),o&&L(t)),0==f.isSliderChangedOnce&&(f.isSliderChangedOnce=!0,a.trigger(s.events.LIGHTBOX_INIT))}function F(e,t){return!("image"==c.getSlideType()||0!=f.isCompact||!c.isSlideActionActive())||(1==c.isPreloading()?(s.close("slider"),!0):void(1==m.lightbox_close_on_emptyspace&&0==c.isMouseInsideSlideImage(t)&&s.close("slider_inside")))}function B(){j()}function Y(){r?r&&r.hide():o&&o.hide(),u&&1==m.lightbox_hide_arrows_onvideoplay&&(u.hide(),d.hide())}function U(){r?(r&&r.show(),I()):o&&o.show(),u&&1==m.lightbox_hide_arrows_onvideoplay&&(u.show(),d.show())}function V(e,t,i){var n=!1;switch(t){case 27:1==f.isOpened&&s.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==f.isOpened&&1==n&&i.preventDefault()}function X(){1==f.isArrowsOnHoverMode&&z(!1,!0)}function $(e){f.positionFrom="hideCompactElements",1==f.isArrowsOnHoverMode&&1==S()&&M(!1,!0)}function q(e){f.lastMouseX=e.pageX,f.lastMouseY=e.pageY,1==(!u||(0==u.is(":visible")||1!=u.css("opacity")))&&A()&&0==c.isAnimating()&&(f.positionFrom="onMouseMove",u&&0==u.is(":animated")&&z(!1,!0))}function Z(e,t,i,n){if(0==f.isOpened)return!0;switch(m.gallery_mousewheel_role){default:case"zoom":"image"!=c.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":g.onGalleryMouseWheel(e,t,i,n)}}this.destroy=function(){var e;jQuery(document).unbind("mousemove"),n.off("touchstart"),n.off("touchend"),h.off("click"),i.off(g.events.ITEM_CHANGE),c&&(jQuery(c).off(c.events.TRANSITION_END),jQuery(c).off(c.events.CLICK),jQuery(c).off(c.events.START_DRAG),jQuery(c).off(c.events.TRANSITION_START),jQuery(c).off(c.events.AFTER_DRAG_CHANGE),jQuery(c).off(c.events.AFTER_RETURN),e=c.getVideoObject(),jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(c).on(c.events.IMAGE_MOUSEENTER,X),jQuery(c).on(c.events.IMAGE_MOUSELEAVE,$),c.destroy()),jQuery(window).unbind("resize"),i.off(g.events.GALLERY_KEYPRESS,V),l.off("mousewheel"),l.remove()},this.open=function(e){e=g.getItem(e);f.isOpened=!0,f.isRightNowOpened=!0,setTimeout(function(){f.isRightNowOpened=!1},100),c&&c.setItem(e,"lightbox_open"),p&&p.setTextPlain(e.title,e.description),n.stop().fadeTo(0,0),l.show(),l.fadeTo(0,1),n.stop().fadeTo(f.fadeDuration,m.lightbox_overlay_opacity),j(),1==f.isCompact&&(1==c.isPreloading()?(h&&h.hide(),u&&1==f.isArrowsInside&&(u.hide(),d.hide()),o&&o.hide(),p&&p.hide()):1==f.isArrowsInside&&(u.hide(),d.hide())),c&&c.startSlideAction(),i.trigger(g.events.OPEN_LIGHTBOX,e)},this.close=function(e){f.isOpened=!1,1==f.isCompact&&t(),c&&c.stopSlideAction(),"image"!=c.getSlideType()?l.hide():l.fadeTo(f.fadeDuration,0,function(){l.hide()}),i.trigger(g.events.CLOSE_LIGHTBOX)},this.init=function(e,t){t=t,g=e=e,i=jQuery(e),m=jQuery.extend(m,b),m=jQuery.extend(m,t),f.originalOptions=jQuery.extend({},m),"compact"==m.lightbox_type&&(f.isCompact=!0,m=jQuery.extend(m,v),m=jQuery.extend(m,t)),y(),c=1==f.putSlider?(g.initSlider(m,"lightbox"),g_objects=e.getObjects(),g_objects.g_objSlider):null,1==m.lightbox_show_textpanel?p.init(g,m,"lightbox"):p=null},this.putHtml=function(){var e,t;g.isSmallWindow()&&1==f.isCompact&&(f.isCompact=!1,y(),f.isArrowsInside=!1,f.isArrowsOnHoverMode=!1,(m=jQuery.extend({},f.originalOptions)).lightbox_arrows_position="sides",c.setOptions(m)),t=e="",e+="<div class='ug-gallery-wrapper ug-lightbox"+(t=1==f.isCompact?" ug-lightbox-compact":t)+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==f.isCompact&&f.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",m.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):m.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",l=jQuery(e),jQuery("body").append(l),c&&c.setHtml(l),n=l.children(".ug-lightbox-overlay"),0==f.isCompact&&1==f.isTopPanelEnabled&&0==(r=l.children(".ug-lightbox-top-panel")).length&&(r=null),h=l.find(".ug-lightbox-button-close"),m.lightbox_show_numbers&&(o=l.find(".ug-lightbox-numbers")),u=l.children(".ug-lightbox-arrow-left"),d=l.children(".ug-lightbox-arrow-right"),p&&(r?p.appendHTML(r):p.appendHTML(l))},this.run=function(){var e;null!==m.lightbox_overlay_color&&n.css("background-color",m.lightbox_overlay_color),null!==m.lightbox_overlay_opacity&&n.fadeTo(0,m.lightbox_overlay_opacity),r&&null!==m.lightbox_top_panel_opacity&&r.children(".ug-lightbox-top-panel-overlay").fadeTo(0,m.lightbox_top_panel_opacity),o&&(e={},null!==m.lightbox_numbers_size&&(e["font-size"]=m.lightbox_numbers_size+"px"),m.lightbox_numbers_color&&(e.color=m.lightbox_numbers_color),null!==m.lightbox_numbers_padding_right&&(e["padding-right"]=m.lightbox_numbers_padding_right+"px"),null!==m.lightbox_numbers_padding_top&&(e["padding-top"]=m.lightbox_numbers_padding_top+"px"),o.css(e)),c&&c.run(),n.on("touchstart",function(e){e.preventDefault()}),n.on("touchend",function(e){s.close("overlay")}),_.addClassOnHover(d,"ug-arrow-hover"),_.addClassOnHover(u,"ug-arrow-hover"),_.addClassOnHover(h),g.setNextButton(d),g.setPrevButton(u),h.click(function(){s.close("button")}),i.on(g.events.ITEM_CHANGE,W),c&&(jQuery(c).on(c.events.TRANSITION_END,Q),jQuery(c).on(c.events.CLICK,F),e=c.getVideoObject(),jQuery(e).on(e.events.PLAY_START,Y),jQuery(e).on(e.events.PLAY_STOP,U),jQuery(c).on(c.events.START_DRAG,N),jQuery(c).on(c.events.TRANSITION_START,N),jQuery(c).on(c.events.AFTER_DRAG_CHANGE,R),jQuery(c).on(c.events.AFTER_RETURN,R),jQuery(c).on(c.events.AFTER_PUT_IMAGE,G),jQuery(c).on(c.events.ZOOM_CHANGE,D),jQuery(c).on(c.events.IMAGE_MOUSEENTER,X),jQuery(c).on(c.events.IMAGE_MOUSELEAVE,$)),jQuery(window).resize(function(){return 0==f.isOpened||void _.whenContiniousEventOver("lightbox_resize",B,100)}),i.on(g.events.GALLERY_KEYPRESS,V),1==f.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",q),l.on("mousewheel",Z)}}function UGCarousel(){var n,r,a,l,i=this,t=jQuery(this),u=new UniteGalleryMain,d=new UGFunctions,o=new UGTileDesign,s=new UGThumbsGeneral,h={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1},g={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!(this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"}),startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};function c(e,t){t=t||g.initTileHeight/g.initTileWidth*e,g.tileWidth=e,o.setOptions({tile_width:e,tile_height:t}),h.tile_width=e,h.tile_height=t,o.resizeAllTiles(e),w(!0)}function e(){if(null===g.carouselMaxWidth)throw new Error("The carousel width not set");var e;g.tileWidth<g.initTileWidth?(c(e=(e=g.carouselMaxWidth-2*h.carousel_padding)>g.initTileWidth?g.initTileWidth:e),t=d.getNumItemsInSpace(g.carouselMaxWidth,e,h.carousel_space_between_tiles)):(t=d.getNumItemsInSpace(g.carouselMaxWidth,g.tileWidth,h.carousel_space_between_tiles))<=0&&(t=1,c(e=g.carouselMaxWidth-2*h.carousel_padding));var t=d.getSpaceByNumItems(t,g.tileWidth,h.carousel_space_between_tiles);t+=2*h.carousel_padding,a.width(t),1==g.isFirstTimeRun?(o.initEvents(),a.bind("mousedown touchstart",C),jQuery("body").bind("mousemove touchmove",A),jQuery(window).add("body").bind("mouseup touchend",M),a.hover(z,O),o.run(),jQuery.each(r,function(e,t){t.objThumbWrapper.data("index",e),n.trigger(g.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),w(!0)):(1==h.carousel_autoplay&&i.pauseAutoplay(),S(0,!1)),1==h.carousel_autoplay&&i.startAutoplay(),d.placeElement(l,0,h.carousel_padding),P(),g.isFirstTimeRun=!1}function _(){return d.getElementSize(l).left}function p(e){return d.getMousePosition(e).pageX}function m(){return l.children(".ug-thumb-wrapper")}function f(e){return d.getNumItemsInSpace(e,g.tileWidth,h.carousel_space_between_tiles)}function b(){return m().length}function v(e){I(e);var t=m();return jQuery(t[e])}function y(){return f(d.getElementSize(a).width)}function w(e){e=e||!1;var i,n=m(),r=0,o=0;return jQuery.each(n,function(e,t){t=jQuery(t),d.placeElement(t,r,0);t=d.getElementSize(t);r+=t.width+h.carousel_space_between_tiles,o=Math.max(o,t.height),e==n.length-1&&(i=t.right)}),l.width(i),o+=2*h.carousel_padding,!0===e&&(l.height(o),a.height(o)),S(g.numCurrent,!1),i}function I(e){if(e>m().length-1)throw new Error("Wrogn tile number: "+e)}function E(e,i){e=function(e,t,i){if(null==(a=e.data("index")))throw new Error("every tile should have index!");for(var n,r=[],o=0;o<t;o++){if(!(n="prev"==i?u.getPrevItem(a,!0):u.getNextItem(a,!0)))throw new Error("the item to add is empty");var s=n.objTileOriginal.clone(!0,!0),a=n.index;s.addClass("cloned"),r.push(s)}return r}("left"==i?l.children(".ug-thumb-wrapper").first():l.children(".ug-thumb-wrapper").last(),e,"left"==i?"prev":"next");jQuery.each(e,function(e,t){"left"==i?l.prepend(t):l.append(t),n.trigger(g.eventSizeChange,t),o.loadTileImage(t)})}function T(e,t){I(void 0);for(var i=m(),n=i.length,r=0;r<e;r++)("left"==t?jQuery(i[r]):jQuery(i[n-1-r])).remove()}function S(e,t,i){if(void 0===t){t=!0;if(l.is(":animated"))return 1}var n=v(e),r={left:-d.getElementSize(n).left+h.carousel_padding+"px"};!0===t?(n=h.carousel_scroll_duration,t=h.carousel_scroll_easing,!0===i&&(n=g.scrollShortDuration,t=g.scrollShortEasing),l.stop(!0).animate(r,{duration:n,easing:t,queue:!1,complete:function(){g.numCurrent=e,P()}})):(g.numCurrent=e,l.css(r))}function x(){var e,t,i,n;S((e=-_(),t=f(e),i=d.getElementSize(v(t)).left,n=d.getElementSize(v(t+1)).left,Math.abs(i-e)<Math.abs(n-e)?t:t+1),!0,!0)}function P(){var e=(r=-_(),g.sideSpace-r),t=(o=d.getElementSize(a),s=(s=d.getElementSize(l)).width-o.width+s.left,g.sideSpace-s),i=0,n=0,r=0,o=0,s=b();if(e>g.spaceActionSize?(E(i=f(e),"left"),g.numCurrent+=i):e<-g.spaceActionSize&&(T(r=f(Math.abs(e)),"left"),g.numCurrent-=r),t>g.spaceActionSize?E(n=f(t),"right"):t<-g.spaceActionSize&&T(o=f(Math.abs(t)),"right"),s<o)throw new Error("Can't remove more then num tiles");s=!1;return(i||n||r||o)&&(w(),s=!0),s}function j(){"left"==h.carousel_autoplay_direction?i.scrollRight(1):i.scrollLeft(1)}function C(e){if(1==g.touchActive)return!0;g.touchActive=!0,i.pauseAutoplay(),g.startTime=jQuery.now(),g.startMousePos=p(e),g.startInnerPos=_(),g.lastTime=g.startTime,g.lastMousePos=g.startMousePos,d.storeEventData(e,g.storedEventID)}function A(e){if(0==g.touchActive)return!0;d.updateStoredEventData(e,g.storedEventID),e.preventDefault();var t=null;if("vert"===(t=1==h.carousel_vertical_scroll_ondrag?d.handleScrollTop(g.storedEventID):t))return!0;g.lastMousePos=p(e);var i=g.lastMousePos-g.startMousePos,t=g.startInnerPos+i,e=0<i?"prev":"next";0<t&&"prev"==e&&(t/=3),t<-d.getElementSize(l).width&&"next"==e&&(t=g.startInnerPos+i/3),t=t,l.css({left:t+"px"})}function M(e){if(0==g.touchActive)return!0;g.touchActive=!1,x(),i.unpauseAutoplay()}function z(e){if(0==h.carousel_autoplay_pause_onhover)return!0;1==g.isPlayMode&&0==g.isPaused&&i.pauseAutoplay()}function O(e){if(0==h.carousel_autoplay_pause_onhover)return!0;i.unpauseAutoplay()}function L(){var e=g.lastTime-g.startTime,t=Math.abs(g.lastMousePos-g.startMousePos);return!(300<e)&&!(30<t)}this.startAutoplay=function(){g.isPlayMode=!0,g.isPaused=!1,t.trigger(i.events.START_PLAY),g.handle&&clearInterval(g.handle),g.handle=setInterval(j,h.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==g.isPlayMode||(0==g.isPaused||void i.startAutoplay())},this.pauseAutoplay=function(){if(0==g.isPlayMode)return!0;g.isPaused=!0,g.handle&&clearInterval(g.handle),t.trigger(i.events.PAUSE_PLAY)},this.stopAutoplay=function(){if(0==g.isPlayMode)return!0;g.isPaused=!1,g.isPlayMode=!1,g.handle&&clearInterval(g.handle),t.trigger(i.events.STOP_PLAY)},this.destroy=function(){g.handle&&clearInterval(g.handle),t.off(i.events.START_PLAY),t.off(i.events.STOP_PLAY),a.unbind("mousedown"),a.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),a.off("mouseenter").off("mouseleave"),o.destroy()},this.init=function(e,t,i){i&&this.setMaxWidth(i),t=t,g_objects=(e=e).getObjects(),u=e,jQuery(e),n=g_objects.g_objWrapper,r=g_objects.g_arrItems,h=jQuery.extend(h,t),o.setFixedMode(),o.setApproveClickFunction(L),o.init(e,h),s=o.getObjThumbs(),h=o.getOptions(),g.initTileWidth=h.tile_width,g.initTileHeight=h.tile_height,g.tileWidth=h.tile_width},this.setMaxWidth=function(e){g.carouselMaxWidth=e},this.setHtml=function(e){n.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),a=n.children(".ug-carousel-wrapper"),l=a.children(".ug-carousel-inner"),o.setHtml(l),s.getThumbs().fadeTo(0,1)},this.getElement=function(){return a},this.getObjTileDesign=function(){return o},this.getEstimatedHeight=function(){return h.tile_height+2*h.carousel_padding},this.run=function(){e()},this.scrollRight=function(e){e&&"object"!=typeof e||(e=h.carousel_navigation_numtiles);var t=y(),e=g.numCurrent-(e=t<e?t:e);S(e=e<=0?0:e)},this.scrollLeft=function(e){e&&"object"!=typeof e||(e=h.carousel_navigation_numtiles);var t=y();t<e&&(e=t);t=b(),e=g.numCurrent+e;S(e=t<=e?t-1:e)},this.setScrollLeftButton=function(e){d.setButtonMobileReady(e),d.setButtonOnClick(e,i.scrollLeft)},this.setScrollRightButton=function(e){d.setButtonMobileReady(e),d.setButtonOnClick(e,i.scrollRight)},this.setPlayPauseButton=function(e){d.setButtonMobileReady(e),1==g.isPlayMode&&0==g.isPaused&&e.addClass("ug-pause-icon"),t.on(i.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),t.on(i.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),d.setButtonOnClick(e,function(){0==g.isPlayMode||1==g.isPaused?i.startAutoplay():i.stopAutoplay()})}}function UGTabs(){jQuery(this);var i,n,r=new UniteGalleryMain,o=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});function e(){"select"==o.tabs_type?n.change(a):i.click(t)}function s(e){r.requestNewItems(e)}function t(){var e=o.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;i.not(t).removeClass(e),t.addClass(e);t=t.data("catid");if(!t)return!0;s(t)}function a(){var e=jQuery(this).val();if(!e)return!0;s(e)}this.events={},this.destroy=function(){n&&n.off("change"),i&&i.off("click")},this.init=function(e,t){t=t,r=e,jQuery(r),"select"==(o=jQuery.extend(o,t)).tabs_type?n=jQuery(o.tabs_container):i=jQuery(o.tabs_container+" .ug-tab")},this.run=function(){e()}}function UG_API(e){var n,r=this,o=(jQuery(r),new UniteGalleryMain),s=[];function a(e){var t,i={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},n=e.objThumbImage.data();for(t in n){switch(t){case"image":case"description":continue}i[t]=n[t]}return i}o=e,n=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,t,i){switch(!0!==i&&s.push({event:e,func:t}),e){case"item_change":n.on(o.events.ITEM_CHANGE,function(){var e=a(o.getSelectedItem());t(e.index,e)});break;case"resize":n.on(o.events.SIZE_CHANGE,t);break;case"enter_fullscreen":n.on(o.events.ENTER_FULLSCREEN,t);break;case"exit_fullscreen":n.on(o.events.EXIT_FULLSCREEN,t);break;case"play":n.on(o.events.START_PLAY,t);break;case"stop":n.on(o.events.STOP_PLAY,t);break;case"pause":n.on(o.events.PAUSE_PLAYING,t);break;case"continue":n.on(o.events.CONTINUE_PLAYING,t);break;case"open_lightbox":n.on(o.events.OPEN_LIGHTBOX,t);break;case"close_lightbox":n.on(o.events.CLOSE_LIGHTBOX,t);break;default:console&&console.log("wrong api event: "+e)}n.trigger(r.events.API_ON_EVENT,[e,t])},this.play=function(){o.startPlayMode()},this.stop=function(){o.stopPlayMode()},this.togglePlay=function(){o.togglePlayMode()},this.enterFullscreen=function(){o.toFullScreen()},this.exitFullscreen=function(){o.exitFullScreen()},this.toggleFullscreen=function(){o.toggleFullscreen()},this.resetZoom=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomBack()},this.zoomIn=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomIn()},this.zoomOut=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomOut()},this.nextItem=function(){o.nextItem()},this.prevItem=function(){o.prevItem()},this.selectItem=function(e){o.selectItem(e)},this.resize=function(e,t){t?o.resize(e,t):o.resize(e)},this.getItem=function(e){return a(o.getItem(e))},this.getNumItems=function(){return o.getNumItems()},this.reloadGallery=function(e){o.run(null,e=e||{}),s.map(function(e){r.on(e.event,e.func,!0)})},this.destroy=function(){o.destroy()},n.trigger(r.events.API_INIT_FUNCTIONS,r)}jQuery.fn.unitegallery=function(e){var t="#"+jQuery(this).attr("id");e=e||{};var i=new UniteGalleryMain;return i.run(t,e),new UG_API(i)};